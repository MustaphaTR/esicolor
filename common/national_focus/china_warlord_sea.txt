focus_tree = {
	id = china_warlord_sea_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			OR = {
				state_originally_from_YUN = yes
				state_originally_from_SIK = yes
				state_originally_from_GXC = yes
				state_originally_from_SHX = yes
				state_originally_from_XSM = yes
				state_originally_from_GDC = yes
				state_originally_from_XIC = yes
				state_originally_from_SND = yes
				state_originally_from_KHM = yes
				state_originally_from_NXM = yes
				state_originally_from_GSM = yes
				state_originally_from_SIC = yes
				state_originally_from_KUM = yes
				state_originally_from_HBC = yes
				state_originally_from_CHI = yes
				state_originally_from_PRC = yes
			}
		}
	}

	default = no

	continuous_focus_position = { x = 50 y = 1350 }

	focus = {
		id = CHI_sea_secure_internal_politics
		icon = GFX_goal_generic_major_alliance
		x = 7
		y = 0

		cost = 8

		search_filters = { FOCUS_FILTER_POLITICAL }
	
		available_if_capitulated = yes

		completion_reward = {
			add_political_power = 120
			# warlord_rule_all_parties = yes
		}
	}

	#########################
	##### Nationalists ######
	#########################

	focus = {
		id = CHI_sea_cooperation_with_the_nationalists
		icon = GFX_focus_chi_cooperation_with_the_nationalists
		prerequisite = { focus = CHI_sea_secure_internal_politics }
		mutually_exclusive = { focus = CHI_sea_cooperation_with_the_communists focus = CHI_sea_opposition }
		available = {
			OR = {
				has_government = democratic
				has_idea = democratic_influence
				has_idea_with_trait = democratic_reformer
				has_government = neutrality
				has_idea = neutrality_idea
				has_idea = neutrality_influence
				has_idea_with_trait = staunch_monarchist
			}
		}
		x = -6
		y = 1
		relative_position_id = CHI_sea_secure_internal_politics

		cost = 8

		ai_will_do = {
			factor = 95
			modifier = {
				factor = 0.1
				any_neighbor_country = {
					is_major = yes
					OR = {
						has_government = communism
						has_government = fascism
					}
				}
				NOT = {
					any_neighbor_country = {
						is_major = yes
						has_government = democratic
					}
				}
			}
			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = ai_go_fascism
					has_country_flag = ai_go_communism
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_stability = 0.05
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = CHI_sea_anti_opposition_campaigns
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_sea_cooperation_with_the_nationalists focus = CHI_sea_cooperation_with_the_communists }
		available = {
			if = {
				limit = {
					has_completed_focus = CHI_sea_cooperation_with_the_nationalists
				}

				any_neighbour_valid_for_war_goal_communist_or_fascist = yes
			}
			else_if = {
				limit = {
					has_completed_focus = CHI_sea_cooperation_with_the_communists
				}

				any_neighbour_valid_for_war_goal_non_communist = yes
			}
		}
		x = 3
		y = 1
		relative_position_id = CHI_sea_cooperation_with_the_nationalists

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = CHI_sea_cooperation_with_the_nationalists
				}

				war_goal_effect_on_random_neighbour_communist_or_fascist = yes
			}
			else_if = {
				limit = {
					has_completed_focus = CHI_sea_cooperation_with_the_communists
				}

				war_goal_effect_on_random_neighbour_non_communist = yes
			}
			if = {
				limit = {
					is_in_faction = yes
				}
				add_faction_influence_ratio	= 0.01
			}
		}
	}

	focus = {
		id = CHI_sea_new_model_province
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CHI_sea_cooperation_with_the_nationalists }
		x = 0
		y = 1
		relative_position_id = CHI_sea_cooperation_with_the_nationalists

		cost = 4

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			if = {
				limit = {
					is_in_faction = yes
				}
				add_faction_influence_ratio	= 0.01
			}
		}
	}

	focus = {
		id = CHI_sea_root_out_corruption
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = CHI_sea_new_model_province }
		mutually_exclusive = { focus = CHI_sea_embrace_the_illicit_trade }
		x = -1
		y = 1
		relative_position_id = CHI_sea_new_model_province

		cost = 8

		ai_will_do = {
			base = 5
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = CHI_government_corruption_solved
		}
	}

	focus = {
		id = CHI_sea_embrace_the_illicit_trade
		icon = GFX_goal_generic_trade
		prerequisite = { focus = CHI_sea_new_model_province }
		mutually_exclusive = { focus = CHI_sea_root_out_corruption }
		x = 1
		y = 1
		relative_position_id = CHI_sea_new_model_province

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_embrace_the_opium_trade
		}
	}

	focus = {
		id = CHI_sea_land_reform
		icon = GFX_focus_generic_land_redistribution
		prerequisite = { focus = CHI_sea_root_out_corruption }
		x = -2
		y = 2
		relative_position_id = CHI_sea_new_model_province

		cost = 4

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					impassable = no
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1 
			}
		}
	}

	focus = {
		id = CHI_sea_reform_the_administration
		icon = GFX_focus_generic_improve_the_administration
		prerequisite = { focus = CHI_sea_root_out_corruption focus = CHI_sea_embrace_the_illicit_trade }
		x = 0
		y = 2
		relative_position_id = CHI_sea_new_model_province

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CHI_effective_bureaucracy

			if = {
				limit = {
					is_in_faction = yes
				}
				add_faction_influence_ratio	= 0.02
			}
		}
	}

	focus = {
		id = CHI_tsr_repoen_the_natioal_assembly
		icon = GFX_focus_CHI_lay_the_foundation_for_a_united_china
		prerequisite = { focus = CHI_sea_land_reform focus = CHI_sea_reform_the_administration }
		mutually_exclusive = { focus = CHI_sea_institute_a_dictatorship }
		available = {
			OR = {
				has_government = democratic
				has_idea = democratic_influence
				has_idea_with_trait = democratic_reformer
			}
		}
		x = -3
		y = 3
		relative_position_id = CHI_sea_new_model_province

		cost = 8

		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = yes

		ai_will_do = {
			factor = 95
			modifier = {
				factor = 0.1
				any_neighbor_country = {
					is_major = yes
					OR = {
						has_government = communism
						has_government = fascism
					}
				}
				NOT = {
					any_neighbor_country = {
						is_major = yes
						has_government = democratic
					}
				}
			}
			modifier = {
				factor = 0

				NOT = {
					has_government = democratic
					has_country_flag = ai_go_democratic
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus democracy_focus"
			make_current_leader_democratic = yes
			add_timed_idea = {
				idea = democratic_ideals
				days = 720
			}
		}
	}

	focus = {
		id = CHI_sea_constitutional_reform
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = CHI_tsr_repoen_the_natioal_assembly }
		x = -1
		y = 1
		relative_position_id = CHI_tsr_repoen_the_natioal_assembly

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = CHI_sea_executive_yuan
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CHI_tsr_repoen_the_natioal_assembly }
		x = 1
		y = 1
		relative_position_id = CHI_tsr_repoen_the_natioal_assembly

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = CHI_executive_yuan
		}
	}

	focus = {
		id = CHI_sea_legislative_yuan
		icon = GFX_focus_chi_legislative_yuan
		prerequisite = { focus = CHI_sea_executive_yuan }
		x = 0
		y = 1
		relative_position_id = CHI_sea_executive_yuan

		cost = 8

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				is_subject = no
				has_government = democratic
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			swap_ideas = {
				remove_idea = CHI_executive_yuan
				add_idea = CHI_legislative_yuan
			}
		}
	}

	focus = {
		id = CHI_sea_judicial_yuan
		icon = GFX_goal_generic_defence
		prerequisite = { focus = CHI_sea_constitutional_reform }
		x = 0
		y = 1
		relative_position_id = CHI_sea_constitutional_reform

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_sea_control_yuan
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = CHI_sea_judicial_yuan }
		prerequisite = { focus = CHI_sea_legislative_yuan }
		x = 1
		y = 1
		relative_position_id = CHI_sea_judicial_yuan

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
		}
	}

	focus = {
		id = CHI_sea_examination_yuan
		icon = GFX_focus_chi_examination_yuan
		prerequisite = { focus = CHI_sea_control_yuan }
		x = 0
		y = 1
		relative_position_id = CHI_sea_control_yuan

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_political_power = 150
			add_stability = 0.05 
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
		}
	}

	focus = {
		id = CHI_sea_propaganda_campaigns
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_tsr_repoen_the_natioal_assembly focus = CHI_sea_institute_a_dictatorship }
		x = 3
		y = 1
		relative_position_id = CHI_tsr_repoen_the_natioal_assembly

		cost = 4

		ai_will_do = {
			base = 1
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			set_rule = { can_create_factions = yes }
			custom_effect_tooltip = CHI_propaganda_decisions_tt
			set_country_flag = tsr_warlord_propaganda
		}
	}

	focus = {
		id = CHI_sea_technological_cooperation
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = CHI_sea_propaganda_campaigns }		
		x = 0
		y = 1
		relative_position_id = CHI_sea_propaganda_campaigns

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		bypass = {
			amount_research_slots > 4
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
			}
		}
	}

	focus = {
		id = CHI_sea_institute_a_dictatorship
		icon = GFX_focus_prc_remove_chiang_kai_shek
		prerequisite = { focus = CHI_sea_land_reform focus = CHI_sea_reform_the_administration }
		mutually_exclusive = { focus = CHI_tsr_repoen_the_natioal_assembly }
		available = {
			OR = {
				has_government = neutrality
				has_idea = neutrality_idea
				has_idea = neutrality_influence
				has_idea_with_trait = staunch_monarchist
			}
		}
		x = 2
		y = 1
		relative_position_id = CHI_sea_reform_the_administration

		cost = 8

		ai_will_do = {
			base = 20
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CHI_sea_institute_a_dictatorship"
			make_current_leader_non_aligned = yes
			add_timed_idea = {
				idea = neutral_ideals
				days = 720
			}
		}
	}

	focus = {
		id = CHI_sea_gain_warlord_support
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = CHI_sea_institute_a_dictatorship }
		x = 0
		y = 1
		relative_position_id = CHI_sea_institute_a_dictatorship

		cost = 4

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes 
			}
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_war_support = 0.1
		}
	}

	focus = {
		id = CHI_sea_rally_the_warlords
		icon = GFX_focus_CHI_decisive_battles
		prerequisite = { focus = CHI_sea_gain_warlord_support }
		x = 0
		y = 1
		relative_position_id = CHI_sea_gain_warlord_support

		cost = 4

		ai_will_do = {
			base = 1
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			division_template = {
				name = "Warlord Division"
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Warlord Division\" division_template = \"Warlord Division\" start_experience_factor = 0.1 start_equipment_factor = 1 start_manpower_factor = 1"
					owner = ROOT
					count = 2
				}
			}
		}
	}

	focus = {
		id = CHI_sea_a_new_expedition
		icon = GFX_focus_CHI_protracted_warfare
		prerequisite = { focus = CHI_sea_rally_the_warlords }
		x = 0
		y = 1
		relative_position_id = CHI_sea_rally_the_warlords

		cost = 8

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes 
			}
		}

		available = {
			is_subject = no
			any_neighbour_valid_for_war_goal = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			war_goal_effect_on_random_neighbour = yes
		}
	}

	focus = {
		id = CHI_sea_battle_for_unification
		icon = GFX_focus_CHI_weaponise_the_faithful
		prerequisite = { focus = CHI_sea_a_new_expedition }
		x = 0
		y = 1
		relative_position_id = CHI_sea_a_new_expedition

		cost = 8

		ai_will_do = {
			base = 10
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CHI_battle_for_unification
		}
	}

	#focus = {
	#	id = CHI_sea_power_struggle
	#	icon = GFX_goal_generic_demand_territory
	#	prerequisite = { focus = CHI_sea_a_new_expedition }
	#	x = 0
	#	y = 1
	#	relative_position_id = CHI_sea_a_new_expedition
	#
	#	cost = 8
	#
	#	ai_will_do = {
	#		base = 1
	#		modifier = {
	#			factor = 0
	#			is_historical_focus_on = yes 
	#		}
	#	}
	#
	#	available = {
	#		is_subject = no
	#		OR = {
	#			WTT_is_ROOT_current_leader_of_china = yes
	#			AND = {
	#				1035 = { 
	#					is_controlled_by_ROOT_or_subject = yes
	#				}
	#				608 = { 
	#					is_controlled_by_ROOT_or_subject = yes
	#				}
	#			}
	#		}
	#		IF = {
	#			limit = {
	#				original_tag = XIC
	#			}
	#			NOT = {
	#				has_completed_focus = XIC_reclaim_the_lost_birthright
	#			}
	#		}
	#	}
	#
	#	cancel_if_invalid = yes
	#	continue_if_invalid = no
	#	available_if_capitulated = no
	#
	#	completion_reward = {
	#		load_focus_tree = china_nationalist_warlord_focus
	#		set_cosmetic_tag = CHI_warlord_leader
	#		every_state = {
	#			limit = {
	#				is_core_of = CHI
	#			}
	#			add_core_of = ROOT
	#		}
	#		custom_effect_tooltip = CHL_skip_one_line_tt
	#		CHI_no_longer_a_warlord_idea_removal = yes
	#		custom_effect_tooltip = generic_skip_one_line_tt
	#		IF = {
	#			limit = {
	#				has_idea = SIK_battle_for_sinkiang
	#			}
	#			remove_ideas = {
	#				SIK_battle_for_sinkiang
	#			}
	#		}
	#		IF = {
	#			limit = {
	#				has_idea = SIC_a_loose_unity
	#			}
	#			remove_ideas = {
	#				SIC_a_loose_unity
	#			}
	#		}
	#	}
	#}	

	#######################
	##### Communists ######
	#######################

	focus = {
		id = CHI_sea_cooperation_with_the_communists
		icon = GFX_focus_chi_cooperation_with_the_communists
		prerequisite = { focus = CHI_sea_secure_internal_politics }
		mutually_exclusive = { focus = CHI_sea_cooperation_with_the_nationalists focus = CHI_sea_opposition }
		available = {
			OR = {
				has_government = communism
				has_idea = communist_influence
				has_idea_with_trait = communist_revolutionary
			}
		}
		x = 0
		y = 1
		relative_position_id = CHI_sea_secure_internal_politics

		cost = 8
	
		search_filters = { FOCUS_FILTER_POLITICAL }

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = communism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = {
						has_government = communism
						has_country_flag = ai_go_communism
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus internationalism_focus"
			add_political_power = 50
			add_timed_idea = {
				idea = internationalism
				days = 720
			}
		}
	}

	focus = {
		id = CHI_sea_land_redistribution
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = CHI_sea_cooperation_with_the_communists }		
		x = 0
		y = 1
		relative_position_id = CHI_sea_cooperation_with_the_communists

		cost = 4

		ai_will_do = {
			base = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					impassable = no
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1 
			}
		}
	}

	focus = {
		id = PRC_strengthen_the_central_party_school
		icon = GFX_focus_CHI_tongzi_jun
		prerequisite = { focus = CHI_sea_land_redistribution }
		x = -1
		y = 1
		relative_position_id = CHI_sea_land_redistribution

		cost = 4

		ai_will_do = {
			factor = 1
		}

		search_filters = { FOCUS_FILTER_STABILITY }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CHI_central_party_school
		}
	}

	focus = {
		id = CHI_sea_land_value_tax
		icon = GFX_focus_PRC_land_revolution_expedited
		prerequisite = { focus = CHI_sea_land_redistribution }
		x = 1
		y = 1
		relative_position_id = CHI_sea_land_redistribution

		cost = 8

		ai_will_do = {
			base = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_land_value_tax
		}
	}

	focus = {
		id = CHI_sea_judiciary_reforms
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = PRC_strengthen_the_central_party_school }
		x = 0
		y = 1
		relative_position_id = PRC_strengthen_the_central_party_school

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_ideas = CHI_government_corruption_solved
		}
	}

	focus = {
		id = CHI_sea_communist_administrators
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = CHI_sea_land_value_tax }
		x = 1
		y = 2
		relative_position_id = CHI_sea_land_redistribution

		cost = 4

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CHI_communist_administrators
		}
	}

	focus = {
		id = CHI_sea_join_the_chinese_soviet
		icon = GFX_focus_generic_befriend_the_chinese_soviet
		prerequisite = { focus = CHI_sea_judiciary_reforms focus = CHI_sea_communist_administrators }
		x = 0
		y = 3
		relative_position_id = CHI_sea_land_redistribution

		cost = 8

		ai_will_do = {
			base = 1
		}

		available = {
			communism > 0.4
			is_subject = no
		}

		available_if_capitulated = yes

		completion_reward = {
			make_current_leader_communist = yes
			set_politics = { ruling_party = communism elections_allowed = no }
			set_rule = { can_create_factions = yes }
		}
	}

	focus = {
		id = CHI_sea_unified_army_structure
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = CHI_sea_join_the_chinese_soviet }
		x = -1
		y = 1
		relative_position_id = CHI_sea_join_the_chinese_soviet

		cost = 4

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			add_political_power = 50
			army_experience = 50
			add_war_support = 0.05
		}
	}

	focus = {
		id = CHI_sea_ideological_education
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = CHI_sea_join_the_chinese_soviet }
		x = 1
		y = 1
		relative_position_id = CHI_sea_join_the_chinese_soviet

		cost = 8

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		bypass = {
			amount_research_slots > 4
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
			}
		}
	}

	focus = {
		id = CHI_sea_the_capital_incident
		icon = GFX_goal_support_communism
		prerequisite = { focus = CHI_sea_unified_army_structure focus = CHI_sea_ideological_education }
		x = 0
		y = 5
		relative_position_id = CHI_sea_land_redistribution

		cost = 8

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0.1
				is_historical_focus_on = yes
			}
		}

		available = {
			any_neighbour_valid_for_integration = yes
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ask_random_neighbour_for_integration = yes
		}
	}

	#############################
	##### Opposition/Share ######
	#############################

	focus = {
		id = CHI_sea_opposition
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = CHI_sea_secure_internal_politics }
		mutually_exclusive = { focus = CHI_sea_cooperation_with_the_communists focus = CHI_sea_cooperation_with_the_nationalists }
		x = 6
		y = 1
		relative_position_id = CHI_sea_secure_internal_politics

		cost = 8

		ai_will_do = {
			base = 1
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			add_war_support = 0.05	
		}
	}

	focus = {
		id = CHI_sea_institute_cross_border_raids
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_sea_opposition }
		available = {
			any_neighbour_valid_for_war_goal_different_ideology = yes
		}
		x = 0
		y = 1
		relative_position_id = CHI_sea_opposition

		cost = 8

		ai_will_do = {
			base = 1
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			war_goal_effect_on_random_neighbour_different_ideology = yes
		}
	}


	focus = {
		id = CHI_sea_public_works
		icon = GFX_focus_generic_public_works
		prerequisite = { focus = CHI_sea_cooperation_with_the_communists focus = CHI_sea_opposition }
		x = -2
		y = 2
		relative_position_id = CHI_sea_opposition

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_public_works
		}
	}

	focus = {
		id = CHI_sea_labor_reform
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = CHI_sea_public_works }
		x = -1
		y = 1
		relative_position_id = CHI_sea_public_works

		cost = 5

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = CHI_labor_reform
		}
	}

	focus = {
		id = CHI_sea_rural_militias
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = CHI_sea_public_works }
		x = 1
		y = 1
		relative_position_id = CHI_sea_public_works

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			add_ideas = CHI_rural_militias
		}
	}

	focus = {
		id = CHI_sea_personal_leadership
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = CHI_sea_opposition }
		mutually_exclusive = { focus = CHI_tsr_form_a_preparatory_committee }
		x = 2
		y = 1
		relative_position_id = CHI_sea_opposition

		cost = 4

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_command_power = 30
			custom_effect_tooltip = generic_skip_one_line_tt

			if = {
				limit = {
					any_character = {
						is_country_leader = yes
						is_field_marshal = yes 
					}
	
				}
				random_character = {
					limit = {
						is_country_leader = yes
						is_field_marshal = yes 
					}
					add_attack = 1
					add_defense = 1
					add_random_trait = { old_guard brilliant_strategist cavalry_officer politically_connected career_officer infantry_officer war_hero }	
				}
			}
			else = {
				random_character = {
					limit = {
						is_country_leader = yes
					}
					add_field_marshal_role = {
						traits = {  }
						skill = 2
						attack_skill = 2
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 1
					}
					add_random_trait = { old_guard brilliant_strategist cavalry_officer politically_connected career_officer infantry_officer war_hero }
				}
				recalculate_recruitment_costs = yes
			}
		}
	}

	focus = {
		id = CHI_sea_war_taxes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = CHI_sea_personal_leadership }
		x = 0
		y = 1
		relative_position_id = CHI_sea_personal_leadership

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_war_taxes
		}
	}

	focus = {
		id = CHI_sea_cult_of_personality
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CHI_sea_personal_leadership }
		x = -2
		y = 1
		relative_position_id = CHI_sea_personal_leadership

		cost = 4

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY }
		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.05
		}
	}

	focus = {
		id = CHI_sea_provoke_border_clashes
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_sea_war_taxes }
		mutually_exclusive = { focus = CHI_sea_defensive_posture }
		available = {
			any_neighbour_valid_for_war_goal_different_ideology = yes
		}
		x = -1
		y = 1
		relative_position_id = CHI_sea_war_taxes

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			war_goal_effect_on_random_neighbour_different_ideology = yes
		}
	}

	focus = {
		id = CHI_sea_defensive_posture
		icon = GFX_goal_generic_defence
		prerequisite = { focus = CHI_sea_war_taxes }
		mutually_exclusive = { focus = CHI_sea_provoke_border_clashes }
		x = 1
		y = 1
		relative_position_id = CHI_sea_war_taxes

		cost = 8

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_defensive_posture
		}
	}

	focus = {
		id = CHI_sea_rapid_mobilization
		icon = GFX_focus_CHI_baojia_system
		prerequisite = { focus = CHI_sea_provoke_border_clashes focus = CHI_sea_defensive_posture }
		x = 1
		y = 1
		relative_position_id = CHI_sea_provoke_border_clashes

		cost = 4

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_rapid_mobilization	
		}
	}

	focus = {
		id = CHI_sea_seek_foreign_support
		icon = GFX_focus_chi_collaboration_with_the_japanese
		prerequisite = { focus = CHI_sea_rapid_mobilization }
		x = 0
		y = 1
		relative_position_id = CHI_sea_rapid_mobilization

		cost = 4

		ai_will_do = {
			base = 1
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		completion_reward = {
			set_rule = { can_create_factions = yes }
			set_rule = { can_send_volunteers = yes }
		}
	}

	focus = {
		id = CHI_sea_proclaim_rival_government
		icon = GFX_focus_chi_proclaim_rival_government
		prerequisite = { focus = CHI_sea_rural_militias }
		prerequisite = { focus = CHI_sea_rapid_mobilization }
		x = 0
		y = 2
		relative_position_id = CHI_sea_rural_militias

		cost = 8

		ai_will_do = {
			base = 1
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_ideas = CHI_effective_bureaucracy
		}
	}

	focus = {
		id = CHI_sea_establish_the_leader_university
		icon = GFX_focus_research
		prerequisite = { focus = CHI_sea_proclaim_rival_government focus = CHI_tsr_reclaim_the_mandate_of_heaven }
		x = 0
		y = 1
		relative_position_id = CHI_sea_seek_foreign_support

		cost = 8

		ai_will_do = {
			base = 1
		}

		available_if_capitulated = yes

		bypass = {
			amount_research_slots > 4
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
			}
		}
	}

	#####################
	##### Imperial ######
	#####################

	focus = {
		id = CHI_tsr_form_a_preparatory_committee
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = CHI_sea_opposition }
		mutually_exclusive = { focus = CHI_sea_personal_leadership }
		available = {
			OR = {
				has_government = fascism
				has_idea = fascist_influence
				has_idea_with_trait = fascist_demagogue
			}
		}
		x = 6
		y = 1
		relative_position_id = CHI_sea_opposition

		cost = 8

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = fascism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = {
						has_government = fascism
						AND = {
							has_global_flag = all_neutrality_starting
							has_country_flag = ai_go_fascism
						}
					}
				}
			}
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
	}

	focus = {
		id = CHI_tsr_legacy_of_the_hongxian_emperor
		icon = GFX_focus_generic_monarchist_sentiment
		x = -1
		y = 1
		relative_position_id = CHI_tsr_form_a_preparatory_committee
		prerequisite = { focus = CHI_tsr_form_a_preparatory_committee }

		cost = 8

		ai_will_do = {
			factor = 4
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_ideas = CHI_tsr_a_new_empire_idea 
		}
	}

	focus = {
		id = CHI_tsr_reestablish_xinhua_palace
		icon = GFX_focus_CHI_an_alternative_rooted_in_tradition
		x = 1
		y = 1

		relative_position_id = CHI_tsr_form_a_preparatory_committee

		prerequisite = { focus = CHI_tsr_form_a_preparatory_committee }

		cost = 4

		ai_will_do = {
			factor = 4
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }

		completion_reward = {
			capital_scope = {
				add_extra_state_shared_building_slots = 5
				if = {
					limit = {
						infrastructure < 4
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}	
				}
				else_if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}	
				}
			}
		}
	}

	focus = {
		id = CHI_tsr_outlaw_republicanism
		icon = GFX_focus_generic_treaty
		x = 3
		y = 1

		relative_position_id = CHI_tsr_form_a_preparatory_committee

		prerequisite = { focus = CHI_tsr_form_a_preparatory_committee }

		cost = 4

		ai_will_do = {
			factor = 4
		}

		available = {
			NOT = {
				has_government = democratic
				has_government = communism
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt

			# Left-KMT 
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@democratic
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = democratic
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}
				set_country_flag = banned_democratic_flag				
			}
			remove_democratic_spirits_effect = yes 
			custom_effect_tooltip = ban_democratic_party_tt
			add_stability = ban_ideology_var

			custom_effect_tooltip = generic_skip_one_line_tt

			# CPC 
			hidden_effect = {
				set_temp_variable = {
					var = ban_ideology_var
					value = party_popularity@communism
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = -1
				}
				add_popularity = {
					ideology = communism
					popularity = ban_ideology_var
				}
				multiply_temp_variable = {
					var = ban_ideology_var
					value = 0.66
				}
				set_country_flag = banned_communism_flag
				if = {#NSB -> If country has Trotskyist Revolutionary Uprisings NS, swap it with the weakened version
					limit = {
						has_idea = SOV_trotskyist_revolutionary_agitation
					}
					swap_ideas = {
						remove_idea = SOV_trotskyist_revolutionary_agitation
						add_idea = SOV_trotskyist_revolutionary_agitation_weakened
					}
				}
			}
			remove_communist_spirits_effect = yes
			custom_effect_tooltip = ban_communist_party_tt
			add_stability = ban_ideology_var
		}
	}

	focus = {
		id = CHI_tsr_coronation_at_the_temple_of_heaven
		icon = GFX_focus_CHI_a_new_middle_kingdom
		prerequisite = { focus = CHI_tsr_legacy_of_the_hongxian_emperor }
		prerequisite = { focus = CHI_tsr_reestablish_xinhua_palace }
		x = 1
		y = 1

		relative_position_id = CHI_tsr_legacy_of_the_hongxian_emperor

		cost = 4

		ai_will_do = {
			factor = 4
		}

		available = {
			fascism > 0.4
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {
			hidden_effect = { add_country_leader_trait = CHI_tsr_son_of_heaven }
			set_politics = { ruling_party = fascism elections_allowed = no }
			make_current_leader_fascist = yes
			add_country_leader_trait = CHI_tsr_son_of_heaven
		}
	}

	focus = {
		id = CHI_tsr_adopt_the_twelve_symbols
		icon = GFX_goal_generic_political_pressure
		x = -1
		y = 1

		relative_position_id = CHI_tsr_coronation_at_the_temple_of_heaven
		prerequisite = { focus = CHI_tsr_coronation_at_the_temple_of_heaven }

		cost = 8

		ai_will_do = {
			factor = 4
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }

		completion_reward = {
			swap_ideas = {
				remove_idea = CHI_tsr_a_new_empire_idea
				add_idea = CHI_tsr_a_new_empire_idea_2
			}
		}
	}

	focus = {
		id = CHI_tsr_reinstate_the_new_imperial_code 
		icon = GFX_focus_generic_monarchy_1
		x = 1
		y = 1

		relative_position_id = CHI_tsr_coronation_at_the_temple_of_heaven
		prerequisite = { focus = CHI_tsr_coronation_at_the_temple_of_heaven }

		cost = 4

		ai_will_do = {
			factor = 4
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.1
		}
	}

	focus = {
		id = CHI_tsr_reclaim_the_mandate_of_heaven
		icon = GFX_focus_man_claim_the_mandate_of_heaven
		x = 1
		y = 1

		relative_position_id = CHI_tsr_adopt_the_twelve_symbols

		prerequisite = { focus = CHI_tsr_adopt_the_twelve_symbols }
		prerequisite = { focus = CHI_tsr_reinstate_the_new_imperial_code }

		cost = 8

		ai_will_do = {
			factor = 4
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }

		completion_reward = {
			set_rule = { can_create_factions = yes }

			custom_effect_tooltip = generic_skip_one_line_tt

			add_stability = 0.1
			add_war_support = 0.1
		}
	}

	focus = {
		id = CHI_tsr_tianxia 
		icon = GFX_focus_CHI_cradle_of_civilization
		x = 0
		y = 1

		relative_position_id = CHI_tsr_reclaim_the_mandate_of_heaven
		prerequisite = { focus = CHI_tsr_reclaim_the_mandate_of_heaven }

		cost = 8

		ai_will_do = {
			factor = 4
		}

		available = {
			is_subject = no
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }

		completion_reward = {
			swap_ruler_traits = { remove = CHI_tsr_son_of_heaven add = CHI_tsr_the_celestial_emperor }
		}
	}

	#####################
	##### Industry ######
	#####################

	focus = {
		id = CHI_sea_industrial_research_projects
		icon = GFX_focus_generic_industrialists
		x = 23
		y = 0

		relative_position_id = CHI_sea_secure_internal_politics

		cost = 8

		ai_will_do = {
			factor = 3

			modifier = {
				factor = 10

				OR = {
					arms_factory < 1
					industrial_complex < 1
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_tech_bonus = {
				name = CHI_sea_industrial_research_projects
				bonus = 1.0
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = CHI_sea_develop_capital
		icon = GFX_focus_PRC_urbanization
		x = 0
		y = 1

		relative_position_id = CHI_sea_industrial_research_projects

		cost = 8

		prerequisite = { focus = CHI_sea_industrial_research_projects }

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 15

				OR = {
					arms_factory < 1
					industrial_complex < 1
				}
			}
		}

		bypass = {
			capital_scope = {
				NOT = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		dynamic = yes 
	
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			capital_scope = {
				if = {
					limit = {
						NOT = {
							has_global_flag = focus_factories_offmap
							has_global_flag = focus_factories_mixed
						}
					}

					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 2
				}
			}
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = industrial_complex level = 1 }
			}
		}
	}

	focus = {
		id = CHI_sea_investment_into_shipbuilding
		icon = GFX_focus_POL_develop_polish_shipbuilding
		x = -5
		y = 1

		relative_position_id = CHI_sea_develop_capital

		cost = 8

		prerequisite = { focus = CHI_sea_develop_capital }

		search_filters = { FOCUS_FILTER_INDUSTRY }

		available_if_capitulated = yes

		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}

		complete_tooltip = {
			navy_experience = 25
			if = {
				limit = {
					has_global_flag = focus_factories_offmap
				}

				add_offsite_building = { type = dockyard level = 3 }
			}
			else_if = {
				limit = {
					has_global_flag = focus_factories_mixed
				}

				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_offsite_building = { type = dockyard level = 2 }
			}
			else = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus naval_effort"
			navy_experience = 25
			if = {
				limit = {
					has_global_flag = focus_factories_offmap
				}

				add_offsite_building = { type = dockyard level = 3 }
			}
			else_if = {
				limit = {
					has_global_flag = focus_factories_mixed
				}

				add_1_dockyard_in_random_state = yes
				add_offsite_building = { type = dockyard level = 2 }
			}
			else = {
				add_3_dockyard_in_random_state = yes
			}
		}
	}

	focus = {
		id = CHI_sea_light_cruiser_project
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = CHI_sea_order_destroyers }
		mutually_exclusive = { focus = CHI_sea_modern_submarines }
		x = -1
		y = 2
		relative_position_id = CHI_sea_investment_into_shipbuilding

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_light_cruiser_project
				bonus = 1.0
				uses = 1
				category = ca_tech
			}
		}
	}

	focus = {
		id = CHI_sea_heavy_cruiser_project
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = CHI_sea_light_cruiser_project }
		x = 0
		y = 2
		relative_position_id = CHI_sea_light_cruiser_project

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_heavy_cruiser_project
				bonus = 1.0
				uses = 1
				category = ca_tech
			}
		}
	}

	focus = {
		id = CHI_sea_naval_aviation
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = CHI_sea_heavy_cruiser_project focus = CHI_sea_coastal_patrol_planes }
		x = 1
		y = 1
		relative_position_id = CHI_sea_heavy_cruiser_project

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_breakthrough_progress = {
				specialization = specialization_naval
				value = 0.25
			}
			add_tech_bonus = {
				name = CHI_naval_aviation
				bonus = 1.0
				uses = 2
				category = cv_tech
			}
		}
	}

	focus = {
		id = CHI_sea_carrier_air_wing
		icon = GFX_goal_generic_occupy_start_war
		prerequisite = { focus = CHI_sea_naval_aviation }
		x = 0
		y = 1
		relative_position_id = CHI_sea_naval_aviation

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_naval_aviation
				bonus = 1.0
				uses = 2
				category = naval_air
			}
		}
	}

	focus = {
		id = CHI_sea_order_destroyers
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = CHI_sea_investment_into_shipbuilding }
		x = 0
		y = 1
		relative_position_id = CHI_sea_investment_into_shipbuilding

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_order_destroyers
				bonus = 1.0
				uses = 2
				category = dd_tech
			}
		}
	}

	focus = {
		id = CHI_sea_train_marines
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = CHI_sea_order_destroyers }
		x = 0
		y = 3
		relative_position_id = CHI_sea_investment_into_shipbuilding

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_ideas = CHI_train_marines
			add_tech_bonus = {
				name = CHI_train_marines
				bonus = 1.0
				uses = 1
				category = marine_tech
			}
		}
	}

	focus = {
		id = CHI_sea_modern_submarines
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = CHI_sea_order_destroyers }
		mutually_exclusive = { focus = CHI_sea_light_cruiser_project }
		x = 1
		y = 2
		relative_position_id = CHI_sea_investment_into_shipbuilding

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_modern_submarines
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
		}
	}

	focus = {
		id = CHI_sea_coastal_patrol_planes
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = CHI_sea_modern_submarines }
		x = 0
		y = 2
		relative_position_id = CHI_sea_modern_submarines

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_coastal_patrol_planes
				bonus = 1.0
				uses = 1
				category = naval_bomber
			}
		}
	}

	focus = {
		id = PRC_aviation_infrastructure
		icon = GFX_focus_generic_air_bases
		x = 5
		y = 1

		relative_position_id = CHI_sea_develop_capital

		cost = 4

		prerequisite = { focus = CHI_sea_develop_capital }
		
		search_filters = { }

		available_if_capitulated = yes

		complete_tooltip = {
			air_experience = 25
			if = { limit = { has_country_flag = aviation_effort_AB }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus PRC_aviation_infrastructure"
			air_experience = 25

			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
		}
	}

	focus = {
		id = CHI_sea_camco
		icon = GFX_focus_CHI_camco_primacy
		prerequisite = { focus = PRC_aviation_infrastructure }
		x = 0
		y = 1
		relative_position_id = PRC_aviation_infrastructure

		cost = 8

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_ideas = CHI_sea_camco_esi_aat
			}
			else = {
				add_ideas = CHI_sea_camco_esi
				add_political_power = 30
			}
		}
	}

	focus = {
		id = CHI_sea_local_fighter_production
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = CHI_sea_camco }
		mutually_exclusive = { focus = CHI_sea_local_bomber_production }
		x = -1
		y = 1
		relative_position_id = CHI_sea_camco

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				swap_ideas = {
					remove_idea = CHI_sea_camco_esi_aat
					add_idea = CHI_sea_camco_fighter_esi_aat
				}
			}
			else = {
				swap_ideas = {
					remove_idea = CHI_sea_camco_esi
					add_idea = CHI_sea_camco_fighter_esi
				}
			}
		}
	}

	focus = {
		id = CHI_sea_local_bomber_production
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = CHI_sea_camco }
		mutually_exclusive = { focus = CHI_sea_local_fighter_production }
		x = 1
		y = 1
		relative_position_id =  CHI_sea_camco

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				swap_ideas = {
					remove_idea = CHI_sea_camco_esi_aat
					add_idea = CHI_sea_camco_bomber_esi_aat
				}
			}
			else = {
				swap_ideas = {
					remove_idea = CHI_sea_camco_esi
					add_idea = CHI_sea_camco_bomber_esi
				}
			}
		}
	}

	focus = {
		id = CHI_sea_sino_american_cooperative_organization
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = CHI_sea_camco }
		x = 0
		y = 2
		relative_position_id = CHI_sea_camco

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = CHI_sino_american_cooperative_organization
				bonus = 1.0
				uses = 2
				category = recon_tech
				category = para_tech
			}
		}
	}

	focus = {
		id = CHI_sea_the_chu_x_po
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CHI_sea_local_fighter_production }
		x = 0
		y = 2
		relative_position_id = CHI_sea_local_fighter_production

		cost = 8

		ai_will_do = {
			factor = 1
		}

		available = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				NOT = { has_tech = advanced_small_airframe }
			}
			else = {
				NOT = { has_tech = fighter3 }
			}
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = no

		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				add_tech_bonus = {
					name = CHI_the_chu_x_po
					ahead_reduction = 2
					technology = advanced_small_airframe
				}
			}
			else = {
				add_tech_bonus = {
					name = CHI_the_chu_x_po
					ahead_reduction = 2
					technology = fighter3				
				}
			}
		}
	}

	focus = {
		id = CHI_strike_at_what_is_weak
		icon = GFX_goal_poland_goal
		x = 0
		y = 2
		relative_position_id = CHI_sea_local_bomber_production
		prerequisite = { focus = CHI_sea_local_bomber_production }

		cost = 8

		ai_will_do = {
			factor = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }

		completion_reward = {
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				swap_ideas = {
					remove_idea = CHI_sea_camco_bomber_esi_aat
					add_idea = CHI_sea_camco_bomber_esi_2_aat
				}
			}
			else = {
				swap_ideas = {
					remove_idea = CHI_sea_camco_bomber_esi
					add_idea = CHI_sea_camco_bomber_esi_2
				}
			}
		}
	}

	focus = {
		id = CHI_sea_the_hump
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = CHI_sea_the_chu_x_po focus = CHI_strike_at_what_is_weak }
		x = 1
		y = 1
		relative_position_id = CHI_sea_the_chu_x_po

		cost = 8

		ai_will_do = {
			factor = 1
		}

		cancel_if_invalid = no
		continue_if_invalid = yes
		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				NOT = { has_global_flag = focus_factories_offmap }
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = {
					has_global_flag = focus_factories_offmap
				}

				add_offsite_building = { type = arms_factory level = 1 }
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CHI_sea_the_hump"
			if = {
				limit = {
					has_global_flag = focus_factories_offmap
				}

				add_offsite_building = { type = arms_factory level = 1 }
			}
			else = {
				add_1_arms_factory_in_random_state = yes
			}
		}
	}

	focus = {
		id = CHI_initiate_the_sky_projects
		icon = GFX_focus_rocketry 
		prerequisite = {
			focus = CHI_sea_the_hump
		}
		x = 0
		y = 1
		relative_position_id = CHI_sea_the_hump

		cost = 8

		ai_will_do = {
			factor = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			add_tech_bonus = {
				name = CHI_initiate_the_sky_projects
				bonus = 0.4
				uses = 1
				category = rocketry
			}
			add_breakthrough_progress = {
				specialization = specialization_air
				value = 0.75
			}
			add_ideas = CHI_the_sky_projects
		}
	}

	focus = {
		id = CHI_sea_further_industrial_investment
		icon = GFX_goal_generic_construct_civilian
		x = -1
		y = 1

		relative_position_id = CHI_sea_develop_capital

		cost = 8

		prerequisite = { focus = CHI_sea_develop_capital }

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 15

				NOT = { arms_factory < 1 }
				industrial_complex < 1
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				NOT = {
					has_global_flag = focus_factories_offmap
					has_global_flag = focus_factories_mixed
				}
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = industrial_complex level = 1 }
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CHI_sea_further_industrial_investment"
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = industrial_complex level = 1 }
			}
			else = {
				add_1_industrial_complex_in_random_state = yes
			}
		}
	}

	focus = {
		id = CHI_sea_develop_capital_arsenal
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CHI_sea_develop_capital }
		x = 1
		y = 1
		relative_position_id = CHI_sea_develop_capital

		cost = 8


		search_filters = { FOCUS_FILTER_INDUSTRY }

		dynamic = yes
		available_if_capitulated = yes

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 15

				arms_factory < 1
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				NOT = {
					has_global_flag = focus_factories_offmap
					has_global_flag = focus_factories_mixed
				}
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = arms_factory level = 1 }
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus production_effort"
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = arms_factory level = 1 }
			}
			else = {
				add_1_arms_factory_in_random_state = yes
			}
		}
	}

	focus = {
		id = CHI_sea_small_arms_production
		icon = GFX_goal_generic_small_arms
		x = 1
		y = 1
		relative_position_id = CHI_sea_develop_capital_arsenal
	
		cost = 8

		prerequisite = { focus = CHI_sea_develop_capital_arsenal }
	
		ai_will_do = {
			base = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }

		complete_tooltip = {
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = arms_factory level = 1 }
			}
			else = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = CHI_local_arms_development
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CHI_sea_small_arms_production"
			if = {
				limit = {
					OR = {
						has_global_flag = focus_factories_offmap
						has_global_flag = focus_factories_mixed
					}
				}

				add_offsite_building = { type = arms_factory level = 1 }
			}
			else = {
				add_1_arms_factory_in_random_state = yes
			}
			add_tech_bonus = {
				name = CHI_local_arms_development
				bonus = 1.0
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = CHI_sea_heavy_weapons_development
		icon = GFX_goal_generic_army_artillery
		x = 0
		y = 1
		relative_position_id = CHI_sea_small_arms_production
	
		cost = 4

		prerequisite = { focus = CHI_sea_small_arms_production }
	
		ai_will_do = {
			base = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_breakthrough_progress = {
				specialization = specialization_land
				value = 0.5
			}
	
			add_tech_bonus = {
				name = CHI_heavy_weapons_development
				bonus = 1.0
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = CHI_sea_rely_on_our_infantry
		icon = GFX_focus_generic_little_entente
		x = -1
		y = 1

		relative_position_id = CHI_sea_heavy_weapons_development

		mutually_exclusive = {
			focus = CHI_sea_modern_warfare
		}
		
		cost = 8

		prerequisite = { focus = CHI_sea_heavy_weapons_development }
		
		ai_will_do = {
			base = 0
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			add_tech_bonus = {
				name = CHI_sea_rely_on_our_infantry
				bonus = 1.0
				uses = 1
				category = artillery
			}
			add_tech_bonus = {
				name = CHI_sea_rely_on_our_infantry
				bonus = 0.75
				uses = 2
				category = infantry_weapons
			}
			army_experience = 50
		}
	}

	focus = {
		id = CHI_sea_modern_warfare
		icon = GFX_goal_generic_army_tanks
		x = 1
		y = 1

		relative_position_id = CHI_sea_heavy_weapons_development

		mutually_exclusive = {
			focus = CHI_sea_rely_on_our_infantry
		}
		
		cost = 8

		prerequisite = { focus = CHI_sea_heavy_weapons_development }

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP }
		completion_reward = {
			add_tech_bonus = {
				name = CHI_sea_modern_warfare
				bonus = 0.75
				uses = 2
				category = armor
			}
			army_experience = 50
			air_experience = 25
			navy_experience = 25
		}
	}

	focus = {
		id = CHI_sea_mining_commission
		icon = GFX_focus_generic_resource_extraction
		prerequisite = { focus = CHI_sea_further_industrial_investment }

		x = -1
		y = 1

		relative_position_id = CHI_sea_further_industrial_investment

		cost = 8

		ai_will_do = {
			factor = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_mining_commission
			add_tech_bonus = {
				name = PRC_resource_extraction_focus
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
		}
	}

	focus = {
		id = CHI_sea_reform_the_national_bank
		icon = GFX_focus_PRC_promote_the_silver_dollar
		prerequisite = { focus = CHI_sea_mining_commission }
		x = 0
		y = 1
		relative_position_id = CHI_sea_mining_commission

		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_bank_of_country
		}
	}

	focus = {
		id = CHI_sea_long_term_economic_planning
		icon = GFX_goal_generic_production2
		x = -1
		y = 1

		relative_position_id = CHI_sea_reform_the_national_bank
		
		cost = 8

		prerequisite = { focus = CHI_sea_reform_the_national_bank }
		mutually_exclusive = { focus = PRC_establish_shorter_market_plans }
		
		ai_will_do = {
			base = 4
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_ideas = CHI_long_term_economic_planning
		}
	}

	focus = {
		id = PRC_establish_shorter_market_plans
		icon = GFX_focus_PRC_establish_shorter_market_plans
		prerequisite = { focus = CHI_sea_reform_the_national_bank }
		mutually_exclusive = { focus = CHI_sea_long_term_economic_planning }
		x = 1
		y = 1
		relative_position_id = CHI_sea_reform_the_national_bank

		cost = 8
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				NOT = { has_global_flag = focus_factories_offmap }
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			if = {
				limit = {
					has_global_flag = focus_factories_offmap
				}

				add_offsite_building = { type = industrial_complex level = 2 }
			}
			else = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus PRC_establish_shorter_market_plans"
			if = {
				limit = {
					has_global_flag = focus_factories_offmap
				}

				add_offsite_building = { type = industrial_complex level = 2 }
			}
			else = {
				add_1_industrial_complex_in_random_state = yes
				add_1_industrial_complex_in_random_state = yes
			}
		}
	}

	focus = {
		id = CHI_sea_rural_reconstruction_movement
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CHI_sea_further_industrial_investment focus = CHI_sea_develop_capital_arsenal }
		x = 1
		y = 1
		relative_position_id = CHI_sea_further_industrial_investment

		cost = 8

		ai_will_do = {
			factor = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = PRC_connecting_the_country
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = CHI_sea_rural_reconstruction_movement }
		x = 0
		y = 1
		relative_position_id = CHI_sea_rural_reconstruction_movement

		cost = 8

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					NOT = { has_tech = basic_train }
				}
				set_technology = { 
					basic_train = 1
					popup = yes
				}
			}
			add_timed_idea = {
				idea = PRC_connecting_the_country_idea
				days = 600
			}
		}
	}

	focus = {
		id = CHI_sea_expand_public_education
		icon = GFX_focus_generic_education
		x = 1
		y = 1

		relative_position_id = CHI_sea_long_term_economic_planning
		
		cost = 8

		prerequisite = { focus = CHI_sea_long_term_economic_planning focus = PRC_establish_shorter_market_plans }

		ai_will_do = {
			base = 4
		}

		available_if_capitulated = yes

		available = {
			num_of_civilian_factories > 24
		}

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus CHI_sea_expand_public_education"
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
			}
			else = {
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1.0
					uses = 1
					category = electronics
				}
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1.0
					uses = 1
					category = industry
				}
			}
		}
	}

	focus = {
		id = CHI_sea_capital_military_academy
		icon = GFX_focus_chi_whampoa_military_academy
		prerequisite = { focus = CHI_sea_rely_on_our_infantry focus = CHI_sea_modern_warfare }
		x = 1
		y = 1
		relative_position_id = CHI_sea_rely_on_our_infantry

		cost = 8

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				num_of_military_factories > 24
				num_of_naval_factories > 24
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			add_ideas = CHI_capital_military_academy_idea
			every_army_leader = {
				add_planning = 1
			}
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
			}
			else = {
				add_tech_bonus = {
					name = infantry_artillery_bonus
					bonus = 1.0
					uses = 1
					category = infantry_weapons
					category = artillery
				}
			}
		}
	}

	focus = {
		id = CHI_sea_fund_research_projects
		icon = GFX_focus_research2
		x = 2
		y = 1

		relative_position_id = CHI_sea_expand_public_education

		cost = 8

		prerequisite = { focus = CHI_sea_expand_public_education focus = CHI_sea_capital_military_academy }
		prerequisite = { focus = PRC_connecting_the_country }
		
		ai_will_do = {
			base = 4
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		available = {
			num_of_factories > 50
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					amount_research_slots < 5
				}
				add_research_slot = 1
			}
			else = {
				add_ideas = CHI_tsr_funding_public_research
			}
		}
	}

	### WARLORD NATIONAL SPIRIT-RELATED FOCUSES ###

	focus = {
		id = CHI_sea_strenghten_warlord_authority
		icon = GFX_focus_generic_military_dictatorship
		x = 33
		y = 0

		cost = 8

		relative_position_id = CHI_sea_secure_internal_politics

		ai_will_do = {
			base = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_ideas = CHI_warlord_state_idea_2
		}
	}

	focus = {
		id = CHI_sea_uplift_the_cavalry_regiments
		icon = GFX_goal_generic_cavalry
		x = -1
		y = 1

		cost = 4

		prerequisite = { focus = CHI_sea_strenghten_warlord_authority }

		relative_position_id = CHI_sea_strenghten_warlord_authority

		mutually_exclusive = {
			focus = CHI_sea_uplift_the_mountain_brigades
		}

		ai_will_do = {
			base = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }
		completion_reward = {
			swap_ideas = {
				remove_idea = CHI_warlord_state_idea_2
				add_idea = CHI_warlord_state_idea_cav
			}
		}
	}

	focus = {
		id = CHI_sea_uplift_the_mountain_brigades
		icon = GFX_focus_secret_rearmament
		x = 1
		y = 1

		cost = 4

		prerequisite = { focus = CHI_sea_strenghten_warlord_authority }

		relative_position_id = CHI_sea_strenghten_warlord_authority

		mutually_exclusive = {
			focus = CHI_sea_uplift_the_cavalry_regiments
		}

		ai_will_do = {
			base = 1
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }
		completion_reward = {

			swap_ideas = {
				remove_idea = CHI_warlord_state_idea_2
				add_idea = CHI_warlord_state_idea_mnt
			}

			add_tech_bonus = {
				name = CHI_uplift_the_mountain_brigades
				bonus = 0.75
				uses = 1
				category = mountaineers_tech
			}	
		}
	}

	focus = {
		id = CHI_sea_consolidate_our_rule
		icon = GFX_focus_CHI_dang_guo
		x = -1
		y = 1

		cost = 8

		prerequisite = { focus = CHI_sea_uplift_the_mountain_brigades focus = CHI_sea_uplift_the_cavalry_regiments }

		relative_position_id = CHI_sea_uplift_the_mountain_brigades

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }

		completion_reward = {
			add_stability = 0.05
			add_political_power = 50

			custom_effect_tooltip = generic_skip_one_line_tt 

			add_dynamic_modifier = {
			 	modifier = CHI_warlord_army_dynamic_modifier
			}
			add_to_variable = { 
				ROOT.CHI_warlord_army_political_power_gain = 0.1 
				tooltip = political_power_gain_tt
			}
		}
	}

	focus = {
		id = CHI_sea_fortification_efforts
		icon = GFX_goal_fortify_the_westwall
		x = 0
		y = 1

		cost = 8

		prerequisite = { focus = CHI_sea_consolidate_our_rule }

		relative_position_id = CHI_sea_consolidate_our_rule

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					impassable = no
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}
			custom_effect_tooltip = modify_warlord_army_tt
			add_to_variable = { 
				ROOT.CHI_warlord_army_production_speed_buildings_factor = 0.05
				tooltip = production_speed_buildings_factor_tt
			} 
		}
	}

	focus = {
		id = CHI_sea_infantry_efforts
		icon = GFX_focus_CHI_popular_army
		x = -2
		y = 1

		cost = 4

		prerequisite = { focus = CHI_sea_consolidate_our_rule }

		relative_position_id = CHI_sea_consolidate_our_rule

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }
		completion_reward = {
			custom_effect_tooltip = modify_warlord_army_tt
			add_to_variable = { 
				ROOT.CHI_warlord_army_army_infantry_attack_factor = 0.05
				tooltip = army_infantry_attack_factor_tt
			}
			add_to_variable = { 
				ROOT.CHI_warlord_army_army_infantry_defence_factor = 0.025
				tooltip = army_infantry_defence_factor_tt
			}
		}
	}

	focus = {
		id = CHI_sea_brigade_specialization
		icon = GFX_focus_CHI_tongzi_jun
		x = 2
		y = 1

		cost = 4

		prerequisite = { focus = CHI_sea_consolidate_our_rule }

		relative_position_id = CHI_sea_consolidate_our_rule

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }
		completion_reward = {
			custom_effect_tooltip = modify_warlord_army_tt
			add_to_variable = { 
				ROOT.CHI_warlord_army_special_forces_cap = 0.05
				tooltip = special_forces_cap_tt
			}
			add_to_variable = { 
				ROOT.CHI_warlord_army_special_forces_out_of_supply_factor = -0.05
				tooltip = special_forces_out_of_supply_factor_tt
			}
		}
	}

	focus = {
		id = CHI_sea_the_army
		icon = GFX_focus_CHI_military_affairs_commission
		x = 0
		y = 1

		cost = 8

		prerequisite = { focus = CHI_sea_brigade_specialization }
		prerequisite = { focus = CHI_sea_infantry_efforts }

		relative_position_id = CHI_sea_fortification_efforts

		ai_will_do = {
			base = 1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		search_filters = {  }
		completion_reward = {
			custom_effect_tooltip = modify_warlord_army_tt
			add_to_variable = { 
				ROOT.CHI_warlord_army_army_core_attack_factor = 0.05
				tooltip = army_core_attack_factor_tt
			}
			add_to_variable = { 
				ROOT.CHI_warlord_army_army_core_defence_factor = 0.025
				tooltip = army_core_defence_factor_tt
			}
			add_war_support = 0.1
		}
	}
}
