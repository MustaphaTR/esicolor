randomise_ai_ideology_path = {
	random_list = {
		seed = random
		25 = {
			set_country_flag = ai_go_democratic
			clr_country_flag = ai_go_fascism
			clr_country_flag = ai_go_communism
			clr_country_flag = ai_go_neutrality
		}
		25 = {
			clr_country_flag = ai_go_democratic
			set_country_flag = ai_go_fascism
			clr_country_flag = ai_go_communism
			clr_country_flag = ai_go_neutrality
		}
		25 = {
			clr_country_flag = ai_go_democratic
			clr_country_flag = ai_go_fascism
			set_country_flag = ai_go_communism
			clr_country_flag = ai_go_neutrality
		}
		25 = {
			clr_country_flag = ai_go_democratic
			clr_country_flag = ai_go_fascism
			clr_country_flag = ai_go_communism
			set_country_flag = ai_go_neutrality
		}
	}
}

make_default_ais_choose_path = {
	hidden_effect = {
		every_country = {
			limit = {
				democratic < 0.26
				fascism < 0.26
				communism < 0.26
				neutrality < 0.26
			}

			randomise_ai_ideology_path = yes
		}
	}
}

set_ideologies_to_neutrality = {
	set_politics = {
		ruling_party = neutrality
	}

	hidden_effect = {
		set_popularities = {
			democratic = 25
			fascism = 25
			communism = 25
			neutrality = 25
		}

		randomise_ai_ideology_path = yes
	}
}

randomise_ideology = {
	random_list = {
		seed = random
		25 = {
			set_politics = {
				ruling_party = democratic
			}
		}
		25 = {
			set_politics = {
				ruling_party = fascism
			}
		}
		25 = {
			set_politics = {
				ruling_party = communism
			}
		}
		25 = {
			set_politics = {
				ruling_party = neutrality
			}
		}
	}
}

randomise_ideology_and_popularity = {
	random_list = {
		seed = random
		25 = {
			set_politics = {
				ruling_party = democratic
			}

			randomise_popularity_democratic = yes
		}
		25 = {
			set_politics = {
				ruling_party = fascism
			}

			randomise_popularity_fascism = yes
		}
		25 = {
			set_politics = {
				ruling_party = communism
			}

			randomise_popularity_communism = yes
		}
		25 = {
			set_politics = {
				ruling_party = neutrality
			}

			randomise_popularity_neutrality = yes
		}
	}
}

randomise_popularity_for_current_party = {
	if = {
		limit = { has_government = democratic }

		randomise_popularity_democratic = yes
	}
	else_if = {
		limit = { has_government = fascism }

		randomise_popularity_fascism = yes
	}
	else_if = {
		limit = { has_government = communism }

		randomise_popularity_communism = yes
	}
	else_if = {
		limit = { has_government = neutrality }

		randomise_popularity_neutrality = yes
	}
}

randomise_popularity = {
	set_temp_variable = { remaining_popularity = 100 }
	set_temp_variable = { leading_popularity = 64 }
	randomize_temp_variable = {
		var = leading_popularity
		distribution = uniform
		min = 45
		max = remaining_popularity
	}

	subtract_from_temp_variable  = { remaining_popularity = leading_popularity }
	set_temp_variable = { other_popularity_1 = 12 }
	randomize_temp_variable = {
		var = other_popularity_1
		distribution = uniform
		min = 0
		max = remaining_popularity
	}

	subtract_from_temp_variable  = { remaining_popularity = other_popularity_1 }
	set_temp_variable = { other_popularity_2 = 12 }
	randomize_temp_variable = {
		var = other_popularity_2
		distribution = uniform
		min = 0
		max = remaining_popularity
	}

	subtract_from_temp_variable  = { remaining_popularity = other_popularity_2 }
	set_temp_variable = { other_popularity_3 = remaining_popularity }
}

randomise_popularity_democratic = {
	hidden_effect = {
		randomise_popularity = yes
		random_list = {
			seed = random
			15 = {
				set_popularities = {
					democratic = leading_popularity
					fascism = other_popularity_1
					communism = other_popularity_2
					neutrality = other_popularity_3
				}
			}
			15 = {
				set_popularities = {
					democratic = leading_popularity
					fascism = other_popularity_2
					communism = other_popularity_3
					neutrality = other_popularity_1
				}
			}
			15 = {
				set_popularities = {
					democratic = leading_popularity
					fascism = other_popularity_3
					communism = other_popularity_1
					neutrality = other_popularity_2
				}
			}
			15 = {
				set_popularities = {
					democratic = leading_popularity
					fascism = other_popularity_3
					communism = other_popularity_2
					neutrality = other_popularity_1
				}
			}
			15 = {
				set_popularities = {
					democratic = leading_popularity
					fascism = other_popularity_2
					communism = other_popularity_1
					neutrality = other_popularity_3
				}
			}
			15 = {
				set_popularities = {
					democratic = leading_popularity
					fascism = other_popularity_1
					communism = other_popularity_3
					neutrality = other_popularity_2
				}
			}
		}
	}
}

randomise_popularity_fascism = {
	hidden_effect = {
		randomise_popularity = yes
		random_list = {
			seed = random
			15 = {
				set_popularities = {
					democratic = other_popularity_1
					fascism = leading_popularity
					communism = other_popularity_2
					neutrality = other_popularity_3
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_2
					fascism = leading_popularity
					communism = other_popularity_3
					neutrality = other_popularity_1
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_3
					fascism = leading_popularity
					communism = other_popularity_1
					neutrality = other_popularity_2
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_3
					fascism = leading_popularity
					communism = other_popularity_2
					neutrality = other_popularity_1
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_2
					fascism = leading_popularity
					communism = other_popularity_1
					neutrality = other_popularity_3
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_1
					fascism = leading_popularity
					communism = other_popularity_3
					neutrality = other_popularity_2
				}
			}
		}
	}
}

randomise_popularity_communism = {
	hidden_effect = {
		randomise_popularity = yes
		random_list = {
			seed = random
			15 = {
				set_popularities = {
					democratic = other_popularity_1
					fascism = other_popularity_2
					communism = leading_popularity
					neutrality = other_popularity_3
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_2
					fascism = other_popularity_3
					communism = leading_popularity
					neutrality = other_popularity_1
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_3
					fascism = other_popularity_1
					communism = leading_popularity
					neutrality = other_popularity_2
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_3
					fascism = other_popularity_2
					communism = leading_popularity
					neutrality = other_popularity_1
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_2
					fascism = other_popularity_1
					communism = leading_popularity
					neutrality = other_popularity_3
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_1
					fascism = other_popularity_3
					communism = leading_popularity
					neutrality = other_popularity_2
				}
			}
		}
	}
}

randomise_popularity_neutrality = {
	hidden_effect = {
		randomise_popularity = yes
		random_list = {
			seed = random
			15 = {
				set_popularities = {
					democratic = other_popularity_1
					fascism = other_popularity_2
					communism = other_popularity_3
					neutrality = leading_popularity
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_2
					fascism = other_popularity_3
					communism = other_popularity_1
					neutrality = leading_popularity
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_3
					fascism = other_popularity_1
					communism = other_popularity_2
					neutrality = leading_popularity
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_3
					fascism = other_popularity_2
					communism = other_popularity_1
					neutrality = leading_popularity
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_2
					fascism = other_popularity_1
					communism = other_popularity_3
					neutrality = leading_popularity
				}
			}
			15 = {
				set_popularities = {
					democratic = other_popularity_1
					fascism = other_popularity_3
					communism = other_popularity_2
					neutrality = leading_popularity
				}
			}
		}
	}
}

equalise_popularity_for_current_party = {
	if = {
		limit = { has_government = democratic }

		set_popularities = {
			democratic = global.setup_party_popularity_ruling
			fascism = global.setup_party_popularity_other
			communism = global.setup_party_popularity_other
			neutrality = global.setup_party_popularity_other
		}
	}
	else_if = {
		limit = { has_government = fascism }

		set_popularities = {
			democratic = global.setup_party_popularity_other
			fascism = global.setup_party_popularity_ruling
			communism = global.setup_party_popularity_other
			neutrality = global.setup_party_popularity_other
		}
	}
	else_if = {
		limit = { has_government = communism }

		set_popularities = {
			democratic = global.setup_party_popularity_other
			fascism = global.setup_party_popularity_other
			communism = global.setup_party_popularity_ruling
			neutrality = global.setup_party_popularity_other
		}
	}
	else_if = {
		limit = { has_government = neutrality }

		set_popularities = {
			democratic = global.setup_party_popularity_other
			fascism = global.setup_party_popularity_other
			communism = global.setup_party_popularity_other
			neutrality = global.setup_party_popularity_ruling
		}
	}
}

switch_popularity_for_current_party = {
	if = {
		limit = { check_variable = { THIS.old_ideology = token:democratic } }

		if = {
			limit = { check_variable = { THIS.new_ideology = token:fascism } }
			switch_popularities_democratic_fascism = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:communism } }
			switch_popularities_democratic_communism = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:neutrality } }
			switch_popularities_democratic_neutrality = yes
		}
	}
	else_if = {
		limit = { check_variable = { THIS.old_ideology = token:fascism } }

		if = {
			limit = { check_variable = { THIS.new_ideology = token:democratic } }
			switch_popularities_democratic_fascism = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:communism } }
			switch_popularities_fascism_communism = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:neutrality } }
			switch_popularities_fascism_neutrality = yes
		}
	}
	else_if = {
		limit = { check_variable = { THIS.old_ideology = token:communism } }

		if = {
			limit = { check_variable = { THIS.new_ideology = token:democratic } }
			switch_popularities_democratic_communism = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:fascism } }
			switch_popularities_fascism_communism = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:neutrality } }
			switch_popularities_communism_neutrality = yes
		}
	}
	else_if = {
		limit = { check_variable = { THIS.old_ideology = token:neutrality } }

		if = {
			limit = { check_variable = { THIS.new_ideology = token:democratic } }
			switch_popularities_democratic_neutrality = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:fascism } }
			switch_popularities_fascism_neutrality = yes
		}
		else_if = {
			limit = { check_variable = { THIS.new_ideology = token:communism } }
			switch_popularities_communism_neutrality = yes
		}
	}
}
switch_popularities_democratic_fascism = {
	set_popularities = {
		democratic = party_popularity_100@fascism
		fascism = party_popularity_100@democratic
		communism = party_popularity_100@communism
		neutrality = party_popularity_100@neutrality
	}
}
switch_popularities_democratic_communism = {
	set_popularities = {
		democratic = party_popularity_100@communism
		fascism = party_popularity_100@fascism
		communism = party_popularity_100@democratic
		neutrality = party_popularity_100@neutrality
	}
}
switch_popularities_democratic_neutrality = {
	set_popularities = {
		democratic = party_popularity_100@neutrality
		fascism = party_popularity_100@fascism
		communism = party_popularity_100@communism
		neutrality = party_popularity_100@democratic
	}
}
switch_popularities_fascism_neutrality = {
	set_popularities = {
		democratic = party_popularity_100@democratic
		fascism = party_popularity_100@neutrality
		communism = party_popularity_100@communism
		neutrality = party_popularity_100@fascism
	}
}
switch_popularities_fascism_communism = {
	set_popularities = {
		democratic = party_popularity_100@democratic
		fascism = party_popularity_100@communism
		communism = party_popularity_100@fascism
		neutrality = party_popularity_100@neutrality
	}
}
switch_popularities_communism_neutrality = {
	set_popularities = {
		democratic = party_popularity_100@democratic
		fascism = party_popularity_100@fascism
		communism = party_popularity_100@neutrality
		neutrality = party_popularity_100@communism
	}
}

clear_population = {
	add_manpower = -2000000
	add_manpower = -2000000
	add_manpower = -2000000
	add_manpower = -2000000
	add_manpower = -2000000
	add_manpower = -2000000
}

get_total_manpower = {
	set_variable = { global.total_pop = 0 }
	clear_array = global.populations
	every_state = {
		add_to_variable = { global.total_pop = state_population_k }
		add_to_array = { global.populations = state_population_k }
	}
	set_variable = { global.per_state_pop = global.total_pop }
	divide_variable = { global.per_state_pop = 981 }
	multiply_variable = { global.per_state_pop = 1000 }
	round_variable = global.per_state_pop
}

randomise_population = {
	hidden_effect = {
		set_temp_variable = { manpowertoadd = 500000 }
		randomize_temp_variable = {
			var = manpowertoadd
			distribution = uniform
			min = global.setup_population_min
			max = global.setup_population_max
		}

		clear_population = yes
		add_manpower = manpowertoadd
		add_manpower = manpowertoadd
	}
}

shuffle_population = {
	set_temp_variable = { random_index = 0 }
	set_temp_variable = { highest_index = global.populations^num }
	subtract_from_temp_variable = { highest_index = 1 }
	randomize_temp_variable = {
		var = random_index
		distribution = uniform
		min = 0
		max = highest_index
	}
	round_temp_variable = random_index

	for_each_loop = {
		array = global.populations

		if = {
			limit = { check_variable = { random_index = i } }

			clear_population = yes

			multiply_temp_variable = { v = 100 }

			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v
			add_manpower = v

			remove_from_array = { global.populations = i }
			set_temp_variable = { break = 1 }
		}
	}
}

randomise_infrastructure = {
	hidden_effect = {
		set_temp_variable = { infrastructuretoadd = 2 }
		randomize_temp_variable = {
			var = infrastructuretoadd
			distribution = uniform
			min = global.setup_infrastructure_min
			max = global.setup_infrastructure_max
		}

		set_building_level = {
			type = infrastructure
			level = infrastructuretoadd
			instant_build = yes
		}
	}
}

clear_factories = {
	custom_effect_tooltip = esicolor.5.b_tt1
	custom_effect_tooltip = esicolor.5.b_tt2
	clear_civilian_factories = yes
	clear_military_factories = yes
}

clear_civilian_factories = {
	hidden_effect = {
		remove_building = {
			type = industrial_complex
			level = 25
		}
	}
}

clear_military_factories = {
	hidden_effect = {
		remove_building = {
			type = arms_factory
			level = 25
		}
	}
}

randomise_factories = {
	randomise_civilian_factories = yes
	randomise_military_factories = yes
}

randomise_civilian_factories = {
	hidden_effect = {
		set_temp_variable = { civstoadd = 1 }
		randomize_temp_variable = {
			var = civstoadd
			distribution = uniform
			min = global.setup_civilian_factories_min
			max = global.setup_civilian_factories_max
		}

		add_building_construction = {
			type = industrial_complex
			level = civstoadd
			instant_build = yes
		}
	}
}

randomise_military_factories = {
	hidden_effect = {
		set_temp_variable = { milstoadd = 1 }
		randomize_temp_variable = {
			var = milstoadd
			distribution = uniform
			min = global.setup_military_factories_min
			max = global.setup_military_factories_max
		}

		add_building_construction = {
			type = arms_factory
			level = milstoadd
			instant_build = yes
		}
	}
}

clear_dockyards = {
	custom_effect_tooltip = esicolor.11.b_tt
	hidden_effect = {
		remove_building = {
			type = dockyard
			level = 25
		}
	}
}

randomise_dockyards = {
	hidden_effect = {
		set_temp_variable = { dyardstoadd = 1 }
		randomize_temp_variable = {
			var = dyardstoadd
			distribution = uniform
			min = global.setup_dockyards_min
			max = global.setup_dockyards_max
		}

		add_building_construction = {
			type = dockyard
			level = dyardstoadd
			instant_build = yes
		}
	}
}

clear_synthetic_refineries = {
	custom_effect_tooltip = esicolor.16.b_tt
	hidden_effect = {
		every_state = {
			remove_building = {
				type = synthetic_refinery
				level = 25
			}
		}
	}
}

randomise_synthetic_refineries = {
	hidden_effect = {
		set_temp_variable = { refineriestoadd = 5 }
		randomize_temp_variable = {
			var = refineriestoadd
			distribution = uniform
			min = global.setup_synthetic_refineries_min
			max = global.setup_synthetic_refineries_max
		}

		while_loop_effect  = {
			limit = { check_variable = { refineriestoadd > 0 } }

			random_state = {
				limit = { synthetic_refinery < 1 }

				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}

			subtract_from_temp_variable = { refineriestoadd = 1 }
		}
	}
}

clear_fuel_silos = {
	custom_effect_tooltip = esicolor.17.b_tt
	hidden_effect = {
		remove_building = {
			type = fuel_silo
			level = 25
		}
	}
}

randomise_fuel_silos = {
	random_list = {
		seed = random
		2 = {
			add_building_construction = {
				type = fuel_silo
				level = 1
				instant_build = yes
			}
		}
		98 = { }
	}
}

clear_anti_air = {
	set_building_level = {
		type = anti_air_building
		level = 0
		instant_build = yes
	}
}

randomise_anti_air = {
	random_list = {
		seed = random
		1330 = {
			set_building_level = {
				type = anti_air_building
				level = 0
				instant_build = yes
			}
		}
		20 = {
			set_building_level = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
		}
		1 = {
			set_building_level = {
				type = anti_air_building
				level = 2
				instant_build = yes
			}
		}
		10 = {
			set_building_level = {
				type = anti_air_building
				level = 3
				instant_build = yes
			}
		}
		1 = {
			set_building_level = {
				type = anti_air_building
				level = 4
				instant_build = yes
			}
		}
		2 = {
			set_building_level = {
				type = anti_air_building
				level = 5
				instant_build = yes
			}
		}
	}
}

place_starting_air_bases = {
	# if list instead of else_if because some states appear twice for 1939 setup.
	every_state = {
		if = {
			limit = { has_level_1_air_base = yes }
			set_building_level = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_2_air_base = yes }
			set_building_level = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_3_air_base = yes }
			set_building_level = {
				type = air_base
				level = 3
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_4_air_base = yes }
			set_building_level = {
				type = air_base
				level = 4
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_5_air_base = yes }
			set_building_level = {
				type = air_base
				level = 5
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_6_air_base = yes }
			set_building_level = {
				type = air_base
				level = 6
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_7_air_base = yes }
			set_building_level = {
				type = air_base
				level = 7
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_8_air_base = yes }
			set_building_level = {
				type = air_base
				level = 8
				instant_build = yes
			}
		}
		if = {
			limit = { has_level_10_air_base = yes }
			set_building_level = {
				type = air_base
				level = 10
				instant_build = yes
			}
		}
	}
}

randomise_air_bases = {
	random_list = {
		seed = random
		651 = {
			set_building_level = {
				type = air_base
				level = 0
				instant_build = yes
			}
		}
		81 = {
			set_building_level = {
				type = air_base
				level = 1
				instant_build = yes
			}
		}
		55 = {
			set_building_level = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		80 = {
			set_building_level = {
				type = air_base
				level = 3
				instant_build = yes
			}
		}
		26 = {
			set_building_level = {
				type = air_base
				level = 4
				instant_build = yes
			}
		}
		29 = {
			set_building_level = {
				type = air_base
				level = 5
				instant_build = yes
			}
		}
		25 = {
			set_building_level = {
				type = air_base
				level = 6
				instant_build = yes
			}
		}
		1 = {
			set_building_level = {
				type = air_base
				level = 7
				instant_build = yes
			}
		}
		7 = {
			set_building_level = {
				type = air_base
				level = 8
				instant_build = yes
			}
		}
		14 = {
			set_building_level = {
				type = air_base
				level = 10
				instant_build = yes
			}
		}
	}
}

clear_radar_stations = {
	set_building_level = {
		type = radar_station
		level = 0
		instant_build = yes
	}
}

randomise_radar_stations = {
	set_temp_variable = { radar_stations_minus = 100 }
	subtract_from_temp_variable = { radar_stations_minus = global.setup_radar_stations }
	random_list = {
		seed = random
		global.setup_radar_stations = {
			set_building_level = {
				type = radar_station
				level = 1
				instant_build = yes
			}
		}
		radar_stations_minus = {
			set_building_level = {
				type = radar_station
				level = 0
				instant_build = yes
			}
		}
	}
}

randomise_state_category = {
	random_list = {
		seed = random
		10 = {
			modifier = {
				factor = 0

				check_variable = { global.setup_state_category_min > 0 }
			}

			set_state_category = wasteland
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 1 }
					check_variable = { global.setup_state_category_max < 1 }
				}
			}

			set_state_category = pastoral
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 2 }
					check_variable = { global.setup_state_category_max < 2 }
				}
			}

			set_state_category = rural
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 3 }
					check_variable = { global.setup_state_category_max < 3 }
				}
			}

			set_state_category = town
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 4 }
					check_variable = { global.setup_state_category_max < 4 }
				}
			}

			set_state_category = large_town
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 5 }
					check_variable = { global.setup_state_category_max < 5 }
				}
			}

			set_state_category = city
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 6 }
					check_variable = { global.setup_state_category_max < 6 }
				}
			}

			set_state_category = large_city
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_state_category_min > 7 }
					check_variable = { global.setup_state_category_max < 7 }
				}
			}

			set_state_category = metropolis
		}
		10 = {
			modifier = {
				factor = 0

				check_variable = { global.setup_state_category_max < 8 }
			}

			set_state_category = megalopolis
		}
	}
}

clear_forts = {
	every_state = {
		set_building_level = {
			type = bunker
			level = 0
			province = { all_provinces = yes }
			instant_build = yes
		}
		set_building_level = {
			type = coastal_bunker
			level = 0
			province = { all_provinces = yes }
			instant_build = yes
		}
	}
}

clear_resources = {
	hidden_effect = {
		set_temp_variable = { infrahere = building_level@infrastructure }
		divide_temp_variable = { infrahere = 5 }
		add_to_temp_variable = { infrahere = 1 }
		set_temp_variable = { oilhere = resource@oil }
		divide_temp_variable = { oilhere = infrahere }
		multiply_temp_variable = { oilhere = -1 }
		add_resource = {
			type = oil
			amount = oilhere
		}
		set_temp_variable = { rubberhere = resource@rubber }
		divide_temp_variable = { rubberhere = infrahere }
		multiply_temp_variable = { rubberhere = -1 }
		add_resource = {
			type = rubber
			amount = rubberhere
		}
		set_temp_variable = { steelhere = resource@steel }
		divide_temp_variable = { steelhere = infrahere }
		multiply_temp_variable = { steelhere = -1 }
		add_resource = {
			type = steel
			amount = steelhere
		}
		set_temp_variable = { aluminiumhere = resource@aluminium }
		divide_temp_variable = { aluminiumhere = infrahere }
		multiply_temp_variable = { aluminiumhere = -1 }
		add_resource = {
			type = aluminium
			amount = aluminiumhere
		}
		set_temp_variable = { tungstenhere = resource@tungsten }
		divide_temp_variable = { tungstenhere = infrahere }
		multiply_temp_variable = { tungstenhere = -1 }
		add_resource = {
			type = tungsten
			amount = tungstenhere
		}
		set_temp_variable = { chromiumhere = resource@chromium }
		divide_temp_variable = { chromiumhere = infrahere }
		multiply_temp_variable = { chromiumhere = -1 }
		add_resource = {
			type = chromium
			amount = chromiumhere
		}
	}
}

setup_default_resources = {
	hidden_effect = {
		4 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		6 = {
			add_resource = {
				type = steel
				amount = 25
			}
		}
		7 = {
			add_resource = {
				type = steel
				amount = 4
			}
		}
		8 = {
			add_resource = {
				type = steel
				amount = 14
			}
		}
		9 = {
			add_resource = {
				type = steel
				amount = 5
			}
		}
		12 = {
			add_resource = {
				type = steel
				amount = 1
			}
		}
		13 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		15 = {
			add_resource = {
				type = steel
				amount = 21
			}
		}
		17 = {
			add_resource = {
				type = steel
				amount = 28
			}
		}
		19 = {
			add_resource = {
				type = steel
				amount = 14
			}
			add_resource = {
				type = aluminium
				amount = 11
			}
		}
		20 = {
			add_resource = {
				type = steel
				amount = 32
			}
			add_resource = {
				type = aluminium
				amount = 35
			}
		}
		21 = {
			add_resource = {
				type = aluminium
				amount = 60
			}
		}
		22 = {
			add_resource = {
				type = steel
				amount = 27
			}
			add_resource = {
				type = aluminium
				amount = 50
			}
		}
		23 = {
			add_resource = {
				type = steel
				amount = 12
			}
		}
		27 = {
			add_resource = {
				type = aluminium
				amount = 11
			}
		}
		28 = {
			add_resource = {
				type = steel
				amount = 42
			}
		}
		29 = {
			add_resource = {
				type = steel
				amount = 24
			}
			add_resource = {
				type = aluminium
				amount = 8
			}
		}
		32 = {
			add_resource = {
				type = steel
				amount = 16
			}
			add_resource = {
				type = aluminium
				amount = 30
			}
		}
		34 = {
			add_resource = {
				type = steel
				amount = 22
			}
		}
		39 = {
			add_resource = {
				type = aluminium
				amount = 14
			}
		}
		41 = {
			add_resource = {
				type = aluminium
				amount = 1
			}
		}
		42 = {
			add_resource = {
				type = steel
				amount = 50
			}
			add_resource = {
				type = aluminium
				amount = 14
			}
		}
		43 = {
			add_resource = {
				type = steel
				amount = 6
			}
			add_resource = {
				type = aluminium
				amount = 40
			}
		}
		44 = {
			add_resource = {
				type = oil
				amount = 4
			}
			add_resource = {
				type = aluminium
				amount = 1
			}
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		46 = {
			add_resource = {
				type = oil
				amount = 44
			}
		}
		47 = {
			add_resource = {
				type = steel
				amount = 3
			}
			add_resource = {
				type = aluminium
				amount = 30
			}
			add_resource = {
				type = tungsten
				amount = 10
			}
			add_resource = {
				type = chromium
				amount = 12
			}
		}
		48 = {
			add_resource = {
				type = aluminium
				amount = 2
			}
		}
		49 = {
			add_resource = {
				type = steel
				amount = 28
			}
			add_resource = {
				type = chromium
				amount = 11
			}
		}
		50 = {
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		51 = {
			add_resource = {
				type = steel
				amount = 35
			}
		}
		52 = {
			add_resource = {
				type = aluminium
				amount = 18
			}
		}
		59 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		60 = {
			add_resource = {
				type = steel
				amount = 9
			}
			add_resource = {
				type = tungsten
				amount = 3
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		63 = {
			add_resource = {
				type = steel
				amount = 7
			}
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		65 = {
			add_resource = {
				type = steel
				amount = 41
			}
		}
		66 = {
			add_resource = {
				type = steel
				amount = 10
			}
			add_resource = {
				type = aluminium
				amount = 16
			}
		}
		67 = {
			add_resource = {
				type = steel
				amount = 8
			}
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		68 = {
			add_resource = {
				type = aluminium
				amount = 15
			}
		}
		69 = {
			add_resource = {
				type = steel
				amount = 4
			}
		}
		70 = {
			add_resource = {
				type = tungsten
				amount = 1
			}
		}
		75 = {
			add_resource = {
				type = oil
				amount = 2
			}
			add_resource = {
				type = steel
				amount = 4
			}
		}
		82 = {
			add_resource = {
				type = aluminium
				amount = 4
			}
		}
		84 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		88 = {
			add_resource = {
				type = oil
				amount = 3
			}
			add_resource = {
				type = steel
				amount = 5
			}
		}
		90 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		101 = {
			add_resource = {
				type = aluminium
				amount = 10
			}
		}
		104 = {
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		105 = {
			add_resource = {
				type = aluminium
				amount = 70
			}
			add_resource = {
				type = chromium
				amount = 20
			}
		}
		106 = {
			add_resource = {
				type = aluminium
				amount = 16
			}
			add_resource = {
				type = chromium
				amount = 70
			}
		}
		108 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		112 = {
			add_resource = {
				type = tungsten
				amount = 32
			}
		}
		113 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		117 = {
			add_resource = {
				type = steel
				amount = 15
			}
			add_resource = {
				type = aluminium
				amount = 10
			}
		}
		119 = {
			add_resource = {
				type = aluminium
				amount = 2
			}
		}
		120 = {
			add_resource = {
				type = aluminium
				amount = 9
			}
			add_resource = {
				type = tungsten
				amount = 16
			}
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		122 = {
			add_resource = {
				type = steel
				amount = 11
			}
			add_resource = {
				type = aluminium
				amount = 3
			}
		}
		128 = {
			add_resource = {
				type = steel
				amount = 27
			}
		}
		129 = {
			add_resource = {
				type = steel
				amount = 11
			}
		}
		130 = {
			add_resource = {
				type = steel
				amount = 71
			}
		}
		131 = {
			add_resource = {
				type = steel
				amount = 18
			}
		}
		132 = {
			add_resource = {
				type = steel
				amount = 31
			}
			add_resource = {
				type = aluminium
				amount = 2
			}
		}
		133 = {
			add_resource = {
				type = steel
				amount = 21
			}
		}
		136 = {
			add_resource = {
				type = aluminium
				amount = 3
			}
			add_resource = {
				type = tungsten
				amount = 4
			}
		}
		139 = {
			add_resource = {
				type = steel
				amount = 4
			}
		}
		140 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		141 = {
			add_resource = {
				type = steel
				amount = 24
			}
			add_resource = {
				type = aluminium
				amount = 2
			}
		}
		142 = {
			add_resource = {
				type = aluminium
				amount = 10
			}
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		144 = {
			add_resource = {
				type = steel
				amount = 6
			}
		}
		148 = {
			add_resource = {
				type = steel
				amount = 7
			}
			add_resource = {
				type = chromium
				amount = 2
			}
		}
		150 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		151 = {
			add_resource = {
				type = aluminium
				amount = 15
			}
		}
		152 = {
			add_resource = {
				type = steel
				amount = 15
			}
			add_resource = {
				type = aluminium
				amount = 1
			}
		}
		155 = {
			add_resource = {
				type = oil
				amount = 1
			}
			add_resource = {
				type = aluminium
				amount = 60
			}
		}
		158 = {
			add_resource = {
				type = steel
				amount = 24
			}
			add_resource = {
				type = aluminium
				amount = 16
			}
			add_resource = {
				type = tungsten
				amount = 1
			}
			add_resource = {
				type = chromium
				amount = 2
			}
		}
		160 = {
			add_resource = {
				type = steel
				amount = 20
			}
			add_resource = {
				type = aluminium
				amount = 11
			}
		}
		161 = {
			add_resource = {
				type = aluminium
				amount = 9
			}
		}
		166 = {
			add_resource = {
				type = steel
				amount = 15
			}
		}
		170 = {
			add_resource = {
				type = tungsten
				amount = 4
			}
		}
		173 = {
			add_resource = {
				type = steel
				amount = 8
			}
		}
		174 = {
			add_resource = {
				type = tungsten
				amount = 10
			}
		}
		181 = {
			add_resource = {
				type = tungsten
				amount = 95
			}
		}
		183 = {
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		184 = {
			add_resource = {
				type = chromium
				amount = 11
			}
		}
		185 = {
			add_resource = {
				type = steel
				amount = 14
			}
			add_resource = {
				type = chromium
				amount = 14
			}
		}
		187 = {
			add_resource = {
				type = chromium
				amount = 7
			}
		}
		189 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		196 = {
			add_resource = {
				type = chromium
				amount = 15
			}
		}
		202 = {
			add_resource = {
				type = oil
				amount = 8
			}
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		212 = {
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		213 = {
			add_resource = {
				type = steel
				amount = 14
			}
			add_resource = {
				type = chromium
				amount = 12
			}
		}
		215 = {
			add_resource = {
				type = steel
				amount = 30
			}
		}
		219 = {
			add_resource = {
				type = steel
				amount = 16
			}
		}
		221 = {
			add_resource = {
				type = steel
				amount = 33
			}
		}
		222 = {
			add_resource = {
				type = steel
				amount = 40
			}
			add_resource = {
				type = chromium
				amount = 8
			}
		}
		226 = {
			add_resource = {
				type = oil
				amount = 4
			}
		}
		229 = {
			add_resource = {
				type = oil
				amount = 70
			}
		}
		232 = {
			add_resource = {
				type = oil
				amount = 10
			}
		}
		233 = {
			add_resource = {
				type = chromium
				amount = 18
			}
		}
		234 = {
			add_resource = {
				type = oil
				amount = 12
			}
			add_resource = {
				type = tungsten
				amount = 17
			}
		}
		235 = {
			add_resource = {
				type = chromium
				amount = 14
			}
		}
		246 = {
			add_resource = {
				type = steel
				amount = 16
			}
		}
		249 = {
			add_resource = {
				type = steel
				amount = 25
			}
		}
		250 = {
			add_resource = {
				type = steel
				amount = 14
			}
		}
		257 = {
			add_resource = {
				type = chromium
				amount = 7
			}
		}
		261 = {
			add_resource = {
				type = steel
				amount = 28
			}
			add_resource = {
				type = aluminium
				amount = 9
			}
		}
		262 = {
			add_resource = {
				type = oil
				amount = 7
			}
		}
		267 = {
			add_resource = {
				type = tungsten
				amount = 3
			}
		}
		272 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		274 = {
			add_resource = {
				type = steel
				amount = 8
			}
			add_resource = {
				type = tungsten
				amount = 8
			}
			add_resource = {
				type = chromium
				amount = 4
			}
		}
		275 = {
			add_resource = {
				type = steel
				amount = 11
			}
			add_resource = {
				type = chromium
				amount = 53
			}
		}
		277 = {
			add_resource = {
				type = steel
				amount = 6
			}
		}
		279 = {
			add_resource = {
				type = steel
				amount = 14
			}
			add_resource = {
				type = tungsten
				amount = 8
			}
			add_resource = {
				type = chromium
				amount = 4
			}
		}
		282 = {
			add_resource = {
				type = aluminium
				amount = 1
			}
		}
		283 = {
			add_resource = {
				type = tungsten
				amount = 1
			}
		}
		286 = {
			add_resource = {
				type = rubber
				amount = 55
			}
		}
		288 = {
			add_resource = {
				type = rubber
				amount = 3
			}
			add_resource = {
				type = tungsten
				amount = 92
			}
		}
		289 = {
			add_resource = {
				type = rubber
				amount = 8
			}
			add_resource = {
				type = tungsten
				amount = 2
			}
		}
		290 = {
			add_resource = {
				type = steel
				amount = 40
			}
		}
		291 = {
			add_resource = {
				type = oil
				amount = 15
			}
		}
		293 = {
			add_resource = {
				type = oil
				amount = 1
			}
		}
		294 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		296 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
		298 = {
			add_resource = {
				type = rubber
				amount = 6
			}
		}
		300 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		302 = {
			add_resource = {
				type = steel
				amount = 2
			}
			add_resource = {
				type = tungsten
				amount = 60
			}
		}
		303 = {
			add_resource = {
				type = oil
				amount = 14
			}
		}
		304 = {
			add_resource = {
				type = oil
				amount = 1
			}
		}
		305 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		307 = {
			add_resource = {
				type = oil
				amount = 41
			}
		}
		309 = {
			add_resource = {
				type = aluminium
				amount = 60
			}
		}
		312 = {
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		313 = {
			add_resource = {
				type = chromium
				amount = 4
			}
		}
		314 = {
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		315 = {
			add_resource = {
				type = steel
				amount = 3
			}
			add_resource = {
				type = chromium
				amount = 90
			}
		}
		316 = {
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		317 = {
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		318 = {
			add_resource = {
				type = chromium
				amount = 2
			}
		}
		319 = {
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		322 = {
			add_resource = {
				type = tungsten
				amount = 2
			}
		}
		323 = {
			add_resource = {
				type = chromium
				amount = 2
			}
		}
		324 = {
			add_resource = {
				type = tungsten
				amount = 2
			}
		}
		325 = {
			add_resource = {
				type = tungsten
				amount = 2
			}
		}
		328 = {
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		329 = {
			add_resource = {
				type = chromium
				amount = 2
			}
		}
		330 = {
			add_resource = {
				type = steel
				amount = 2
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		333 = {
			add_resource = {
				type = oil
				amount = 12
			}
			add_resource = {
				type = rubber
				amount = 40
			}
		}
		334 = {
			add_resource = {
				type = oil
				amount = 5
			}
			add_resource = {
				type = rubber
				amount = 75
			}
		}
		335 = {
			add_resource = {
				type = oil
				amount = 10
			}
			add_resource = {
				type = rubber
				amount = 140
			}
		}
		336 = {
			add_resource = {
				type = rubber
				amount = 342
			}
			add_resource = {
				type = steel
				amount = 20
			}
			add_resource = {
				type = aluminium
				amount = 15
			}
			add_resource = {
				type = tungsten
				amount = 189
			}
		}
		338 = {
			add_resource = {
				type = steel
				amount = 9
			}
		}
		339 = {
			add_resource = {
				type = chromium
				amount = 50
			}
		}
		340 = {
			add_resource = {
				type = chromium
				amount = 39
			}
		}
		342 = {
			add_resource = {
				type = chromium
				amount = 35
			}
		}
		343 = {
			add_resource = {
				type = chromium
				amount = 25
			}
		}
		347 = {
			add_resource = {
				type = steel
				amount = 9
			}
			add_resource = {
				type = chromium
				amount = 19
			}
		}
		348 = {
			add_resource = {
				type = chromium
				amount = 32
			}
		}
		357 = {
			add_resource = {
				type = steel
				amount = 12
			}
		}
		358 = {
			add_resource = {
				type = steel
				amount = 13
			}
		}
		360 = {
			add_resource = {
				type = steel
				amount = 44
			}
		}
		368 = {
			add_resource = {
				type = steel
				amount = 60
			}
		}
		371 = {
			add_resource = {
				type = oil
				amount = 44
			}
		}
		372 = {
			add_resource = {
				type = aluminium
				amount = 14
			}
		}
		373 = {
			add_resource = {
				type = aluminium
				amount = 12
			}
		}
		374 = {
			add_resource = {
				type = oil
				amount = 60
			}
			add_resource = {
				type = aluminium
				amount = 20
			}
		}
		375 = {
			add_resource = {
				type = oil
				amount = 320
			}
			add_resource = {
				type = aluminium
				amount = 50
			}
		}
		376 = {
			add_resource = {
				type = oil
				amount = 14
			}
			add_resource = {
				type = aluminium
				amount = 30
			}
		}
		377 = {
			add_resource = {
				type = oil
				amount = 5
			}
			add_resource = {
				type = steel
				amount = 20
			}
			add_resource = {
				type = aluminium
				amount = 8
			}
		}
		378 = {
			add_resource = {
				type = oil
				amount = 180
			}
			add_resource = {
				type = aluminium
				amount = 8
			}
		}
		379 = {
			add_resource = {
				type = steel
				amount = 70
			}
			add_resource = {
				type = aluminium
				amount = 25
			}
			add_resource = {
				type = tungsten
				amount = 32
			}
		}
		380 = {
			add_resource = {
				type = tungsten
				amount = 76
			}
		}
		382 = {
			add_resource = {
				type = oil
				amount = 14
			}
		}
		383 = {
			add_resource = {
				type = oil
				amount = 30
			}
		}
		387 = {
			add_resource = {
				type = steel
				amount = 18
			}
			add_resource = {
				type = tungsten
				amount = 18
			}
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		388 = {
			add_resource = {
				type = tungsten
				amount = 11
			}
		}
		389 = {
			add_resource = {
				type = oil
				amount = 7
			}
			add_resource = {
				type = steel
				amount = 17
			}
		}
		391 = {
			add_resource = {
				type = steel
				amount = 110
			}
		}
		393 = {
			add_resource = {
				type = oil
				amount = 6
			}
			add_resource = {
				type = steel
				amount = 60
			}
		}
		394 = {
			add_resource = {
				type = steel
				amount = 53
			}
		}
		398 = {
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		399 = {
			add_resource = {
				type = chromium
				amount = 18
			}
		}
		400 = {
			add_resource = {
				type = aluminium
				amount = 14
			}
		}
		401 = {
			add_resource = {
				type = steel
				amount = 10
			}
			add_resource = {
				type = tungsten
				amount = 10
			}
		}
		402 = {
			add_resource = {
				type = chromium
				amount = 15
			}
		}
		408 = {
			add_resource = {
				type = chromium
				amount = 20
			}
		}
		409 = {
			add_resource = {
				type = chromium
				amount = 9
			}
		}
		411 = {
			add_resource = {
				type = oil
				amount = 12
			}
		}
		412 = {
			add_resource = {
				type = oil
				amount = 10
			}
		}
		413 = {
			add_resource = {
				type = oil
				amount = 28
			}
		}
		422 = {
			add_resource = {
				type = rubber
				amount = 60
			}
		}
		423 = {
			add_resource = {
				type = rubber
				amount = 19
			}
		}
		425 = {
			add_resource = {
				type = chromium
				amount = 10
			}
		}
		426 = {
			add_resource = {
				type = steel
				amount = 25
			}
			add_resource = {
				type = aluminium
				amount = 1
			}
			add_resource = {
				type = chromium
				amount = 20
			}
		}
		427 = {
			add_resource = {
				type = chromium
				amount = 6
			}
		}
		428 = {
			add_resource = {
				type = oil
				amount = 3
			}
		}
		431 = {
			add_resource = {
				type = steel
				amount = 13
			}
		}
		432 = {
			add_resource = {
				type = oil
				amount = 5
			}
		}
		436 = {
			add_resource = {
				type = chromium
				amount = 4
			}
		}
		447 = {
			add_resource = {
				type = oil
				amount = 1
			}
			add_resource = {
				type = steel
				amount = 3
			}
			add_resource = {
				type = tungsten
				amount = 3
			}
		}
		458 = {
			add_resource = {
				type = steel
				amount = 31
			}
		}
		459 = {
			add_resource = {
				type = steel
				amount = 65
			}
		}
		461 = {
			add_resource = {
				type = chromium
				amount = 12
			}
		}
		466 = {
			add_resource = {
				type = aluminium
				amount = 4
			}
		}
		467 = {
			add_resource = {
				type = aluminium
				amount = 3
			}
		}
		473 = {
			add_resource = {
				type = oil
				amount = 1
			}
		}
		476 = {
			add_resource = {
				type = oil
				amount = 8
			}
		}
		477 = {
			add_resource = {
				type = oil
				amount = 9
			}
		}
		478 = {
			add_resource = {
				type = tungsten
				amount = 8
			}
		}
		479 = {
			add_resource = {
				type = oil
				amount = 9
			}
		}
		480 = {
			add_resource = {
				type = oil
				amount = 8
			}
		}
		485 = {
			add_resource = {
				type = steel
				amount = 4
			}
		}
		489 = {
			add_resource = {
				type = oil
				amount = 35
			}
		}
		492 = {
			add_resource = {
				type = tungsten
				amount = 6
			}
		}
		493 = {
			add_resource = {
				type = oil
				amount = 15
			}
		}
		496 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		497 = {
			add_resource = {
				type = rubber
				amount = 13
			}
		}
		498 = {
			add_resource = {
				type = tungsten
				amount = 3
			}
		}
		499 = {
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		505 = {
			add_resource = {
				type = aluminium
				amount = 3
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		506 = {
			add_resource = {
				type = tungsten
				amount = 42
			}
		}
		507 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		509 = {
			add_resource = {
				type = steel
				amount = 4
			}
			add_resource = {
				type = tungsten
				amount = 30
			}
		}
		510 = {
			add_resource = {
				type = oil
				amount = 2
			}
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		512 = {
			add_resource = {
				type = oil
				amount = 3
			}
		}
		517 = {
			add_resource = {
				type = steel
				amount = 8
			}
			add_resource = {
				type = chromium
				amount = 4
			}
		}
		520 = {
			add_resource = {
				type = steel
				amount = 22
			}
		}
		521 = {
			add_resource = {
				type = tungsten
				amount = 24
			}
		}
		527 = {
			add_resource = {
				type = steel
				amount = 18
			}
			add_resource = {
				type = tungsten
				amount = 28
			}
		}
		528 = {
			add_resource = {
				type = chromium
				amount = 52
			}
		}
		531 = {
			add_resource = {
				type = aluminium
				amount = 3
			}
		}
		533 = {
			add_resource = {
				type = steel
				amount = 27
			}
		}
		535 = {
			add_resource = {
				type = steel
				amount = 27
			}
			add_resource = {
				type = tungsten
				amount = 8
			}
		}
		537 = {
			add_resource = {
				type = oil
				amount = 3
			}
		}
		538 = {
			add_resource = {
				type = rubber
				amount = 5
			}
		}
		542 = {
			add_resource = {
				type = chromium
				amount = 90
			}
		}
		546 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
		548 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		550 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		558 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
		559 = {
			add_resource = {
				type = steel
				amount = 1
			}
		}
		560 = {
			add_resource = {
				type = steel
				amount = 18
			}
		}
		563 = {
			add_resource = {
				type = steel
				amount = 9
			}
			add_resource = {
				type = chromium
				amount = 8
			}
		}
		564 = {
			add_resource = {
				type = steel
				amount = 10
			}
			add_resource = {
				type = aluminium
				amount = 4
			}
			add_resource = {
				type = tungsten
				amount = 10
			}
			add_resource = {
				type = chromium
				amount = 12
			}
		}
		565 = {
			add_resource = {
				type = steel
				amount = 10
			}
			add_resource = {
				type = chromium
				amount = 5
			}
		}
		566 = {
			add_resource = {
				type = steel
				amount = 20
			}
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		567 = {
			add_resource = {
				type = aluminium
				amount = 26
			}
		}
		573 = {
			add_resource = {
				type = chromium
				amount = 23
			}
		}
		577 = {
			add_resource = {
				type = oil
				amount = 13
			}
		}
		581 = {
			add_resource = {
				type = aluminium
				amount = 27
			}
			add_resource = {
				type = chromium
				amount = 40
			}
		}
		582 = {
			add_resource = {
				type = oil
				amount = 6
			}
			add_resource = {
				type = steel
				amount = 40
			}
		}
		586 = {
			add_resource = {
				type = steel
				amount = 20
			}
			add_resource = {
				type = aluminium
				amount = 10
			}
			add_resource = {
				type = tungsten
				amount = 4
			}
			add_resource = {
				type = chromium
				amount = 12
			}
		}
		588 = {
			add_resource = {
				type = chromium
				amount = 10
			}
		}
		592 = {
			add_resource = {
				type = steel
				amount = 15
			}
			add_resource = {
				type = tungsten
				amount = 8
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		593 = {
			add_resource = {
				type = steel
				amount = 15
			}
			add_resource = {
				type = tungsten
				amount = 15
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		594 = {
			add_resource = {
				type = steel
				amount = 8
			}
			add_resource = {
				type = tungsten
				amount = 11
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		599 = {
			add_resource = {
				type = steel
				amount = 15
			}
			add_resource = {
				type = tungsten
				amount = 15
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		601 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		602 = {
			add_resource = {
				type = tungsten
				amount = 6
			}
		}
		605 = {
			add_resource = {
				type = steel
				amount = 14
			}
		}
		606 = {
			add_resource = {
				type = steel
				amount = 11
			}
		}
		619 = {
			add_resource = {
				type = aluminium
				amount = 2
			}
			add_resource = {
				type = chromium
				amount = 2
			}
		}
		622 = {
			add_resource = {
				type = steel
				amount = 3
			}
			add_resource = {
				type = tungsten
				amount = 3
			}
		}
		623 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
		635 = {
			add_resource = {
				type = chromium
				amount = 90
			}
		}
		640 = {
			add_resource = {
				type = tungsten
				amount = 120
			}
		}
		652 = {
			add_resource = {
				type = steel
				amount = 20
			}
		}
		657 = {
			add_resource = {
				type = steel
				amount = 18
			}
		}
		658 = {
			add_resource = {
				type = oil
				amount = 5
			}
		}
		660 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		664 = {
			add_resource = {
				type = steel
				amount = 13
			}
			add_resource = {
				type = chromium
				amount = 3
			}
		}
		666 = {
			add_resource = {
				type = steel
				amount = 50
			}
			add_resource = {
				type = tungsten
				amount = 44
			}
			add_resource = {
				type = chromium
				amount = 25
			}
		}
		667 = {
			add_resource = {
				type = rubber
				amount = 12
			}
		}
		671 = {
			add_resource = {
				type = tungsten
				amount = 27
			}
			add_resource = {
				type = chromium
				amount = 6
			}
		}
		672 = {
			add_resource = {
				type = oil
				amount = 12
			}
			add_resource = {
				type = rubber
				amount = 150
			}
			add_resource = {
				type = aluminium
				amount = 28
			}
		}
		673 = {
			add_resource = {
				type = rubber
				amount = 30
			}
		}
		676 = {
			add_resource = {
				type = oil
				amount = 8
			}
		}
		682 = {
			add_resource = {
				type = steel
				amount = 8
			}
			add_resource = {
				type = aluminium
				amount = 9
			}
		}
		683 = {
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		687 = {
			add_resource = {
				type = aluminium
				amount = 64
			}
		}
		688 = {
			add_resource = {
				type = steel
				amount = 2
			}
			add_resource = {
				type = tungsten
				amount = 3
			}
		}
		691 = {
			add_resource = {
				type = oil
				amount = 12
			}
		}
		695 = {
			add_resource = {
				type = oil
				amount = 35
			}
		}
		700 = {
			add_resource = {
				type = steel
				amount = 32
			}
		}
		716 = {
			add_resource = {
				type = steel
				amount = 27
			}
		}
		718 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		719 = {
			add_resource = {
				type = chromium
				amount = 60
			}
		}
		723 = {
			add_resource = {
				type = tungsten
				amount = 4
			}
		}
		724 = {
			add_resource = {
				type = rubber
				amount = 40
			}
		}
		762 = {
			add_resource = {
				type = steel
				amount = 19
			}
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		768 = {
			add_resource = {
				type = tungsten
				amount = 3
			}
		}
		771 = {
			add_resource = {
				type = tungsten
				amount = 4
			}
			add_resource = {
				type = chromium
				amount = 18
			}
		}
		772 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
		785 = {
			add_resource = {
				type = steel
				amount = 12
			}
			add_resource = {
				type = aluminium
				amount = 4
			}
		}
		788 = {
			add_resource = {
				type = tungsten
				amount = 10
			}
		}
		791 = {
			add_resource = {
				type = tungsten
				amount = 10
			}
		}
		792 = {
			add_resource = {
				type = steel
				amount = 8
			}
		}
		795 = {
			add_resource = {
				type = chromium
				amount = 20
			}
		}
		802 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		804 = {
			add_resource = {
				type = aluminium
				amount = 7
			}
		}
		808 = {
			add_resource = {
				type = steel
				amount = 1
			}
		}
		821 = {
			add_resource = {
				type = oil
				amount = 9
			}
		}
		825 = {
			add_resource = {
				type = oil
				amount = 7
			}
		}
		827 = {
			add_resource = {
				type = chromium
				amount = 17
			}
		}
		828 = {
			add_resource = {
				type = chromium
				amount = 8
			}
		}
		829 = {
			add_resource = {
				type = steel
				amount = 14
			}
			add_resource = {
				type = tungsten
				amount = 6
			}
		}
		837 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		838 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
		845 = {
			add_resource = {
				type = aluminium
				amount = 18
			}
		}
		846 = {
			add_resource = {
				type = aluminium
				amount = 15
			}
		}
		859 = {
			add_resource = {
				type = oil
				amount = 3
			}
		}
		882 = {
			add_resource = {
				type = chromium
				amount = 6
			}
		}
		889 = {
			add_resource = {
				type = tungsten
				amount = 2
			}
		}
		890 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		891 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
		913 = {
			add_resource = {
				type = steel
				amount = 3
			}
		}
		916 = {
			add_resource = {
				type = steel
				amount = 20
			}
		}
		917 = {
			add_resource = {
				type = steel
				amount = 20
			}
		}
		918 = {
			add_resource = {
				type = steel
				amount = 39
			}
			add_resource = {
				type = tungsten
				amount = 35
			}
			add_resource = {
				type = chromium
				amount = 15
			}
		}
		919 = {
			add_resource = {
				type = steel
				amount = 4
			}
		}
		920 = {
			add_resource = {
				type = aluminium
				amount = 5
			}
		}
		922 = {
			add_resource = {
				type = aluminium
				amount = 5
			}
		}
		923 = {
			add_resource = {
				type = steel
				amount = 3
			}
			add_resource = {
				type = tungsten
				amount = 5
			}
		}
		924 = {
			add_resource = {
				type = tungsten
				amount = 5
			}
		}
		925 = {
			add_resource = {
				type = tungsten
				amount = 5
			}
		}
		931 = {
			add_resource = {
				type = steel
				amount = 20
			}
			add_resource = {
				type = aluminium
				amount = 5
			}
		}
		934 = {
			add_resource = {
				type = aluminium
				amount = 1
			}
			add_resource = {
				type = chromium
				amount = 1
			}
		}
		938 = {
			add_resource = {
				type = rubber
				amount = 10
			}
		}
		939 = {
			add_resource = {
				type = aluminium
				amount = 4
			}
		}
		940 = {
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		943 = {
			add_resource = {
				type = steel
				amount = 1
			}
		}
		945 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		946 = {
			add_resource = {
				type = oil
				amount = 3
			}
		}
		947 = {
			add_resource = {
				type = tungsten
				amount = 2
			}
		}
		949 = {
			add_resource = {
				type = oil
				amount = 1
			}
			add_resource = {
				type = aluminium
				amount = 1
			}
		}
		950 = {
			add_resource = {
				type = steel
				amount = 24
			}
		}
		951 = {
			add_resource = {
				type = tungsten
				amount = 14
			}
		}
		953 = {
			add_resource = {
				type = oil
				amount = 1
			}
		}
		954 = {
			add_resource = {
				type = oil
				amount = 3
			}
		}
		955 = {
			add_resource = {
				type = oil
				amount = 4
			}
		}
		956 = {
			add_resource = {
				type = oil
				amount = 6
			}
		}
		957 = {
			add_resource = {
				type = steel
				amount = 2
			}
			add_resource = {
				type = tungsten
				amount = 5
			}
		}
		970 = {
			add_resource = {
				type = aluminium
				amount = 6
			}
			add_resource = {
				type = chromium
				amount = 20
			}
		}
		972 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
		974 = {
			add_resource = {
				type = oil
				amount = 1
			}
			add_resource = {
				type = aluminium
				amount = 20
			}
		}
		976 = {
			add_resource = {
				type = aluminium
				amount = 1
			}
			add_resource = {
				type = steel
				amount = 15
			}
		}
		978 = {
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		980 = {
			add_resource = {
				type = steel
				amount = 9
			}
		}
		981 = {
			add_resource = {
				type = tungsten
				amount = 4
			}
			add_resource = {
				type = chromium
				amount = 16
			}
		}
	}
}

setup_equal_resources = {
	hidden_effect = {
		add_resource = {
			type = oil
			amount = 10
		}
		add_resource = {
			type = rubber
			amount = 3
		}
		add_resource = {
			type = steel
			amount = 15
		}
		add_resource = {
			type = aluminium
			amount = 5
		}
		add_resource = {
			type = tungsten
			amount = 5
		}
		add_resource = {
			type = chromium
			amount = 2
		}
	}
}

randomise_resources = {
	random_list = {
		seed = random
		15 = {
			modifier = {
				factor = 0

				oil > 0
			}
			custom_effect_tooltip = esicolor.8.e_tt1
			hidden_effect = {
				set_temp_variable = { resourcetoadd = 10 }
				randomize_temp_variable = {
					var = resourcetoadd
					distribution = uniform
					min = global.setup_resource_oil_min
					max = global.setup_resource_oil_max
				}

				add_resource = {
					type = oil
					amount = resourcetoadd
				}
			}
		}
		15 = {
			modifier = {
				factor = 0

				rubber > 0
			}
			custom_effect_tooltip = esicolor.8.e_tt2
			hidden_effect = {
				set_temp_variable = { resourcetoadd = 3 }
				randomize_temp_variable = {
					var = resourcetoadd
					distribution = uniform
					min = global.setup_resource_rubber_min
					max = global.setup_resource_rubber_max
				}

				add_resource = {
					type = rubber
					amount = resourcetoadd
				}
			}
		}
		15 = {
			modifier = {
				factor = 0

				steel > 0
			}
			custom_effect_tooltip = esicolor.8.e_tt3
			hidden_effect = {
				set_temp_variable = { resourcetoadd = 15 }
				randomize_temp_variable = {
					var = resourcetoadd
					distribution = uniform
					min = global.setup_resource_steel_min
					max = global.setup_resource_steel_max
				}

				add_resource = {
					type = steel
					amount = resourcetoadd
				}
			}
		}
		15 = {
			modifier = {
				factor = 0

				aluminium > 0
			}
			custom_effect_tooltip = esicolor.8.e_tt4
			hidden_effect = {
				set_temp_variable = { resourcetoadd = 5 }
				randomize_temp_variable = {
					var = resourcetoadd
					distribution = uniform
					min = global.setup_resource_aluminium_min
					max = global.setup_resource_aluminium_max
				}

				add_resource = {
					type = aluminium
					amount = resourcetoadd
				}
			}
		}
		15 = {
			modifier = {
				factor = 0

				tungsten > 0
			}
			custom_effect_tooltip = esicolor.8.e_tt5
			hidden_effect = {
				set_temp_variable = { resourcetoadd = 5 }
				randomize_temp_variable = {
					var = resourcetoadd
					distribution = uniform
					min = global.setup_resource_tungsten_min
					max = global.setup_resource_tungsten_max
				}

				add_resource = {
					type = tungsten
					amount = resourcetoadd
				}
			}
		}
		15 = {
			modifier = {
				factor = 0

				chromium > 0
			}
			custom_effect_tooltip = esicolor.8.e_tt6
			hidden_effect = {
				set_temp_variable = { resourcetoadd = 2 }
				randomize_temp_variable = {
					var = resourcetoadd
					distribution = uniform
					min = global.setup_resource_chromium_min
					max = global.setup_resource_chromium_max
				}

				add_resource = {
					type = chromium
					amount = resourcetoadd
				}
			}
		}
	}
}

give_transport_1 = {
	if = {
		limit = {
			has_dlc = "Man the Guns"
		}
		set_technology = {
			mtg_transport = 1
		}
	}
	else = {
		set_technology = {
			transport = 1
		}
	}
}

give_destroyer_1 = {
	if = {
		limit = {
			has_dlc = "Man the Guns"
		}
		set_technology = {
			early_ship_hull_light = 1
			basic_battery = 1
		}

		if = {
			limit = { is_ai = yes }
			create_equipment_variant = {
				name = "Early Destoryer 1"
				type = ship_hull_light_1
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_light_battery_1
					fixed_ship_anti_air_slot = empty
					fixed_ship_fire_control_system_slot = empty
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = light_ship_engine_1
					fixed_ship_torpedo_slot = empty
					mid_1_custom_slot = empty
					rear_1_custom_slot = empty
				}
			}
		}
	}
	else = {
		set_technology = {
			early_destroyer = 1
		}
	}
}

give_submarine_1 = {
	if = {
		limit = {
			has_dlc = "Man the Guns"
		}
		set_technology = {
			early_ship_hull_submarine = 1
			basic_torpedo = 1
		}

		if = {
			limit = { is_ai = yes }
			create_equipment_variant = {
				name = "Early Submarine 1"
				type = ship_hull_submarine_1
				parent_version = 0
				modules = {
					fixed_ship_torpedo_slot = ship_torpedo_sub_1
					fixed_ship_engine_slot = sub_ship_engine_1
					rear_1_custom_slot = empty
				}
			}
		}
	}
	else = {
		set_technology = {
			early_submarine = 1
		}
	}
}

give_gwtank = {
	if = {
		limit = {
			has_dlc = "No Step Back"
		}
		set_technology = {
			gwtank_chassis = 1
		}
	}
	else = {
		set_technology = {
			gwtank = 1
		}
	}
}

give_early_fighter = {
	if = {
		limit = {
			has_dlc = "By Blood Alone"
		}
		set_technology = {
			aa_lmg = 1
			engines_1 = 1
			iw_small_airframe = 1
		}

		if = {
			limit = { is_ai = yes }
			create_equipment_variant = {
				name = "Early Fighter"
				type = small_plane_airframe_0
				modules = {
					fixed_main_weapon_slot = light_mg_2x
					engine_type_slot = engine_1_1x
					special_type_slot_1 = lmg_defense_turret
				}
			}
		}
	}
	else = {
		set_technology = {
			early_fighter = 1
		}
	}
}

give_basic_cas = {
	if = {
		limit = {
			has_dlc = "By Blood Alone"
		}
		set_technology = {
			basic_small_airframe = 1
			early_bombs = 1
		}

		if = {
			limit = { is_ai = yes }
			create_equipment_variant = {
				name = "Basic CAS"
				type = small_plane_cas_airframe_1
				modules = {
					fixed_main_weapon_slot = small_bomb_bay
					fixed_auxiliary_weapon_slot_1 = empty
					engine_type_slot = engine_2_1x
					special_type_slot_1 = empty
					special_type_slot_2 = empty
				}
			}
		}
	}
	else = {
		set_technology = {
			CAS1 = 1
		}
	}
}

give_basic_naval_bomber = {
	if = {
		limit = {
			has_dlc = "By Blood Alone"
		}
		set_technology = {
			basic_small_airframe = 1
			air_torpedoe_1 = 1
		}

		if = {
			limit = { is_ai = yes }
			create_equipment_variant = {
				name = "Basic Naval Bomber"
				type = small_plane_naval_bomber_airframe_1
				modules = {
					fixed_main_weapon_slot = torpedo_mounting
					fixed_auxiliary_weapon_slot_1 = empty
					engine_type_slot = engine_2_1x
					special_type_slot_1 = empty
					special_type_slot_2 = empty
				}
			}
		}
	}
	else = {
		set_technology = {
			naval_bomber1 = 1
		}
	}
}

give_early_bomber = {
	if = {
		limit = {
			has_dlc = "By Blood Alone"
		}
		set_technology = {
			early_bombs = 1
			engines_1 = 1
			iw_medium_airframe = 1
		}

		if = {
			limit = { is_ai = yes }
			create_equipment_variant = {
				name = "Early Bomber"
				type = medium_plane_airframe_0
				modules = {
					fixed_main_weapon_slot = medium_bomb_bay
					engine_type_slot = engine_1_3x
					special_type_slot_1 = lmg_defense_turret
				}
			}
		}
	}
	else = {
		set_technology = {
			early_bomber = 1
		}
	}
}

setup_technology_option_1 = {
	set_technology = {
		tech_trucks = 1
		tech_support = 1
		gw_artillery = 1
	}
	give_transport_1 = yes
}

randomise_technology = {
	set_temp_variable = { mountaineers_paratroopers_marines_minus = 100 }
	set_temp_variable = { mountaineers_paratroopers_marines_third = global.setup_technology_tech_mountaineers_paratroopers_marines }
	subtract_from_temp_variable = { mountaineers_paratroopers_marines_minus = global.setup_technology_tech_mountaineers_paratroopers_marines }
	divide_temp_variable = { mountaineers_paratroopers_marines_third = 3 }
	random_list = {
		seed = random
		mountaineers_paratroopers_marines_third = {
			set_technology = { marines = 1 }
		}
		mountaineers_paratroopers_marines_third = {
			set_technology = { paratroopers = 1 }
		}
		mountaineers_paratroopers_marines_third = {
			set_technology = { tech_mountaineers = 1 }
		}
		mountaineers_paratroopers_marines_minus = { }
	}

	set_temp_variable = { transport_1_minus = 100 }
	subtract_from_temp_variable = { transport_1_minus = global.setup_technology_transport_1 }
	set_temp_variable = { destroyer_1_minus = 100 }
	subtract_from_temp_variable = { destroyer_1_minus = global.setup_technology_destroyer_1 }
	random_list = {
		seed = random
		global.setup_technology_transport_1 = {
			modifier = {
				factor = 3
				any_owned_state = { is_coastal = yes }
			}

			give_transport_1 = yes
		}
		transport_1_minus = { }
	}
	random_list = {
		seed = random
		global.setup_technology_destroyer_1 = {
			modifier = {
				factor = 3
				any_owned_state = { is_coastal = yes }
			}

			give_destroyer_1 = yes
		}
		destroyer_1_minus = { }
	}

	random = {
		chance =  global.setup_technology_infantry_weapons1

		set_technology = { infantry_weapons1 = 1 }
	}
	random = {
		chance =  global.setup_technology_support_weapons

		set_technology = { support_weapons = 1 }
	}
	random = {
		chance =  global.setup_technology_basic_machine_tools

		set_technology = { basic_machine_tools = 1 }
	}
}

randomise_technology_legacy = {
	random_list = {
		seed = random
		30 = {
			random_list = {
				seed = random
				30 = {
					set_technology = {
						infantry_weapons1 = 1
					}
				}
				25 = {
					set_technology = {
						support_weapons = 1
					}
				}
				5 = {
					set_technology = {
						infantry_weapons1 = 1
						support_weapons = 1
					}
				}
				40 = { }
			}

			random_list = {
				seed = random
				5 = {
					modifier = {
						factor = 2
						any_owned_state = {
							is_coastal = yes
						}
					}

					set_technology = {
						marines = 1
					}
				}
				5 = {
					set_technology = {
						paratroopers = 1
					}
				}
				5 = {
					modifier = {
						factor = 0.5
						any_owned_state = {
							is_coastal = yes
						}
					}

					set_technology = {
						tech_mountaineers = 1
					}
				}
				85 = { }
			}
			random_list = {
				seed = random
				10 = {
					set_technology = {
						tech_trucks = 1
					}
				}
				10 = {
					set_technology = {
						gw_artillery = 1
					}
				}
				80 = { }
			}

			random_list = {
				seed = random
				15 = {
					set_technology = {
						basic_machine_tools = 1
					}
				}
				85 = { }
			}

			random_list = {
				seed = random
				15 = {
					modifier = {
						factor = 3
						any_owned_state = {
							is_coastal = yes
						}
					}

					give_transport_1 = yes
				}
				85 = { }
			}
			random_list = {
				seed = random
				15 = {
					modifier = {
						factor = 3
						any_owned_state = {
							is_coastal = yes
						}
					}

					give_destroyer_1 = yes
				}
				85 = { }
			}
		}
		50 = {
			set_technology = {
				infantry_weapons1 = 1
			}

			random_list = {
				seed = random
				40 = {
					set_technology = {
						support_weapons = 1
					}
				}
				60 = { }
			}
			random_list = {
				seed = random
				10 = {
					modifier = {
						factor = 2
						any_owned_state = {
							is_coastal = yes
						}
					}

					set_technology = {
						marines = 1
					}
				}
				10 = {
					set_technology = {
						paratroopers = 1
					}
				}
				10 = {
					modifier = {
						factor = 0.5
						any_owned_state = {
							is_coastal = yes
						}
					}

					set_technology = {
						tech_mountaineers = 1
					}
				}
				70 = { }
			}
			random_list = {
				seed = random
				60 = {
					set_technology = {
						tech_trucks = 1
					}

					random_list = {
						seed = random
						10 = {
							set_technology = {
								motorised_infantry = 1
							}
						}
						20 = {
							set_technology = {
								basic_train = 1
							}
						}
						70 = { }
					}
				}
				40 = { }
			}
			random_list = {
				seed = random
				60 = {
					set_technology = {
						gw_artillery = 1
					}

					random_list = {
						seed = random
						10 = {
							set_technology = {
								interwar_antiair = 1
							}
						}
						10 = {
							set_technology = {
								interwar_antitank = 1
							}
						}
						10 = {
							give_gwtank = yes
						}
						70 = { }
					}
				}
				40 = { }
			}
			random_list = {
				seed = random
				30 = {
					set_technology = {
						tech_support = 1
					}

					random_list = {
						seed = random
						10 = {
							set_technology = {
								tech_recon = 1
							}
						}
						10 = {
							set_technology = {
								tech_engineers = 1
							}
						}
						5 = {
							set_technology = {
								tech_military_police = 1
							}
						}
						75 = { }
					}
				}
				70 = { }
			}

			random_list = {
				seed = random
				30 = {
					set_technology = {
						electronic_mechanical_engineering = 1
					}

					random_list = {
						seed = random
						10 = {
							set_technology = {
								radio = 1
							}

							random_list = {
								seed = random
								10 = {
									set_technology = {
										radio_detection = 1
									}
								}
								90 = { }
							}
						}
						90 = { }
					}
				}
				70 = { }
			}
			random_list = {
				seed = random
				30 = {
					set_technology = {
						basic_machine_tools = 1
					}

					random_list = {
						seed = random
						10 = {
							set_technology = {
								construction1 = 1
							}
						}
						90 = { }
					}
				}
				70 = { }
			}
			random_list = {
				seed = random
				30 = {
					set_technology = {
						fuel_silos = 1
					}

					random_list = {
						seed = random
						5 = {
							set_technology = {
								fuel_refining = 1
							}
						}
						95 = { }
					}
				}
				70 = { }
			}

			random_list = {
				seed = random
				25 = {
					modifier = {
						factor = 3
						any_owned_state = {
							is_coastal = yes
						}
					}

					give_transport_1 = yes
				}
				75 = { }
			}
			random_list = {
				seed = random
				25 = {
					modifier = {
						factor = 3
						any_owned_state = {
							is_coastal = yes
						}
					}

					give_destroyer_1 = yes
				}
				75 = { }
			}
			random_list = {
				seed = random
				25 = {
					modifier = {
						factor = 3
						any_owned_state = {
							is_coastal = yes
						}
					}

					give_submarine_1 = yes
				}
				75 = { }
			}

			random_list = {
				seed = random
				20 = {
					give_early_fighter = yes

					random_list = {
						seed = random
						5 = {
							modifier = {
								factor = 0.5
								any_owned_state = {
									is_coastal = yes
								}
							}

							give_basic_cas = yes
						}
						5 = {
							modifier = {
								factor = 2
								any_owned_state = {
									is_coastal = yes
								}
							}

							give_basic_naval_bomber = yes
						}
						90 = { }
					}
				}
				80 = { }
			}
			random_list = {
				seed = random
				10 = {
					give_early_bomber = yes
				}
				90 = { }
			}
		}
		20 = { }
	}
}

randomise_stability = {
	hidden_effect = {
		set_temp_variable = { stabtoset = 50 }
		randomize_temp_variable = {
			var = stabtoset
			distribution = uniform
			min = global.setup_stability_min
			max = global.setup_stability_max
		}
		divide_temp_variable = { stabtoset = 100 }
		set_stability = stabtoset
	}
}

randomise_war_support = {
	hidden_effect = {
		set_temp_variable = { wstoset = 50 }
		randomize_temp_variable = {
			var = wstoset
			distribution = uniform
			min = global.setup_war_support_min
			max = global.setup_war_support_max
		}
		divide_temp_variable = { wstoset = 100 }
		set_war_support = wstoset
	}
}

randomise_intelligence_agency = {
	set_temp_variable = { intelligence_agency_minus = global.setup_intelligence_agency_chance }
	multiply_temp_variable = { intelligence_agency_minus = -1 }
	random_list = {
		seed = random
		0 = {
			modifier = { add = global.setup_intelligence_agency_chance }

			create_intelligence_agency = yes
		}
		981 = {
			modifier = { add = intelligence_agency_minus }
		}
	}
}

remove_political_advisor = {
	random_list = {
		seed = random
		6 = {
			set_country_flag = popular_figurehead_disabled

			modifier = {
				factor = 0
				
				has_country_flag = popular_figurehead_disabled
			}
		}
		6 = {
			set_country_flag = propaganda_expert_disabled

			modifier = {
				factor = 0
				
				has_country_flag = propaganda_expert_disabled
			}
		}
		6 = {
			set_country_flag = silent_workhorse_disabled

			modifier = {
				factor = 0
				
				has_country_flag = silent_workhorse_disabled
			}
		}
		6 = {
			set_country_flag = prince_of_terror_disabled

			modifier = {
				factor = 0
				
				has_country_flag = prince_of_terror_disabled
			}
		}
		6 = {
			set_country_flag = backroom_backstabber_disabled

			modifier = {
				factor = 0
				
				has_country_flag = backroom_backstabber_disabled
			}
		}
		6 = {
			set_country_flag = editor_disabled

			modifier = {
				factor = 0
				
				has_country_flag = editor_disabled
			}
		}
		6 = {
			set_country_flag = compassionate_gentleman_disabled

			modifier = {
				factor = 0
				
				has_country_flag = compassionate_gentleman_disabled
			}
		}
		6 = {
			set_country_flag = smooth_talking_charmer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = smooth_talking_charmer_disabled
			}
		}
		6 = {
			set_country_flag = financial_expert_disabled

			modifier = {
				factor = 0
				
				has_country_flag = financial_expert_disabled
			}
		}
		6 = {
			set_country_flag = economist_disabled

			modifier = {
				factor = 0
				
				has_country_flag = economist_disabled
			}
		}
		6 = {
			set_country_flag = captain_of_industry_disabled

			modifier = {
				factor = 0
				
				has_country_flag = captain_of_industry_disabled
			}
		}
		6 = {
			set_country_flag = war_industrialist_disabled

			modifier = {
				factor = 0
				
				has_country_flag = war_industrialist_disabled
			}
		}
		6 = {
			set_country_flag = fortification_engineer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = fortification_engineer_disabled
			}
		}
		6 = {
			set_country_flag = quartermaster_general_disabled

			modifier = {
				factor = 0
				
				has_country_flag = quartermaster_general_disabled
			}
		}
		12 = {
			set_country_flag = armaments_organizer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = armaments_organizer_disabled
			}
		}
	}
}

remove_spymaster = {
	random_list = {
		seed = random
		30 = {
			set_country_flag = head_of_intelligence_disabled

			modifier = {
				factor = 0

				has_country_flag = head_of_intelligence_disabled
			}
		}
		35 = {
			set_country_flag = code_breaker_disabled

			modifier = {
				factor = 0

				has_country_flag = code_breaker_disabled
			}
		}
		35 = {
			set_country_flag = encryption_expert_disabled

			modifier = {
				factor = 0

				has_country_flag = encryption_expert_disabled
			}
		}
	}
}

remove_theorist = {
	random_list = {
		seed = random
		1 = {
			set_country_flag = military_theorist_disabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = naval_theorist_disabled
					has_country_flag = air_warfare_theorist_disabled
				}
			}
		}
		5 = {
			set_country_flag = naval_theorist_disabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = naval_theorist_disabled
				}
			}
		}
		5 = {
			set_country_flag = air_warfare_theorist_disabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = air_warfare_theorist_disabled
				}
			}
		}
		89 = { }
	}
}

get_branch_specific_military_theorist = {
	random_list = {
		seed = random
		3 = {
			set_country_flag = mobile_warfare_expert_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = mobile_warfare_expert_enabled
				}
			}
		}
		3 = {
			set_country_flag = superior_firepower_expert_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = superior_firepower_expert_enabled
				}
			}
		}
		3 = {
			set_country_flag = grand_battle_plan_expert_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = grand_battle_plan_expert_enabled
				}
			}
		}
		3 = {
			set_country_flag = mass_assault_expert_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = military_theorist_disabled
					has_country_flag = mass_assault_expert_enabled
				}
			}
		}
		88 = { }
	}
}

get_branch_specific_naval_theorist = {
	random_list = {
		seed = random
		4 = {
			set_country_flag = naval_aviation_pioneer_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = naval_theorist_disabled
					has_country_flag = naval_aviation_pioneer_enabled
				}
			}
		}
		4 = {
			set_country_flag = grand_fleet_proponent_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = naval_theorist_disabled
					has_country_flag = grand_fleet_proponent_enabled
				}
			}
		}
		4 = {
			set_country_flag = submarine_specialist_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = naval_theorist_disabled
					has_country_flag = submarine_specialist_enabled
				}
			}
		}
		88 = { }
	}
}

get_branch_specific_air_warfare_theorist = {
	random_list = {
		seed = random
		4 = {
			set_country_flag = victory_through_airpower_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = air_warfare_theorist_disabled
					has_country_flag = victory_through_airpower_enabled
				}
			}
		}
		4 = {
			set_country_flag = close_air_support_proponent_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = air_warfare_theorist_disabled
					has_country_flag = close_air_support_proponent_enabled
				}
			}
		}
		4 = {
			set_country_flag = assault_avaition_enabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = air_warfare_theorist_disabled
					has_country_flag = assault_avaition_enabled
				}
			}
		}
		88 = { }
	}
}

remove_scientist = {
	random_list = {
		seed = random
		15 = {
			set_country_flag = nuclear_scientist_disabled

			modifier = {
				factor = 0

				has_country_flag = nuclear_scientist_disabled
			}
		}
		15 = {
			set_country_flag = rocket_scientist_disabled

			modifier = {
				factor = 0

				has_country_flag = rocket_scientist_disabled
			}
		}
		15 = { }
	}
}

remove_army_chief = {
	random_list = {
		seed = random
		10 = {
			set_country_flag = army_chief_offensive_disabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = army_chief_offensive_disabled
					has_country_flag = army_chief_defensive_disabled
				}
			}
		}
		10 = {
			set_country_flag = army_chief_defensive_disabled

			modifier = {
				factor = 0
				
				OR = {
					has_country_flag = army_chief_offensive_disabled
					has_country_flag = army_chief_defensive_disabled
				}
			}
		}
		10 = {
			set_country_flag = army_chief_maneuver_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_maneuver_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_drill_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_drill_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_planning_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_planning_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_morale_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_morale_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_organizational_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_organizational_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_entrenchment_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_entrenchment_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_reform_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_reform_disabled
			}
		}
		10 = {
			set_country_flag = army_chief_old_guard_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_chief_old_guard_disabled
			}
		}
	}
}

randomise_army_chief_offensive_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_offensive_1
				has_trait = army_chief_offensive_2
				has_trait = army_chief_offensive_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_offensive_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_offensive_esicolor
							cost = 50
							traits = { army_chief_offensive_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_offensive_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_offensive_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_offensive_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_offensive_esicolor
							cost = 100
							traits = { army_chief_offensive_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_offensive_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_offensive_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_offensive_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_offensive_esicolor
							cost = 200
							traits = { army_chief_offensive_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_offensive_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_offensive_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_defensive_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_defensive_1
				has_trait = army_chief_defensive_2
				has_trait = army_chief_defensive_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_defensive_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_defensive_esicolor
							cost = 50
							traits = { army_chief_defensive_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_defensive_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_defensive_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_defensive_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_defensive_esicolor
							cost = 100
							traits = { army_chief_defensive_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_defensive_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_defensive_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_defensive_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_defensive_esicolor
							cost = 200
							traits = { army_chief_defensive_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_defensive_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_defensive_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_maneuver_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_maneuver_1
				has_trait = army_chief_maneuver_2
				has_trait = army_chief_maneuver_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_maneuver_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_maneuver
							cost = 50
							traits = { army_chief_maneuver_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_maneuver_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_maneuver_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_maneuver_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_maneuver
							cost = 100
							traits = { army_chief_maneuver_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_maneuver_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_maneuver_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_maneuver_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_maneuver
							cost = 200
							traits = { army_chief_maneuver_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_maneuver_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_maneuver_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_drill_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_drill_1
				has_trait = army_chief_drill_2
				has_trait = army_chief_drill_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_drill_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_drill
							cost = 50
							traits = { army_chief_drill_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_drill_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_drill_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_drill_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_drill
							cost = 100
							traits = { army_chief_drill_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_drill_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_drill_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_drill_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_drill
							cost = 200
							traits = { army_chief_drill_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_drill_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_drill_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_planning_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_planning_1
				has_trait = army_chief_planning_2
				has_trait = army_chief_planning_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_planning_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_planning
							cost = 50
							traits = { army_chief_planning_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_planning_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_planning_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_planning_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_planning
							cost = 100
							traits = { army_chief_planning_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_planning_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_planning_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_planning_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_planning
							cost = 200
							traits = { army_chief_planning_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_planning_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_planning_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_morale_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_morale_1
				has_trait = army_chief_morale_2
				has_trait = army_chief_morale_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_morale_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_morale
							cost = 50
							traits = { army_chief_morale_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_morale_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_morale_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_morale_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_morale
							cost = 100
							traits = { army_chief_morale_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_morale_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_morale_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_morale_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_morale
							cost = 200
							traits = { army_chief_morale_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_morale_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_morale_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_organizational_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_organizational_1
				has_trait = army_chief_organizational_2
				has_trait = army_chief_organizational_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_organizational_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_organizational
							cost = 50
							traits = { army_chief_organizational_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_organizational_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_organizational_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_organizational_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_organizational
							cost = 100
							traits = { army_chief_organizational_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_organizational_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_organizational_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_organizational_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_organizational
							cost = 200
							traits = { army_chief_organizational_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_organizational_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_organizational_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_entrenchment_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_entrenchment_1
				has_trait = army_chief_entrenchment_2
				has_trait = army_chief_entrenchment_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_entrenchment_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_entrenchment
							cost = 50
							traits = { army_chief_entrenchment_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_entrenchment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_entrenchment_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_entrenchment_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_entrenchment
							cost = 100
							traits = { army_chief_entrenchment_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_entrenchment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_entrenchment_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_entrenchment_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_entrenchment
							cost = 200
							traits = { army_chief_entrenchment_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_entrenchment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_entrenchment_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_chief_reform_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_chief_reform_1
				has_trait = army_chief_reform_2
				has_trait = army_chief_reform_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_reform_1 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_reform_esicolor
							cost = 50
							traits = { army_chief_reform_1 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_reform_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_reform_2 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_reform_esicolor
							cost = 100
							traits = { army_chief_reform_2 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_reform_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_chief_reform_3 } }

					remove_advisor_role = { slot = army_chief }
					add_advisor_role = {
						advisor = {
							slot = army_chief
							idea_token = generic_army_chief_reform_esicolor
							cost = 200
							traits = { army_chief_reform_3 }

							#visible = {
							#	NOT = { has_country_flag = army_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_chief_reform_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

remove_navy_chief = {
	random_list = {
		seed = random
		15 = {
			set_country_flag = navy_chief_commerce_raiding_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_chief_commerce_raiding_disabled
			}
		}
		15 = {
			set_country_flag = navy_chief_maneuver_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_chief_maneuver_disabled
			}
		}
		15 = {
			set_country_flag = navy_chief_decisive_battle_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_chief_decisive_battle_disabled
			}
		}
		15 = {
			set_country_flag = navy_chief_naval_aviation_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_chief_naval_aviation_disabled
			}
		}
		15 = {
			set_country_flag = navy_chief_reform_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_chief_reform_disabled
			}
		}
		20 = {
			set_country_flag = navy_chief_old_guard_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_chief_old_guard_disabled
			}
		}
	}
}

randomise_navy_chief_commerce_raiding_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_chief_commerce_raiding_1
				has_trait = navy_chief_commerce_raiding_2
				has_trait = navy_chief_commerce_raiding_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_commerce_raiding_1 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_commerce_raiding_esicolor
							cost = 50
							traits = { navy_chief_commerce_raiding_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_commerce_raiding_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_commerce_raiding_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_commerce_raiding_2 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_commerce_raiding_esicolor
							cost = 100
							traits = { navy_chief_commerce_raiding_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_commerce_raiding_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_commerce_raiding_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_commerce_raiding_3 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_commerce_raiding_esicolor
							cost = 200
							traits = { navy_chief_commerce_raiding_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_commerce_raiding_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_commerce_raiding_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_chief_maneuver_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_chief_maneuver_1
				has_trait = navy_chief_maneuver_2
				has_trait = navy_chief_maneuver_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_maneuver_1 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_maneuver
							cost = 50
							traits = { navy_chief_maneuver_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_maneuver_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_maneuver_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_maneuver_2 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_maneuver
							cost = 100
							traits = { navy_chief_maneuver_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_maneuver_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_maneuver_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_maneuver_3 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_maneuver
							cost = 200
							traits = { navy_chief_maneuver_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_maneuver_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_maneuver_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_chief_decisive_battle_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_chief_decisive_battle_1
				has_trait = navy_chief_decisive_battle_2
				has_trait = navy_chief_decisive_battle_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_decisive_battle_1 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_decisive_battle_esicolor
							cost = 50
							traits = { navy_chief_decisive_battle_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_decisive_battle_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_decisive_battle_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_decisive_battle_2 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_decisive_battle_esicolor
							cost = 100
							traits = { navy_chief_decisive_battle_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_decisive_battle_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_decisive_battle_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_decisive_battle_3 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_decisive_battle_esicolor
							cost = 200
							traits = { navy_chief_decisive_battle_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_decisive_battle_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_decisive_battle_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_chief_naval_aviation_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_chief_naval_aviation_1
				has_trait = navy_chief_naval_aviation_2
				has_trait = navy_chief_naval_aviation_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_naval_aviation_1 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_naval_aviation
							cost = 50
							traits = { navy_chief_naval_aviation_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_naval_aviation_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_naval_aviation_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_naval_aviation_2 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_naval_aviation
							cost = 100
							traits = { navy_chief_naval_aviation_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_naval_aviation_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_naval_aviation_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_naval_aviation_3 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_naval_aviation
							cost = 200
							traits = { navy_chief_naval_aviation_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_naval_aviation_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_naval_aviation_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_chief_reform_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_chief_reform_1
				has_trait = navy_chief_reform_2
				has_trait = navy_chief_reform_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_reform_1 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_reform_esicolor
							cost = 50
							traits = { navy_chief_reform_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_reform_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_reform_2 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_reform_esicolor
							cost = 100
							traits = { navy_chief_reform_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_reform_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_chief_reform_3 } }

					remove_advisor_role = { slot = navy_chief }
					add_advisor_role = {
						advisor = {
							slot = navy_chief
							idea_token = generic_navy_chief_reform_esicolor
							cost = 200
							traits = { navy_chief_reform_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_chief_reform_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

remove_air_chief = {
	random_list = {
		seed = random
		15 = {
			set_country_flag = air_chief_night_operations_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_chief_night_operations_disabled
			}
		}
		15 = {
			set_country_flag = air_chief_ground_support_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_chief_ground_support_disabled
			}
		}
		15 = {
			set_country_flag = air_chief_all_weather_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_chief_all_weather_disabled
			}
		}
		15 = {
			set_country_flag = air_chief_safety_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_chief_safety_disabled
			}
		}
		15 = {
			set_country_flag = air_chief_reform_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_chief_reform_disabled
			}
		}
		20 = {
			set_country_flag = air_chief_old_guard_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_chief_old_guard_disabled
			}
		}
	}
}

randomise_air_chief_night_operations_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_chief_night_operations_1
				has_trait = air_chief_night_operations_2
				has_trait = air_chief_night_operations_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_night_operations_1 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_night_operations
							cost = 50
							traits = { air_chief_night_operations_1 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_night_operations_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_night_operations_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_night_operations_2 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_night_operations
							cost = 100
							traits = { air_chief_night_operations_2 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_night_operations_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_night_operations_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_night_operations_3 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_night_operations
							cost = 200
							traits = { air_chief_night_operations_3 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_night_operations_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_night_operations_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_chief_ground_support_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_chief_ground_support_1
				has_trait = air_chief_ground_support_2
				has_trait = air_chief_ground_support_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_ground_support_1 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_ground_support_esicolor
							cost = 50
							traits = { air_chief_ground_support_1 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_ground_support_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_ground_support_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_ground_support_2 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_ground_support_esicolor
							cost = 100
							traits = { air_chief_ground_support_2 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_ground_support_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_ground_support_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_ground_support_3 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_ground_support_esicolor
							cost = 200
							traits = { air_chief_ground_support_3 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_ground_support_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_ground_support_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_chief_all_weather_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_chief_all_weather_1
				has_trait = air_chief_all_weather_2
				has_trait = air_chief_all_weather_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_all_weather_1 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_all_weather_esicolor
							cost = 50
							traits = { air_chief_all_weather_1 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_all_weather_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_all_weather_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_all_weather_2 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_all_weather_esicolor
							cost = 100
							traits = { air_chief_all_weather_2 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_all_weather_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_all_weather_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_all_weather_3 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_all_weather_esicolor
							cost = 200
							traits = { air_chief_all_weather_3 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_all_weather_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_all_weather_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_chief_safety_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_chief_safety_1
				has_trait = air_chief_safety_2
				has_trait = air_chief_safety_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_safety_1 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_safety_esicolor
							cost = 50
							traits = { air_chief_safety_1 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_safety_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_safety_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_safety_2 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_safety_esicolor
							cost = 100
							traits = { air_chief_safety_2 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_safety_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_safety_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_safety_3 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_safety_esicolor
							cost = 200
							traits = { air_chief_safety_3 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_safety_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_safety_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_chief_reform_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_chief_reform_1
				has_trait = air_chief_reform_2
				has_trait = air_chief_reform_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_reform_1 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_reform_esicolor
							cost = 50
							traits = { air_chief_reform_1 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_reform_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_reform_2 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_reform_esicolor
							cost = 100
							traits = { air_chief_reform_2 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_reform_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_chief_reform_3 } }

					remove_advisor_role = { slot = air_chief }
					add_advisor_role = {
						advisor = {
							slot = air_chief
							idea_token = generic_air_chief_reform_esicolor
							cost = 200
							traits = { air_chief_reform_3 }

							#visible = {
							#	NOT = { has_country_flag = air_chief_reform_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_chief_reform_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

remove_high_command_army_specific = {
	random_list = {
		seed = random
		20 = {
			set_country_flag = army_infantry_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_infantry_disabled
			}
		}
		20 = {
			set_country_flag = army_artillery_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_artillery_disabled
			}
		}
		20 = {
			set_country_flag = army_cavalry_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_cavalry_disabled
			}
		}
		20 = {
			set_country_flag = army_armored_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_armored_disabled
			}
		}
		20 = {
			set_country_flag = army_commando_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_commando_disabled
			}
		}
	}
}


randomise_army_infantry_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_infantry_1
				has_trait = army_infantry_2
				has_trait = army_infantry_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_infantry_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_infantry
							ledger = army
							cost = 50
							traits = { army_infantry_1 }

							#visible = {
							#	NOT = { has_country_flag = army_infantry_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_infantry_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_infantry_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_infantry
							ledger = army
							cost = 100
							traits = { army_infantry_2 }

							#visible = {
							#	NOT = { has_country_flag = army_infantry_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_infantry_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_infantry_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_infantry
							ledger = army
							cost = 200
							traits = { army_infantry_3 }

							#visible = {
							#	NOT = { has_country_flag = army_infantry_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_infantry_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_artillery_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_artillery_1
				has_trait = army_artillery_2
				has_trait = army_artillery_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_artillery_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_artillery
							ledger = army
							cost = 50
							traits = { army_artillery_1 }

							#visible = {
							#	NOT = { has_country_flag = army_artillery_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_artillery_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_artillery_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_artillery
							ledger = army
							cost = 100
							traits = { army_artillery_2 }

							#visible = {
							#	NOT = { has_country_flag = army_artillery_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_artillery_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_artillery_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_artillery
							ledger = army
							cost = 200
							traits = { army_artillery_3 }

							#visible = {
							#	NOT = { has_country_flag = army_artillery_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_artillery_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_cavalry_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_cavalry_1
				has_trait = army_cavalry_2
				has_trait = army_cavalry_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_cavalry_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_cavalry
							ledger = army
							cost = 50
							traits = { army_cavalry_1 }

							#visible = {
							#	NOT = { has_country_flag = army_cavalry_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_cavalry_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_cavalry_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_cavalry
							ledger = army
							cost = 100
							traits = { army_cavalry_2 }

							#visible = {
							#	NOT = { has_country_flag = army_cavalry_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_cavalry_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_cavalry_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_cavalry
							ledger = army
							cost = 200
							traits = { army_cavalry_3 }

							#visible = {
							#	NOT = { has_country_flag = army_cavalry_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_cavalry_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_armored_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_armored_1
				has_trait = army_armored_2
				has_trait = army_armored_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_armored_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_armored
							ledger = army
							cost = 50
							traits = { army_armored_1 }

							#visible = {
							#	NOT = { has_country_flag = army_armored_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_armored_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_armored_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_armored
							ledger = army
							cost = 100
							traits = { army_armored_2 }

							#visible = {
							#	NOT = { has_country_flag = army_armored_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_armored_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_armored_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_armored
							ledger = army
							cost = 200
							traits = { army_armored_3 }

							#visible = {
							#	NOT = { has_country_flag = army_armored_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_armored_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_commando_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_commando_1
				has_trait = army_commando_2
				has_trait = army_commando_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_commando_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_commando
							ledger = army
							cost = 50
							traits = { army_commando_1 }

							#visible = {
							#	NOT = { has_country_flag = army_commando_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_commando_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_commando_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_commando
							ledger = army
							cost = 100
							traits = { army_commando_2 }

							#visible = {
							#	NOT = { has_country_flag = army_commando_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_commando_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_commando_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_commando
							ledger = army
							cost = 200
							traits = { army_commando_3 }

							#visible = {
							#	NOT = { has_country_flag = army_commando_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_commando_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

remove_high_command_army_generic = {
	random_list = {
		seed = random
		20 = {
			set_country_flag = army_entrenchment_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_entrenchment_disabled
			}
		}
		20 = {
			set_country_flag = army_logistics_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_logistics_disabled
			}
		}
		20 = {
			set_country_flag = army_regrouping_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_regrouping_disabled
			}
		}
		20 = {
			set_country_flag = army_concealment_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_concealment_disabled
			}
		}
		20 = {
			set_country_flag = army_radio_intelligence_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_radio_intelligence_disabled
			}
		}
		20 = {
			set_country_flag = army_jungle_warfare_disabled

			modifier = {
				factor = 0
				
				has_country_flag = army_jungle_warfare_disabled
			}
		}
	}
}

randomise_army_entrenchment_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_entrenchment_1
				has_trait = army_entrenchment_2
				has_trait = army_entrenchment_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_entrenchment_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_entrenchment_esicolor
							ledger = army
							cost = 50
							traits = { army_entrenchment_1 }

							#visible = {
							#	NOT = { has_country_flag = army_entrenchment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_entrenchment_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_entrenchment_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_entrenchment_esicolor
							ledger = army
							cost = 100
							traits = { army_entrenchment_2 }

							#visible = {
							#	NOT = { has_country_flag = army_entrenchment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_entrenchment_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_entrenchment_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_entrenchment_esicolor
							ledger = army
							cost = 200
							traits = { army_entrenchment_3 }

							#visible = {
							#	NOT = { has_country_flag = army_entrenchment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_entrenchment_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_logistics_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_logistics_1
				has_trait = army_logistics_2
				has_trait = army_logistics_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_logistics_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_logistics_esicolor
							ledger = army
							cost = 50
							traits = { army_logistics_1 }

							#visible = {
							#	NOT = { has_country_flag = army_logistics_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_logistics_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_logistics_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_logistics_esicolor
							ledger = army
							cost = 100
							traits = { army_logistics_2 }

							#visible = {
							#	NOT = { has_country_flag = army_logistics_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_logistics_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_logistics_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_logistics_esicolor
							ledger = army
							cost = 200
							traits = { army_logistics_3 }

							#visible = {
							#	NOT = { has_country_flag = army_logistics_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_logistics_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_regrouping_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_regrouping_1
				has_trait = army_regrouping_2
				has_trait = army_regrouping_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_regrouping_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_regrouping_esicolor
							ledger = army
							cost = 50
							traits = { army_regrouping_1 }

							#visible = {
							#	NOT = { has_country_flag = army_regrouping_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_regrouping_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_regrouping_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_regrouping_esicolor
							ledger = army
							cost = 100
							traits = { army_regrouping_2 }

							#visible = {
							#	NOT = { has_country_flag = army_regrouping_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_regrouping_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_regrouping_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_regrouping_esicolor
							ledger = army
							cost = 200
							traits = { army_regrouping_3 }

							#visible = {
							#	NOT = { has_country_flag = army_regrouping_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_regrouping_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_concealment_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_concealment_1
				has_trait = army_concealment_2
				has_trait = army_concealment_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_concealment_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_concealment
							ledger = army
							cost = 50
							traits = { army_concealment_1 }

							#visible = {
							#	NOT = { has_country_flag = army_concealment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_concealment_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_concealment_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_concealment
							ledger = army
							cost = 100
							traits = { army_concealment_2 }

							#visible = {
							#	NOT = { has_country_flag = army_concealment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_concealment_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_concealment_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_concealment
							ledger = army
							cost = 200
							traits = { army_concealment_3 }

							#visible = {
							#	NOT = { has_country_flag = army_concealment_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_concealment_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_radio_intelligence_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_radio_intelligence_1
				has_trait = army_radio_intelligence_2
				has_trait = army_radio_intelligence_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_radio_intelligence_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_radio_intelligence
							ledger = army
							cost = 50
							traits = { army_radio_intelligence_1 }

							#visible = {
							#	NOT = { has_country_flag = army_radio_intelligence_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_radio_intelligence_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_radio_intelligence_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_radio_intelligence
							ledger = army
							cost = 100
							traits = { army_radio_intelligence_2 }

							#visible = {
							#	NOT = { has_country_flag = army_radio_intelligence_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_radio_intelligence_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_radio_intelligence_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_radio_intelligence
							ledger = army
							cost = 200
							traits = { army_radio_intelligence_3 }

							#visible = {
							#	NOT = { has_country_flag = army_radio_intelligence_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_radio_intelligence_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_army_jungle_warfare_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = army_jungle_warfare_1
				has_trait = army_jungle_warfare_2
				has_trait = army_jungle_warfare_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_jungle_warfare_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_jungle_warfare
							ledger = army
							cost = 50
							traits = { army_jungle_warfare_1 }

							#visible = {
							#	NOT = { has_country_flag = army_jungle_warfare_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_jungle_warfare_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = army_jungle_warfare_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_jungle_warfare
							ledger = army
							cost = 100
							traits = { army_jungle_warfare_2 }

							#visible = {
							#	NOT = { has_country_flag = army_jungle_warfare_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_jungle_warfare_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = army_jungle_warfare_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_army_jungle_warfare
							ledger = army
							cost = 200
							traits = { army_jungle_warfare_3 }

							#visible = {
							#	NOT = { has_country_flag = army_jungle_warfare_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = army_jungle_warfare_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

remove_high_command_navy = {
	random_list = {
		seed = random
		12 = {
			set_country_flag = navy_amphibious_assault_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_amphibious_assault_disabled
			}
		}
		12 = {
			set_country_flag = navy_fleet_logistics_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_fleet_logistics_disabled
			}
		}
		12 = {
			set_country_flag = navy_naval_air_defense_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_naval_air_defense_disabled
			}
		}
		12 = {
			set_country_flag = navy_anti_submarine_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_anti_submarine_disabled
			}
		}
		12 = {
			set_country_flag = navy_submarine_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_submarine_disabled
			}
		}
		12 = {
			set_country_flag = navy_capital_ship_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_capital_ship_disabled
			}
		}
		12 = {
			set_country_flag = navy_screen_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_screen_disabled
			}
		}
		12 = {
			set_country_flag = navy_carrier_disabled

			modifier = {
				factor = 0
				
				has_country_flag = navy_carrier_disabled
			}
		}
	}
}

randomise_navy_amphibious_assault_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_amphibious_assault_1
				has_trait = navy_amphibious_assault_2
				has_trait = navy_amphibious_assault_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_amphibious_assault_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_amphibious_assault_esicolor
							ledger = navy
							cost = 50
							traits = { navy_amphibious_assault_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_amphibious_assault_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_amphibious_assault_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_amphibious_assault_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_amphibious_assault_esicolor
							ledger = navy
							cost = 100
							traits = { navy_amphibious_assault_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_amphibious_assault_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_amphibious_assault_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_amphibious_assault_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_amphibious_assault_esicolor
							ledger = navy
							cost = 200
							traits = { navy_amphibious_assault_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_amphibious_assault_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_amphibious_assault_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_fleet_logistics_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_fleet_logistics_1
				has_trait = navy_fleet_logistics_2
				has_trait = navy_fleet_logistics_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_fleet_logistics_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_fleet_logistics_esicolor
							ledger = navy
							cost = 50
							traits = { navy_fleet_logistics_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_fleet_logistics_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_fleet_logistics_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_fleet_logistics_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_fleet_logistics_esicolor
							ledger = navy
							cost = 100
							traits = { navy_fleet_logistics_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_fleet_logistics_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_fleet_logistics_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_fleet_logistics_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_fleet_logistics_esicolor
							ledger = navy
							cost = 200
							traits = { navy_fleet_logistics_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_fleet_logistics_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_fleet_logistics_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_naval_air_defense_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_naval_air_defense_1
				has_trait = navy_naval_air_defense_2
				has_trait = navy_naval_air_defense_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_naval_air_defense_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_naval_air_defense_esicolor
							ledger = navy
							cost = 50
							traits = { navy_naval_air_defense_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_naval_air_defense_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_naval_air_defense_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_naval_air_defense_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_naval_air_defense_esicolor
							ledger = navy
							cost = 100
							traits = { navy_naval_air_defense_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_naval_air_defense_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_naval_air_defense_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_naval_air_defense_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_naval_air_defense_esicolor
							ledger = navy
							cost = 200
							traits = { navy_naval_air_defense_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_naval_air_defense_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_naval_air_defense_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_anti_submarine_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_anti_submarine_1
				has_trait = navy_anti_submarine_2
				has_trait = navy_anti_submarine_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_anti_submarine_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_anti_submarine
							ledger = navy
							cost = 50
							traits = { navy_anti_submarine_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_anti_submarine_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_anti_submarine_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_anti_submarine_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_anti_submarine
							ledger = navy
							cost = 100
							traits = { navy_anti_submarine_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_anti_submarine_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_anti_submarine_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_anti_submarine_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_anti_submarine
							ledger = navy
							cost = 200
							traits = { navy_anti_submarine_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_anti_submarine_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_anti_submarine_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_submarine_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_submarine_1
				has_trait = navy_submarine_2
				has_trait = navy_submarine_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_submarine_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_submarine
							ledger = navy
							cost = 50
							traits = { navy_submarine_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_submarine_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_submarine_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_submarine_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_submarine
							ledger = navy
							cost = 100
							traits = { navy_submarine_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_submarine_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_submarine_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_submarine_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_submarine
							ledger = navy
							cost = 200
							traits = { navy_submarine_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_submarine_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_submarine_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_capital_ship_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_capital_ship_1
				has_trait = navy_capital_ship_2
				has_trait = navy_capital_ship_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_capital_ship_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_capital_ship
							ledger = navy
							cost = 50
							traits = { navy_capital_ship_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_capital_ship_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_capital_ship_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_capital_ship_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_capital_ship
							ledger = navy
							cost = 100
							traits = { navy_capital_ship_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_capital_ship_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_capital_ship_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_capital_ship_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_capital_ship
							ledger = navy
							cost = 200
							traits = { navy_capital_ship_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_capital_ship_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_capital_ship_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_screen_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_screen_1
				has_trait = navy_screen_2
				has_trait = navy_screen_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_screen_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_screen
							ledger = navy
							cost = 50
							traits = { navy_screen_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_screen_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_screen_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_screen_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_screen
							ledger = navy
							cost = 100
							traits = { navy_screen_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_screen_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_screen_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_screen_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_screen
							ledger = navy
							cost = 200
							traits = { navy_screen_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_screen_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_screen_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_navy_carrier_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = navy_carrier_1
				has_trait = navy_carrier_2
				has_trait = navy_carrier_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_carrier_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_carrier
							ledger = navy
							cost = 50
							traits = { navy_carrier_1 }

							#visible = {
							#	NOT = { has_country_flag = navy_carrier_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_carrier_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_carrier_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_carrier
							ledger = navy
							cost = 100
							traits = { navy_carrier_2 }

							#visible = {
							#	NOT = { has_country_flag = navy_carrier_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_carrier_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = navy_carrier_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_navy_carrier
							ledger = navy
							cost = 200
							traits = { navy_carrier_3 }

							#visible = {
							#	NOT = { has_country_flag = navy_carrier_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = navy_carrier_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

remove_high_command_air = {
	random_list = {
		seed = random
		12 = {
			set_country_flag = air_air_superiority_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_air_superiority_disabled
			}
		}
		12 = {
			set_country_flag = air_bomber_interception_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_bomber_interception_disabled
			}
		}
		12 = {
			set_country_flag = air_close_air_support_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_close_air_support_disabled
			}
		}
		12 = {
			set_country_flag = air_naval_strike_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_naval_strike_disabled
			}
		}
		12 = {
			set_country_flag = air_strategic_bombing_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_strategic_bombing_disabled
			}
		}
		12 = {
			set_country_flag = air_airborne_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_airborne_disabled
			}
		}
		12 = {
			set_country_flag = air_air_combat_training_disabled

			modifier = {
				factor = 0
				
				has_country_flag = air_air_combat_training_disabled
			}
		}
	}
}

randomise_air_air_superiority_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_air_superiority_1
				has_trait = air_air_superiority_2
				has_trait = air_air_superiority_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_air_superiority_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_air_superiority_esicolor
							ledger = air
							cost = 50
							traits = { air_air_superiority_1 }

							#visible = {
							#	NOT = { has_country_flag = air_air_superiority_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_air_superiority_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_air_superiority_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_air_superiority_esicolor
							ledger = air
							cost = 100
							traits = { air_air_superiority_2 }

							#visible = {
							#	NOT = { has_country_flag = air_air_superiority_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_air_superiority_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_bomber_interception_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_air_superiority_esicolor
							ledger = air
							cost = 200
							traits = { air_air_superiority_3 }

							#visible = {
							#	NOT = { has_country_flag = air_air_superiority_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_air_superiority_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_bomber_interception_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_bomber_interception_1
				has_trait = air_bomber_interception_2
				has_trait = air_bomber_interception_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_bomber_interception_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_bomber_interception
							ledger = air
							cost = 50
							traits = { air_bomber_interception_1 }

							#visible = {
							#	NOT = { has_country_flag = air_bomber_interception_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_bomber_interception_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_bomber_interception_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_bomber_interception
							ledger = air
							cost = 100
							traits = { air_bomber_interception_2 }

							#visible = {
							#	NOT = { has_country_flag = air_bomber_interception_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_bomber_interception_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_bomber_interception_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_bomber_interception
							ledger = air
							cost = 200
							traits = { air_bomber_interception_3 }

							#visible = {
							#	NOT = { has_country_flag = air_bomber_interception_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_bomber_interception_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_close_air_support_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_close_air_support_1
				has_trait = air_close_air_support_2
				has_trait = air_close_air_support_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_close_air_support_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_close_air_support_esicolor
							ledger = air
							cost = 50
							traits = { air_close_air_support_1 }

							#visible = {
							#	NOT = { has_country_flag = air_close_air_support_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_close_air_support_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_close_air_support_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_close_air_support_esicolor
							ledger = air
							cost = 100
							traits = { air_close_air_support_2 }

							#visible = {
							#	NOT = { has_country_flag = air_close_air_support_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_close_air_support_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_close_air_support_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_close_air_support_esicolor
							ledger = air
							cost = 200
							traits = { air_close_air_support_3 }

							#visible = {
							#	NOT = { has_country_flag = air_close_air_support_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_close_air_support_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_naval_strike_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_naval_strike_1
				has_trait = air_naval_strike_2
				has_trait = air_naval_strike_3
			}
		}

		random_list = {
			seed = random
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_naval_strike_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_naval_strike
							ledger = air
							cost = 50
							traits = { air_naval_strike_1 }

							#visible = {
							#	NOT = { has_country_flag = air_naval_strike_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_naval_strike_disabled } }
							#}
						}
					}
				}
			}
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_naval_strike_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_naval_strike
							ledger = air
							cost = 100
							traits = { air_naval_strike_2 }

							#visible = {
							#	NOT = { has_country_flag = air_naval_strike_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_naval_strike_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_naval_strike_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_naval_strike
							ledger = air
							cost = 200
							traits = { air_naval_strike_3 }

							#visible = {
							#	NOT = { has_country_flag = air_naval_strike_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_naval_strike_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_strategic_bombing_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_strategic_bombing_1
				has_trait = air_strategic_bombing_2
				has_trait = air_strategic_bombing_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_strategic_bombing_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_strategic_bombing_esicolor
							ledger = air
							cost = 50
							traits = { air_strategic_bombing_1 }

							#visible = {
							#	NOT = { has_country_flag = air_strategic_bombing_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_strategic_bombing_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_strategic_bombing_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_strategic_bombing_esicolor
							ledger = air
							cost = 100
							traits = { air_strategic_bombing_2 }

							#visible = {
							#	NOT = { has_country_flag = air_strategic_bombing_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_strategic_bombing_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_strategic_bombing_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_strategic_bombing_esicolor
							ledger = air
							cost = 200
							traits = { air_strategic_bombing_3 }

							#visible = {
							#	NOT = { has_country_flag = air_strategic_bombing_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_strategic_bombing_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_airborne_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_airborne_1
				has_trait = air_airborne_2
				has_trait = air_airborne_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_airborne_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_airborne
							ledger = air
							cost = 50
							traits = { air_airborne_1 }

							#visible = {
							#	NOT = { has_country_flag = air_airborne_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_airborne_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_airborne_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_airborne
							ledger = air
							cost = 100
							traits = { air_airborne_2 }

							#visible = {
							#	NOT = { has_country_flag = air_airborne_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_airborne_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_airborne_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_airborne
							ledger = air
							cost = 200
							traits = { air_airborne_3 }

							#visible = {
							#	NOT = { has_country_flag = air_airborne_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_airborne_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

randomise_air_air_combat_training_levels = {
	every_character = {
		limit = {
			is_advisor = yes
			OR = {
				has_trait = air_air_combat_training_1
				has_trait = air_air_combat_training_2
				has_trait = air_air_combat_training_3
			}
		}

		random_list = {
			seed = random
			30 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_2
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_air_combat_training_1 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_air_combat_training_esicolor
							ledger = air
							cost = 50
							traits = { air_air_combat_training_1 }

							#visible = {
							#	NOT = { has_country_flag = air_air_combat_training_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_air_combat_training_disabled } }
							#}
						}
					}
				}
			}
			40 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_3
					}
				}

				if = {
					limit = { NOT = { has_trait = air_air_combat_training_2 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_air_combat_training_esicolor
							ledger = air
							cost = 100
							traits = { air_air_combat_training_2 }

							#visible = {
							#	NOT = { has_country_flag = air_air_combat_training_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_air_combat_training_disabled } }
							#}
						}
					}
				}
			}
			20 = {
				modifier = {
					factor = 0

					OR = {
						has_global_flag = military_advisor_levels_1
						has_global_flag = military_advisor_levels_2
					}
				}

				if = {
					limit = { NOT = { has_trait = air_air_combat_training_3 } }

					remove_advisor_role = { slot = high_command }
					add_advisor_role = {
						advisor = {
							slot = high_command
							idea_token = generic_air_air_combat_training_esicolor
							ledger = air
							cost = 200
							traits = { air_air_combat_training_3 }

							#visible = {
							#	NOT = { has_country_flag = air_air_combat_training_disabled }
							#}
							#available = {
							#	hidden_trigger = { NOT = { has_country_flag = air_air_combat_training_disabled } }
							#}
						}
					}
				}
			}
		}
	}
}

enable_all_advisors = {
	clear_advisor_disabled_flags = yes

	set_country_flag = all_advisors_enabled

	set_country_flag = mobile_warfare_expert_enabled
	set_country_flag = superior_firepower_expert_enabled
	set_country_flag = grand_battle_plan_expert_enabled
	set_country_flag = mass_assault_expert_enabled

	set_country_flag = naval_aviation_pioneer_enabled
	set_country_flag = grand_fleet_proponent_enabled
	set_country_flag = submarine_specialist_enabled

	set_country_flag = victory_through_airpower_enabled
	set_country_flag = close_air_support_proponent_enabled
	set_country_flag = assault_avaition_enabled
}

randomise_advisors = {
	clear_advisor_disabled_flags = yes

	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes
	remove_political_advisor = yes

	remove_spymaster = yes
	remove_spymaster = yes

	remove_theorist = yes
	remove_theorist = yes
	remove_theorist = yes

	get_branch_specific_military_theorist = yes
	get_branch_specific_naval_theorist = yes
	get_branch_specific_air_warfare_theorist = yes

	remove_scientist = yes
	remove_scientist = yes

	remove_army_chief = yes
	remove_army_chief = yes
	remove_army_chief = yes
	remove_army_chief = yes
	remove_army_chief = yes
	remove_army_chief = yes
	remove_army_chief = yes

	remove_navy_chief = yes
	remove_navy_chief = yes
	remove_navy_chief = yes

	remove_air_chief = yes
	remove_air_chief = yes
	remove_air_chief = yes

	remove_high_command_army_specific = yes
	remove_high_command_army_specific = yes
	remove_high_command_army_specific = yes

	remove_high_command_army_generic = yes
	remove_high_command_army_generic = yes
	remove_high_command_army_generic = yes
	remove_high_command_army_generic = yes

	remove_high_command_navy = yes
	remove_high_command_navy = yes
	remove_high_command_navy = yes
	remove_high_command_navy = yes
	remove_high_command_navy = yes
	remove_high_command_navy = yes

	remove_high_command_air = yes
	remove_high_command_air = yes
	remove_high_command_air = yes
	remove_high_command_air = yes
	remove_high_command_air = yes
}

randomise_military_advisor_levels = {
	if = { limit = { NOT = { has_country_flag = army_chief_offensive_disabled } } randomise_army_chief_offensive_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_defensive_disabled } } randomise_army_chief_defensive_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_maneuver_disabled } } randomise_army_chief_maneuver_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_drill_disabled } } randomise_army_chief_drill_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_planning_disabled } } randomise_army_chief_planning_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_morale_disabled } } randomise_army_chief_morale_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_organizational_disabled } } randomise_army_chief_organizational_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_entrenchment_disabled } } randomise_army_chief_entrenchment_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_chief_reform_disabled } } randomise_army_chief_reform_levels = yes }

	if = { limit = { NOT = { has_country_flag = navy_chief_commerce_raiding_disabled } } randomise_navy_chief_commerce_raiding_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_chief_maneuver_disabled } } randomise_navy_chief_maneuver_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_chief_decisive_battle_disabled } } randomise_navy_chief_decisive_battle_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_chief_naval_aviation_disabled } } randomise_navy_chief_naval_aviation_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_chief_reform_disabled } } randomise_navy_chief_reform_levels = yes }

	if = { limit = { NOT = { has_country_flag = air_chief_night_operations_disabled } } randomise_air_chief_night_operations_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_chief_ground_support_disabled } } randomise_air_chief_ground_support_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_chief_all_weather_disabled } } randomise_air_chief_all_weather_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_chief_safety_disabled } } randomise_air_chief_safety_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_chief_reform_disabled } } randomise_air_chief_reform_levels = yes }

	if = { limit = { NOT = { has_country_flag = army_infantry_disabled } } randomise_army_infantry_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_artillery_disabled } } randomise_army_artillery_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_cavalry_disabled } } randomise_army_cavalry_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_armored_disabled } } randomise_army_armored_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_commando_disabled } } randomise_army_commando_levels = yes }

	if = { limit = { NOT = { has_country_flag = army_entrenchment_disabled } } randomise_army_entrenchment_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_logistics_disabled } } randomise_army_logistics_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_regrouping_disabled } } randomise_army_regrouping_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_concealment_disabled } } randomise_army_concealment_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_radio_intelligence_disabled } } randomise_army_radio_intelligence_levels = yes }
	if = { limit = { NOT = { has_country_flag = army_jungle_warfare_disabled } } randomise_army_jungle_warfare_levels = yes }

	if = { limit = { NOT = { has_country_flag = navy_amphibious_assault_disabled } } randomise_navy_amphibious_assault_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_fleet_logistics_disabled } } randomise_navy_fleet_logistics_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_naval_air_defense_disabled } } randomise_navy_naval_air_defense_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_anti_submarine_disabled } } randomise_navy_anti_submarine_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_submarine_disabled } } randomise_navy_submarine_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_capital_ship_disabled } } randomise_navy_capital_ship_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_screen_disabled } } randomise_navy_screen_levels = yes }
	if = { limit = { NOT = { has_country_flag = navy_carrier_disabled } } randomise_navy_carrier_levels = yes }

	if = { limit = { NOT = { has_country_flag = air_air_superiority_disabled } } randomise_air_air_superiority_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_bomber_interception_disabled } } randomise_air_bomber_interception_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_close_air_support_disabled } } randomise_air_close_air_support_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_naval_strike_disabled } } randomise_air_naval_strike_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_strategic_bombing_disabled } } randomise_air_strategic_bombing_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_airborne_disabled } } randomise_air_airborne_levels = yes }
	if = { limit = { NOT = { has_country_flag = air_air_combat_training_disabled } } randomise_air_air_combat_training_levels = yes }
}

remove_tank_designer = {
	random_list = {
		seed = random
		15 = {
			set_country_flag = armored_car_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					NOT = { has_dlc = "La Resistance" }
					has_dlc = "Arms Against Tyranny" # MIO version is under Materiel Tab.
					has_country_flag = armored_car_manufacturer_disabled
				}
			}
		}
		15 = {
			set_country_flag = infantry_tank_manufacturer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = infantry_tank_manufacturer_disabled
			}
		}
		20 = {
			set_country_flag = assault_gun_manufacturer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = assault_gun_manufacturer_disabled
			}
		}
		20 = {
			set_country_flag = fast_tank_manufacturer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = fast_tank_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = medium_tank_manufacturer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = medium_tank_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = heavy_tank_manufacturer_disabled

			modifier = {
				factor = 0
				
				has_country_flag = heavy_tank_manufacturer_disabled
			}
		}
		20 = {
			set_country_flag = tank_refurbishment_plant_disabled

			modifier = {
				factor = 0

				has_country_flag = tank_refurbishment_plant_disabled
			}
		}
	}
}

remove_ship_designer = {
	random_list = {
		seed = random
		10 = {
			set_country_flag = pacific_fleet_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = pacific_fleet_naval_manufacturer_disabled
					AND = {
						has_country_flag = atlantic_fleet_naval_manufacturer_disabled
						has_country_flag = mediterranean_fleet_naval_manufacturer_disabled
						has_country_flag = black_sea_fleet_naval_manufacturer_disabled
					}
				}
			}
		}
		10 = {
			set_country_flag = atlantic_fleet_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = atlantic_fleet_naval_manufacturer_disabled
					AND = {
						has_country_flag = pacific_fleet_naval_manufacturer_disabled
						has_country_flag = mediterranean_fleet_naval_manufacturer_disabled
						has_country_flag = black_sea_fleet_naval_manufacturer_disabled
					}
				}
			}
		}
		10 = {
			set_country_flag = mediterranean_fleet_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_dlc = "Arms Against Tyranny"
					has_country_flag = mediterranean_fleet_naval_manufacturer_disabled
					AND = {
						has_country_flag = pacific_fleet_naval_manufacturer_disabled
						has_country_flag = atlantic_fleet_naval_manufacturer_disabled
						has_country_flag = black_sea_fleet_naval_manufacturer_disabled
					}
				}
			}
		}
		10 = {
			set_country_flag = black_sea_fleet_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = black_sea_fleet_naval_manufacturer_disabled
					AND = {
						has_country_flag = pacific_fleet_naval_manufacturer_disabled
						has_country_flag = atlantic_fleet_naval_manufacturer_disabled
						has_country_flag = mediterranean_fleet_naval_manufacturer_disabled
					}
				}
			}
		}
		15 = {
			set_country_flag = battlefleet_designer_disabled

			modifier = {
				factor = 0

				OR = {
					has_dlc = "Arms Against Tyranny"
					has_country_flag = battlefleet_designer_disabled
				}
			}
		}
		15 = {
			set_country_flag = repair_and_refurbishment_plant_disabled

			modifier = {
				factor = 0

				has_country_flag = repair_and_refurbishment_plant_disabled
			}
		}
		15 = {
			set_country_flag = coastal_defence_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_dlc = "Arms Against Tyranny"
					has_country_flag = coastal_defence_naval_manufacturer_disabled
				}
			}
		}
		15 = {
			set_country_flag = submarine_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = submarine_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = raiding_fleet_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = convoy_escort_naval_manufacturer_disabled
					has_country_flag = raiding_fleet_naval_manufacturer_disabled
				}
			}
		}
		15 = {
			set_country_flag = convoy_escort_naval_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = raiding_fleet_naval_manufacturer_disabled
					has_country_flag = convoy_escort_naval_manufacturer_disabled
				}
			}
		}
	}
}

remove_aircraft_designer = {
	random_list = {
		seed = random
		15 = {
			set_country_flag = light_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = light_aircraft_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = agility_focused_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = agility_focused_aircraft_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = CAS_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = CAS_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = medium_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = medium_aircraft_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = fuel_efficient_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = fuel_efficient_aircraft_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = multi_role_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = multi_role_aircraft_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = heavy_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = heavy_aircraft_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = naval_aircraft_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = naval_aircraft_manufacturer_disabled
			}
		}
	}
}

remove_materiel_designer = {
	random_list = {
		seed = random
		5 = {
			set_country_flag = infantry_equipment_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = infantry_equipment_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = support_equipment_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = support_equipment_manufacturer_disabled
			}
		}
		15 = {
			set_country_flag = artillery_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = artillery_manufacturer_disabled
			}
		}
		20 = {
			set_country_flag = motorized_equipment_manufacturer_disabled

			modifier = {
				factor = 0

				has_country_flag = motorized_equipment_manufacturer_disabled
			}
		}
		25 = {
			set_country_flag = armored_car_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					NOT = { has_dlc = "La Resistance" }
					NOT = { has_dlc = "Arms Against Tyranny" } # Designer version is in Armor Tab.
					has_country_flag = armored_car_manufacturer_disabled
				}
			}
		}
		50 = {
			set_country_flag = helicopter_manufacturer_disabled

			modifier = {
				factor = 0

				OR = {
					NOT = { has_dlc = "Gotterdammerung" }
					NOT = { has_dlc = "Arms Against Tyranny" }
					has_country_flag = helicopter_manufacturer_disabled
				}
			}
		}
	}
}

remove_industrial_concern = {
	random_list = {
		seed = random
		5 = {
			set_country_flag = industrial_concern_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = industrial_concern_disabled
					has_country_flag = electronics_concern_disabled
				}
			}
		}
		5 = {
			set_country_flag = electronics_concern_disabled

			modifier = {
				factor = 0

				OR = {
					has_country_flag = industrial_concern_disabled
					has_country_flag = electronics_concern_disabled
				}
			}
		}
		20 = {
			set_country_flag = refinery_concern_disabled

			modifier = {
				factor = 0
				
				has_country_flag = refinery_concern_disabled
			}
		}
		20 = {
			set_country_flag = telephone_company_disabled

			modifier = {
				factor = 0
				
				has_country_flag = telephone_company_disabled
			}
		}
		20 = {
			set_country_flag = forestry_company_disabled

			modifier = {
				factor = 0
				
				has_country_flag = forestry_company_disabled
			}
		}
		20 = {
			set_country_flag = construction_company_disabled

			modifier = {
				factor = 0
				
				has_country_flag = construction_company_disabled
			}
		}
		20 = {
			set_country_flag = mining_company_disabled

			modifier = {
				factor = 0
				
				has_country_flag = mining_company_disabled
			}
		}
		20 = {
			set_country_flag = railway_company_disabled

			modifier = {
				factor = 0
				
				has_country_flag = railway_company_disabled
			}
		}
		20 = { }
	}
}

randomise_designers = {
	clear_company_disabled_flags = yes

	remove_tank_designer = yes
	remove_tank_designer = yes
	remove_tank_designer = yes
	if = {
		limit = {
			has_dlc = "La Resistance"
			NOT = { has_dlc = "Arms Against Tyranny" }
		}

		remove_tank_designer = yes
	}

	remove_ship_designer = yes
	remove_ship_designer = yes
	remove_ship_designer = yes
	remove_ship_designer = yes
	if = {
		limit = { NOT = { has_dlc = "Arms Against Tyranny" } }

		remove_ship_designer = yes
		remove_ship_designer = yes
		remove_ship_designer = yes
	}

	remove_aircraft_designer = yes
	remove_aircraft_designer = yes
	remove_aircraft_designer = yes
	remove_aircraft_designer = yes
	remove_aircraft_designer = yes

	remove_materiel_designer = yes
	if = {
		limit = {
			has_dlc = "La Resistance"
			has_dlc = "Arms Against Tyranny"
		}

		remove_materiel_designer = yes
	}
	if = {
		limit = {
			has_dlc = "Gotterdammerung"
			has_dlc = "Arms Against Tyranny"
		}

		remove_materiel_designer = yes
	}

	remove_industrial_concern = yes
	remove_industrial_concern = yes
	remove_industrial_concern = yes
	remove_industrial_concern = yes
	remove_industrial_concern = yes
	remove_industrial_concern = yes
}

setup_default_advisors = {
	set_country_flag = popular_figurehead_disabled
	set_country_flag = propaganda_expert_disabled
	set_country_flag = backroom_backstabber_disabled
	set_country_flag = editor_disabled
	set_country_flag = ideological_crusader_disabled
	set_country_flag = compassionate_gentleman_disabled
	set_country_flag = smooth_talking_charmer_disabled
	set_country_flag = financial_expert_disabled
	set_country_flag = economist_disabled
	set_country_flag = quartermaster_general_disabled
	set_country_flag = armaments_organizer_disabled

	set_country_flag = code_breaker_disabled
	set_country_flag = encryption_expert_disabled

	set_country_flag = rocket_scientist_disabled

	set_country_flag = army_chief_drill_disabled
	set_country_flag = army_chief_planning_disabled
	set_country_flag = army_chief_morale_disabled
	set_country_flag = army_chief_organizational_disabled
	set_country_flag = army_chief_entrenchment_disabled
	set_country_flag = army_chief_reform_disabled

	set_country_flag = navy_chief_naval_aviation_disabled
	set_country_flag = navy_chief_reform_disabled

	set_country_flag = air_chief_night_operations_disabled
	set_country_flag = air_chief_reform_disabled

	set_country_flag = army_cavalry_disabled
	set_country_flag = army_armored_disabled
	set_country_flag = army_commando_disabled
	set_country_flag = army_regrouping_disabled
	set_country_flag = army_concealment_disabled
	set_country_flag = army_radio_intelligence_disabled
	set_country_flag = army_jungle_warfare_disabled

	set_country_flag = navy_naval_air_defense_disabled
	set_country_flag = navy_anti_submarine_disabled
	set_country_flag = navy_submarine_disabled
	set_country_flag = navy_capital_ship_disabled
	set_country_flag = navy_screen_disabled
	set_country_flag = navy_carrier_disabled

	set_country_flag = air_air_superiority_disabled
	set_country_flag = air_bomber_interception_disabled
	set_country_flag = air_close_air_support_disabled
	set_country_flag = air_naval_strike_disabled
	set_country_flag = air_strategic_bombing_disabled
}

setup_basegame_advisors = {
	set_country_flag = popular_figurehead_disabled
	set_country_flag = propaganda_expert_disabled
	set_country_flag = silent_workhorse_disabled
	set_country_flag = prince_of_terror_disabled
	set_country_flag = backroom_backstabber_disabled
	set_country_flag = editor_disabled
	set_country_flag = ideological_crusader_disabled
	set_country_flag = compassionate_gentleman_disabled
	set_country_flag = smooth_talking_charmer_disabled
	set_country_flag = financial_expert_disabled
	set_country_flag = economist_disabled
	set_country_flag = quartermaster_general_disabled
	set_country_flag = armaments_organizer_disabled

	set_country_flag = code_breaker_disabled
	set_country_flag = encryption_expert_disabled

	set_country_flag = nuclear_scientist_disabled
	set_country_flag = rocket_scientist_disabled

	set_country_flag = army_chief_maneuver_disabled
	set_country_flag = army_chief_drill_disabled
	set_country_flag = army_chief_planning_disabled
	set_country_flag = army_chief_morale_disabled
	set_country_flag = army_chief_organizational_disabled
	set_country_flag = army_chief_entrenchment_disabled
	set_country_flag = army_chief_reform_disabled
	set_country_flag = army_chief_old_guard_disabled

	set_country_flag = navy_chief_maneuver_disabled
	set_country_flag = navy_chief_naval_aviation_disabled
	set_country_flag = navy_chief_reform_disabled
	set_country_flag = navy_chief_old_guard_disabled

	set_country_flag = air_chief_night_operations_disabled
	set_country_flag = air_chief_safety_disabled
	set_country_flag = air_chief_reform_disabled
	set_country_flag = air_chief_old_guard_disabled

	set_country_flag = army_infantry_disabled
	set_country_flag = army_cavalry_disabled
	set_country_flag = army_armored_disabled
	set_country_flag = army_commando_disabled
	set_country_flag = army_entrenchment_disabled
	set_country_flag = army_regrouping_disabled
	set_country_flag = army_concealment_disabled
	set_country_flag = army_radio_intelligence_disabled
	set_country_flag = army_jungle_warfare_disabled

	set_country_flag = navy_amphibious_assault_disabled
	set_country_flag = navy_naval_air_defense_disabled
	set_country_flag = navy_anti_submarine_disabled
	set_country_flag = navy_submarine_disabled
	set_country_flag = navy_capital_ship_disabled
	set_country_flag = navy_screen_disabled
	set_country_flag = navy_carrier_disabled

	set_country_flag = air_air_superiority_disabled
	set_country_flag = air_bomber_interception_disabled
	set_country_flag = air_close_air_support_disabled
	set_country_flag = air_naval_strike_disabled
	set_country_flag = air_strategic_bombing_disabled
	set_country_flag = air_airborne_disabled
}

setup_default_companies = {
	set_country_flag = infantry_tank_manufacturer_disabled
	set_country_flag = assault_gun_manufacturer_disabled
	set_country_flag = tank_refurbishment_plant_disabled

	set_country_flag = black_sea_fleet_naval_manufacturer_disabled
	set_country_flag = battlefleet_designer_disabled
	set_country_flag = repair_and_refurbishment_plant_disabled
	set_country_flag = coastal_defence_naval_manufacturer_disabled
	set_country_flag = submarine_manufacturer_disabled
	set_country_flag = raiding_fleet_naval_manufacturer_disabled

	set_country_flag = agility_focused_aircraft_manufacturer_disabled
	set_country_flag = CAS_manufacturer_disabled
	set_country_flag = fuel_efficient_aircraft_manufacturer_disabled
	set_country_flag = multi_role_aircraft_manufacturer_disabled

	set_country_flag = armored_car_manufacturer_disabled
	set_country_flag = helicopter_manufacturer_disabled

	set_country_flag = telephone_company_disabled
	set_country_flag = forestry_company_disabled
	set_country_flag = construction_company_disabled
	set_country_flag = mining_company_disabled
	set_country_flag = railway_company_disabled
}

setup_basegame_companies = {
	set_country_flag = infantry_tank_manufacturer_disabled
	set_country_flag = assault_gun_manufacturer_disabled
	set_country_flag = fast_tank_manufacturer_disabled
	set_country_flag = heavy_tank_manufacturer_disabled
	set_country_flag = tank_refurbishment_plant_disabled

	set_country_flag = pacific_fleet_naval_manufacturer_disabled
	set_country_flag = atlantic_fleet_naval_manufacturer_disabled
	set_country_flag = mediterranean_fleet_naval_manufacturer_disabled
	set_country_flag = black_sea_fleet_naval_manufacturer_disabled
	set_country_flag = battlefleet_designer_disabled
	set_country_flag = repair_and_refurbishment_plant_disabled
	set_country_flag = coastal_defence_naval_manufacturer_disabled
	set_country_flag = submarine_manufacturer_disabled
	set_country_flag = raiding_fleet_naval_manufacturer_disabled

	set_country_flag = agility_focused_aircraft_manufacturer_disabled
	set_country_flag = CAS_manufacturer_disabled
	set_country_flag = fuel_efficient_aircraft_manufacturer_disabled
	set_country_flag = multi_role_aircraft_manufacturer_disabled

	set_country_flag = support_equipment_manufacturer_disabled
	set_country_flag = armored_car_manufacturer_disabled
	set_country_flag = helicopter_manufacturer_disabled

	set_country_flag = refinery_concern_disabled
	set_country_flag = telephoone_company_disabled
	set_country_flag = forestry_company_disabled
	set_country_flag = construction_company_disabled
	set_country_flag = mining_company_disabled
	set_country_flag = railway_company_disabled
}

clear_advisor_disabled_flags = {
	clr_country_flag = all_advisors_enabled

	clr_country_flag = popular_figurehead_disabled
	clr_country_flag = propaganda_expert_disabled
	clr_country_flag = silent_workhorse_disabled
	clr_country_flag = prince_of_terror_disabled
	clr_country_flag = backroom_backstabber_disabled
	clr_country_flag = editor_disabled
	clr_country_flag = ideological_crusader_disabled
	clr_country_flag = compassionate_gentleman_disabled
	clr_country_flag = smooth_talking_charmer_disabled
	clr_country_flag = financial_expert_disabled
	clr_country_flag = economist_disabled
	clr_country_flag = captain_of_industry_disabled
	clr_country_flag = war_industrialist_disabled
	clr_country_flag = fortification_engineer_disabled
	clr_country_flag = quartermaster_general_disabled
	clr_country_flag = armaments_organizer_disabled

	clr_country_flag = head_of_intelligence_disabled
	clr_country_flag = code_breaker_disabled
	clr_country_flag = encryption_expert_disabled

	clr_country_flag = military_theorist_disabled
	clr_country_flag = naval_theorist_disabled
	clr_country_flag = air_warfare_theorist_disabled

	clr_country_flag = mobile_warfare_expert_enabled
	clr_country_flag = superior_firepower_expert_enabled
	clr_country_flag = grand_battle_plan_expert_enabled
	clr_country_flag = mass_assault_expert_enabled

	clr_country_flag = naval_aviation_pioneer_enabled
	clr_country_flag = grand_fleet_proponent_enabled
	clr_country_flag = submarine_specialist_enabled

	clr_country_flag = victory_through_airpower_enabled
	clr_country_flag = close_air_support_proponent_enabled
	clr_country_flag = assault_avaition_enabled

	clr_country_flag = nuclear_scientist_disabled
	clr_country_flag = rocket_scientist_disabled

	clr_country_flag = army_chief_offensive_disabled
	clr_country_flag = army_chief_defensive_disabled
	clr_country_flag = army_chief_maneuver_disabled
	clr_country_flag = army_chief_drill_disabled
	clr_country_flag = army_chief_planning_disabled
	clr_country_flag = army_chief_morale_disabled
	clr_country_flag = army_chief_organizational_disabled
	clr_country_flag = army_chief_entrenchment_disabled
	clr_country_flag = army_chief_reform_disabled
	clr_country_flag = army_chief_old_guard_disabled

	clr_country_flag = navy_chief_commerce_raiding_disabled
	clr_country_flag = navy_chief_maneuver_disabled
	clr_country_flag = navy_chief_decisive_battle_disabled
	clr_country_flag = navy_chief_naval_aviation_disabled
	clr_country_flag = navy_chief_reform_disabled
	clr_country_flag = navy_chief_old_guard_disabled

	clr_country_flag = air_chief_night_operations_disabled
	clr_country_flag = air_chief_ground_support_disabled
	clr_country_flag = air_chief_all_weather_disabled
	clr_country_flag = air_chief_safety_disabled
	clr_country_flag = air_chief_reform_disabled
	clr_country_flag = air_chief_old_guard_disabled

	clr_country_flag = army_infantry_disabled
	clr_country_flag = army_artillery_disabled
	clr_country_flag = army_cavalry_disabled
	clr_country_flag = army_armored_disabled
	clr_country_flag = army_commando_disabled
	clr_country_flag = army_entrenchment_disabled
	clr_country_flag = army_logistics_disabled
	clr_country_flag = army_regrouping_disabled
	clr_country_flag = army_concealment_disabled
	clr_country_flag = army_radio_intelligence_disabled
	clr_country_flag = army_jungle_warfare_disabled

	clr_country_flag = navy_amphibious_assault_disabled
	clr_country_flag = navy_fleet_logistics_disabled
	clr_country_flag = navy_naval_air_defense_disabled
	clr_country_flag = navy_anti_submarine_disabled
	clr_country_flag = navy_submarine_disabled
	clr_country_flag = navy_capital_ship_disabled
	clr_country_flag = navy_screen_disabled
	clr_country_flag = navy_carrier_disabled

	clr_country_flag = air_air_superiority_disabled
	clr_country_flag = air_bomber_interception_disabled
	clr_country_flag = air_close_air_support_disabled
	clr_country_flag = air_naval_strike_disabled
	clr_country_flag = air_strategic_bombing_disabled
	clr_country_flag = air_airborne_disabled
	clr_country_flag = air_air_combat_training_disabled
}

clear_company_disabled_flags = {
	clr_country_flag = infantry_tank_manufacturer_disabled
	clr_country_flag = assault_gun_manufacturer_disabled
	clr_country_flag = fast_tank_manufacturer_disabled
	clr_country_flag = medium_tank_manufacturer_disabled
	clr_country_flag = heavy_tank_manufacturer_disabled
	clr_country_flag = tank_refurbishment_plant_disabled

	clr_country_flag = pacific_fleet_naval_manufacturer_disabled
	clr_country_flag = atlantic_fleet_naval_manufacturer_disabled
	clr_country_flag = mediterranean_fleet_naval_manufacturer_disabled
	clr_country_flag = black_sea_fleet_naval_manufacturer_disabled
	clr_country_flag = battlefleet_designer_disabled
	clr_country_flag = repair_and_refurbishment_plant_disabled
	clr_country_flag = coastal_defence_naval_manufacturer_disabled
	clr_country_flag = submarine_manufacturer_disabled
	clr_country_flag = raiding_fleet_naval_manufacturer_disabled
	clr_country_flag = convoy_escort_naval_manufacturer_disabled

	clr_country_flag = light_aircraft_manufacturer_disabled
	clr_country_flag = agility_focused_aircraft_manufacturer_disabled
	clr_country_flag = CAS_manufacturer_disabled
	clr_country_flag = medium_aircraft_manufacturer_disabled
	clr_country_flag = fuel_efficient_aircraft_manufacturer_disabled
	clr_country_flag = multi_role_aircraft_manufacturer_disabled
	clr_country_flag = heavy_aircraft_manufacturer_disabled
	clr_country_flag = naval_aircraft_manufacturer_disabled

	clr_country_flag = industrial_concern_disabled
	clr_country_flag = electronics_concern_disabled
	clr_country_flag = refinery_concern_disabled
	clr_country_flag = telephone_company_disabled
	clr_country_flag = forestry_company_disabled
	clr_country_flag = construction_company_disabled
	clr_country_flag = mining_company_disabled
	clr_country_flag = railway_company_disabled

	clr_country_flag = infantry_equipment_manufacturer_disabled
	clr_country_flag = support_equipment_manufacturer_disabled
	clr_country_flag = artillery_manufacturer_disabled
	clr_country_flag = motorized_equipment_manufacturer_disabled
	clr_country_flag = armored_car_manufacturer_disabled
	clr_country_flag = helicopter_manufacturer_disabled
}

clear_leader_traits = {
	if = { limit = { has_country_leader_with_trait = warmonger } remove_country_leader_trait = warmonger }
	if = { limit = { has_country_leader_with_trait = hedonist } remove_country_leader_trait = hedonist }
	if = { limit = { has_country_leader_with_trait = dictator } remove_country_leader_trait = dictator }
	if = { limit = { has_country_leader_with_trait = generallissimo } remove_country_leader_trait = generallissimo }
	if = { limit = { has_country_leader_with_trait = appeaser } remove_country_leader_trait = appeaser }
	if = { limit = { has_country_leader_with_trait = hawk } remove_country_leader_trait = hawk }
	if = { limit = { has_country_leader_with_trait = stammer } remove_country_leader_trait = stammer }
	if = { limit = { has_country_leader_with_trait = humble } remove_country_leader_trait = humble }
	if = { limit = { has_country_leader_with_trait = retired_officer } remove_country_leader_trait = retired_officer }
	if = { limit = { has_country_leader_with_trait = fascist_sympathies } remove_country_leader_trait = fascist_sympathies }
	if = { limit = { has_country_leader_with_trait = eager_collaborator } remove_country_leader_trait = eager_collaborator }
	if = { limit = { has_country_leader_with_trait = nationalist_symbol } remove_country_leader_trait = nationalist_symbol }
	if = { limit = { has_country_leader_with_trait = conservative_grandee } remove_country_leader_trait = conservative_grandee }
	if = { limit = { has_country_leader_with_trait = conservative_nationalist } remove_country_leader_trait = conservative_nationalist }
	if = { limit = { has_country_leader_with_trait = staunch_constitutionalist } remove_country_leader_trait = staunch_constitutionalist }
	if = { limit = { has_country_leader_with_trait = staunch_stalinist } remove_country_leader_trait = staunch_stalinist }
	if = { limit = { has_country_leader_with_trait = staunch_anti_fascist } remove_country_leader_trait = staunch_anti_fascist }
	if = { limit = { has_country_leader_with_trait = reluctant_interventionist } remove_country_leader_trait = reluctant_interventionist }
	if = { limit = { has_country_leader_with_trait = indomitable_perseverance } remove_country_leader_trait = indomitable_perseverance }
	if = { limit = { has_country_leader_with_trait = political_dancer } remove_country_leader_trait = political_dancer }
	if = { limit = { has_country_leader_with_trait = national_integralist } remove_country_leader_trait = national_integralist }
	if = { limit = { has_country_leader_with_trait = tenacious_negotiator } remove_country_leader_trait = tenacious_negotiator }
	if = { limit = { has_country_leader_with_trait = triumphant_revolutionary } remove_country_leader_trait = triumphant_revolutionary }
	if = { limit = { has_country_leader_with_trait = comintern_workhorse } remove_country_leader_trait = comintern_workhorse }
	if = { limit = { has_country_leader_with_trait = veteran_communist } remove_country_leader_trait = veteran_communist }
	if = { limit = { has_country_leader_with_trait = militant_socialist } remove_country_leader_trait = militant_socialist }
	if = { limit = { has_country_leader_with_trait = inexperienced_imperialist } remove_country_leader_trait = inexperienced_imperialist }
	if = { limit = { has_country_leader_with_trait = inexperienced_sultan } remove_country_leader_trait = inexperienced_sultan }
	if = { limit = { has_country_leader_with_trait = underage_monarch } remove_country_leader_trait = underage_monarch }
	if = { limit = { has_country_leader_with_trait = constitutional_monarch_minor } remove_country_leader_trait = constitutional_monarch_minor }
	if = { limit = { has_country_leader_with_trait = fascist_militia_leader } remove_country_leader_trait = fascist_militia_leader }
	if = { limit = { has_country_leader_with_trait = fascist_orchestrator } remove_country_leader_trait = fascist_orchestrator }
	if = { limit = { has_country_leader_with_trait = jefe } remove_country_leader_trait = jefe }
	if = { limit = { has_country_leader_with_trait = caudillo_1 } remove_country_leader_trait = caudillo_1 }
	if = { limit = { has_country_leader_with_trait = champion_of_peace_1 } remove_country_leader_trait = champion_of_peace_1 }
	if = { limit = { has_country_leader_with_trait = figurehead_president } remove_country_leader_trait = figurehead_president }
	if = { limit = { has_country_leader_with_trait = indecisive } remove_country_leader_trait = indecisive }
	if = { limit = { has_country_leader_with_trait = dealbroker } remove_country_leader_trait = dealbroker }
	if = { limit = { has_country_leader_with_trait = economic_reformer } remove_country_leader_trait = economic_reformer }
	if = { limit = { has_country_leader_with_trait = stout_defender } remove_country_leader_trait = stout_defender }
	if = { limit = { has_country_leader_with_trait = headstrong } remove_country_leader_trait = headstrong }
	if = { limit = { has_country_leader_with_trait = dislikes_germany } remove_country_leader_trait = dislikes_germany }
	if = { limit = { has_country_leader_with_trait = anti_bolshevik_leftist } remove_country_leader_trait = anti_bolshevik_leftist }
	if = { limit = { has_country_leader_with_trait = anti_communist } remove_country_leader_trait = anti_communist }
	if = { limit = { has_country_leader_with_trait = anti_democrat } remove_country_leader_trait = anti_democrat }
	if = { limit = { has_country_leader_with_trait = resolute_social_democrat } remove_country_leader_trait = resolute_social_democrat }
	if = { limit = { has_country_leader_with_trait = imperial_connections } remove_country_leader_trait = imperial_connections }
	if = { limit = { has_country_leader_with_trait = great_war_hero } remove_country_leader_trait = great_war_hero }
	if = { limit = { has_country_leader_with_trait = warrior_code } remove_country_leader_trait = warrior_code }
	if = { limit = { has_country_leader_with_trait = leftist_intellectual } remove_country_leader_trait = leftist_intellectual }
	if = { limit = { has_country_leader_with_trait = our_right_to_survive } remove_country_leader_trait = our_right_to_survive }
	if = { limit = { has_country_leader_with_trait = technocrat } remove_country_leader_trait = technocrat }
	if = { limit = { has_country_leader_with_trait = defender_of_the_peasantry } remove_country_leader_trait = defender_of_the_peasantry }
	if = { limit = { has_country_leader_with_trait = hardened_officer } remove_country_leader_trait = hardened_officer }
	if = { limit = { has_country_leader_with_trait = freedom_fighter } remove_country_leader_trait = freedom_fighter }
	if = { limit = { has_country_leader_with_trait = experienced_insurgent } remove_country_leader_trait = experienced_insurgent }
	if = { limit = { has_country_leader_with_trait = unpopular_monarch } remove_country_leader_trait = unpopular_monarch }
	if = { limit = { has_country_leader_with_trait = divisive_absolute_monarch } remove_country_leader_trait = divisive_absolute_monarch }
	if = { limit = { has_country_leader_with_trait = stalin_heart_of_steel } remove_country_leader_trait = stalin_heart_of_steel }
	if = { limit = { has_country_leader_with_trait = permanent_revolutionary } remove_country_leader_trait = permanent_revolutionary }
	if = { limit = { has_country_leader_with_trait = strong_party_discipline } remove_country_leader_trait = strong_party_discipline }
	if = { limit = { has_country_leader_with_trait = unscrupulous_orchestrator } remove_country_leader_trait = unscrupulous_orchestrator }
	if = { limit = { has_country_leader_with_trait = unscrupulous_orchestrator_no_lar } remove_country_leader_trait = unscrupulous_orchestrator_no_lar }
	if = { limit = { has_country_leader_with_trait = cornered_fox } remove_country_leader_trait = cornered_fox }
	if = { limit = { has_country_leader_with_trait = king_of_kings } remove_country_leader_trait = king_of_kings }
	if = { limit = { has_country_leader_with_trait = king_of_ethiopia } remove_country_leader_trait = king_of_ethiopia }
	if = { limit = { has_country_leader_with_trait = the_red_ras } remove_country_leader_trait = the_red_ras }
	if = { limit = { has_country_leader_with_trait = tainted_ras } remove_country_leader_trait = tainted_ras }
	if = { limit = { has_country_leader_with_trait = crowned_adder } remove_country_leader_trait = crowned_adder }
	if = { limit = { has_country_leader_with_trait = gallant_doctor } remove_country_leader_trait = gallant_doctor }
	if = { limit = { has_country_leader_with_trait = spirit_of_genghis } remove_country_leader_trait = spirit_of_genghis }
	if = { limit = { has_country_leader_with_trait = emperor_and_autocrat_of_all_the_russias } remove_country_leader_trait = emperor_and_autocrat_of_all_the_russias }
	if = { limit = { has_country_leader_with_trait = duke_of_orleans } remove_country_leader_trait = duke_of_orleans }
	if = { limit = { has_country_leader_with_trait = the_soldier_king } remove_country_leader_trait = the_soldier_king }
	if = { limit = { has_country_leader_with_trait = il_duce } remove_country_leader_trait = il_duce }
	if = { limit = { has_country_leader_with_trait = aviation_hero } remove_country_leader_trait = aviation_hero }
	if = { limit = { has_country_leader_with_trait = duke_of_aosta } remove_country_leader_trait = duke_of_aosta }
	if = { limit = { has_country_leader_with_trait = iron_duke } remove_country_leader_trait = iron_duke }
	if = { limit = { has_country_leader_with_trait = rich_sultan } remove_country_leader_trait = rich_sultan }
	if = { limit = { has_country_leader_with_trait = emperor_showa } remove_country_leader_trait = emperor_showa }
	if = { limit = { has_country_leader_with_trait = imperial_sanction  } remove_country_leader_trait = imperial_sanction  }
	if = { limit = { has_country_leader_with_trait = tsar_unifier } remove_country_leader_trait = tsar_unifier }
	if = { limit = { has_country_leader_with_trait = the_hero_of_the_leipzig_trials } remove_country_leader_trait = the_hero_of_the_leipzig_trials }
	if = { limit = { has_country_leader_with_trait = hardened_officer } remove_country_leader_trait = hardened_officer }
	if = { limit = { has_country_leader_with_trait = father_of_the_turks } remove_country_leader_trait = father_of_the_turks }
	if = { limit = { has_country_leader_with_trait = milli_sef } remove_country_leader_trait = milli_sef }
	if = { limit = { has_country_leader_with_trait = maresal } remove_country_leader_trait = maresal }
	if = { limit = { has_country_leader_with_trait = the_statist } remove_country_leader_trait = the_statist }
	if = { limit = { has_country_leader_with_trait = gentle_scholar } remove_country_leader_trait = gentle_scholar }
	if = { limit = { has_country_leader_with_trait = sultana } remove_country_leader_trait = sultana }
	if = { limit = { has_country_leader_with_trait = liberal_democratic_paragon } remove_country_leader_trait = liberal_democratic_paragon }
	if = { limit = { has_country_leader_with_trait = man_of_the_nation } remove_country_leader_trait = man_of_the_nation }
	if = { limit = { has_country_leader_with_trait = the_academic } remove_country_leader_trait = the_academic }
	if = { limit = { has_country_leader_with_trait = prime_minister_husnu } remove_country_leader_trait = prime_minister_husnu }
	if = { limit = { has_country_leader_with_trait = reluctant_stalinist } remove_country_leader_trait = reluctant_stalinist }
	if = { limit = { has_country_leader_with_trait = patriotic_guerilla } remove_country_leader_trait = patriotic_guerilla }
	if = { limit = { has_country_leader_with_trait = guerilla_warfare_expert } remove_country_leader_trait = guerilla_warfare_expert }
	if = { limit = { has_country_leader_with_trait = arkhigos } remove_country_leader_trait = arkhigos }
	if = { limit = { has_country_leader_with_trait = polemarch } remove_country_leader_trait = polemarch }
	if = { limit = { has_country_leader_with_trait = likes_turkey } remove_country_leader_trait = likes_turkey }
	if = { limit = { has_country_leader_with_trait = professional_crisis_solver } remove_country_leader_trait = professional_crisis_solver }
	if = { limit = { has_country_leader_with_trait = sins_of_the_father } remove_country_leader_trait = sins_of_the_father }
	if = { limit = { has_country_leader_with_trait = irredentist_academic } remove_country_leader_trait = irredentist_academic }
	if = { limit = { has_country_leader_with_trait = strict_austerity_adherent } remove_country_leader_trait = strict_austerity_adherent }
	if = { limit = { has_country_leader_with_trait = wilhelmina } remove_country_leader_trait = wilhelmina }
	if = { limit = { has_country_leader_with_trait = disdain_for_politicians_1 } remove_country_leader_trait = disdain_for_politicians_1 }
	if = { limit = { has_country_leader_with_trait = queen_of_the_people } remove_country_leader_trait = queen_of_the_people }
	if = { limit = { has_country_leader_with_trait = polish_peasant_champion } remove_country_leader_trait = polish_peasant_champion }
	if = { limit = { has_country_leader_with_trait = soviet_thaw } remove_country_leader_trait = soviet_thaw }
	if = { limit = { has_country_leader_with_trait = CAN_liberal_corporatist } remove_country_leader_trait = CAN_liberal_corporatist }
	if = { limit = { has_country_leader_with_trait = CAN_canadian_fuhrer } remove_country_leader_trait = CAN_canadian_fuhrer }
	if = { limit = { has_country_leader_with_trait = CAN_social_gospel } remove_country_leader_trait = CAN_social_gospel }
	if = { limit = { has_country_leader_with_trait = SWI_radical_democrat } remove_country_leader_trait = SWI_radical_democrat }
	if = { limit = { has_country_leader_with_trait = SWI_conservative_democrat } remove_country_leader_trait = SWI_conservative_democrat }
	if = { limit = { has_country_leader_with_trait = SWI_weapons_designer } remove_country_leader_trait = SWI_weapons_designer }
	if = { limit = { has_country_leader_with_trait = SWI_fascist_recruiter } remove_country_leader_trait = SWI_fascist_recruiter }
	if = { limit = { has_country_leader_with_trait = SWI_anarchist } remove_country_leader_trait = SWI_anarchist }
	if = { limit = { has_country_leader_with_trait = SWI_soviet_spy } remove_country_leader_trait = SWI_soviet_spy }
	if = { limit = { has_country_leader_with_trait = SWI_trade_unionist } remove_country_leader_trait = SWI_trade_unionist }
	if = { limit = { has_country_leader_with_trait = SWE_ardent_conservative } remove_country_leader_trait = SWE_ardent_conservative }
	if = { limit = { has_country_leader_with_trait = NOR_popular_reformer } remove_country_leader_trait = NOR_popular_reformer }
	if = { limit = { has_country_leader_with_trait = NOR_fascist_lackey } remove_country_leader_trait = NOR_fascist_lackey }
	if = { limit = { has_country_leader_with_trait = JAN_polarizing_leader } remove_country_leader_trait = JAN_polarizing_leader }
	if = { limit = { has_country_leader_with_trait = DEN_socialdemokrat } remove_country_leader_trait = DEN_socialdemokrat }
	if = { limit = { has_country_leader_with_trait = DEN_venstre } remove_country_leader_trait = DEN_venstre }
	if = { limit = { has_country_leader_with_trait = DEN_kommunist } remove_country_leader_trait = DEN_kommunist }
	if = { limit = { has_country_leader_with_trait = DEN_fascist_populist } remove_country_leader_trait = DEN_fascist_populist }
	if = { limit = { has_country_leader_with_trait = DEN_the_king } remove_country_leader_trait = DEN_the_king }
	if = { limit = { has_country_leader_with_trait = ICE_hot_tempered_reformer } remove_country_leader_trait = ICE_hot_tempered_reformer }
	if = { limit = { has_country_leader_with_trait = ICE_the_strict_regent } remove_country_leader_trait = ICE_the_strict_regent }
	if = { limit = { has_country_leader_with_trait = member_of_the_suojeluskunta } remove_country_leader_trait = member_of_the_suojeluskunta }
	if = { limit = { has_country_leader_with_trait = conservative_nationalist  } remove_country_leader_trait = conservative_nationalist  }
	if = { limit = { has_country_leader_with_trait = sotamarsalkka } remove_country_leader_trait = sotamarsalkka }
	if = { limit = { has_country_leader_with_trait = crown_prince_of_finland } remove_country_leader_trait = crown_prince_of_finland }
	if = { limit = { has_country_leader_with_trait = grandpa_vainamoinen } remove_country_leader_trait = grandpa_vainamoinen }
	if = { limit = { has_country_leader_with_trait = el_jefe_maximo } remove_country_leader_trait = el_jefe_maximo }
	if = { limit = { has_country_leader_with_trait = protector_of_the_campesinos } remove_country_leader_trait = protector_of_the_campesinos }
	if = { limit = { has_country_leader_with_trait = refounder_of_mexico } remove_country_leader_trait = refounder_of_mexico }
	if = { limit = { has_country_leader_with_trait = BRA_vengeful_industrialist } remove_country_leader_trait = BRA_vengeful_industrialist }
	if = { limit = { has_country_leader_with_trait = BRA_authoritarian_populist } remove_country_leader_trait = BRA_authoritarian_populist }
	if = { limit = { has_country_leader_with_trait = BRA_reluctant_integralist } remove_country_leader_trait = BRA_reluctant_integralist }
	if = { limit = { has_country_leader_with_trait = ARG_university_rector } remove_country_leader_trait = ARG_university_rector }
	if = { limit = { has_country_leader_with_trait = ARG_fraudulent_industrialist } remove_country_leader_trait = ARG_fraudulent_industrialist }
	if = { limit = { has_country_leader_with_trait = ARG_feminist_revolutionary } remove_country_leader_trait = ARG_feminist_revolutionary }
	if = { limit = { has_country_leader_with_trait = ARG_prominent_centrist } remove_country_leader_trait = ARG_prominent_centrist }
	if = { limit = { has_country_leader_with_trait = batllista_traditionalist } remove_country_leader_trait = batllista_traditionalist }
	if = { limit = { has_country_leader_with_trait = pro_allied_politician } remove_country_leader_trait = pro_allied_politician }
	if = { limit = { has_country_leader_with_trait = the_german_connection } remove_country_leader_trait = the_german_connection }
	if = { limit = { has_country_leader_with_trait = JUNO_the_lion_of_tarapaca } remove_country_leader_trait = JUNO_the_lion_of_tarapaca }
	if = { limit = { has_country_leader_with_trait = JUNO_president_of_victory } remove_country_leader_trait = JUNO_president_of_victory }
	if = { limit = { has_country_leader_with_trait = JUNO_unpopular } remove_country_leader_trait = JUNO_unpopular }
	if = { limit = { has_country_leader_with_trait = JUNO_revolutionary_feberista_hero } remove_country_leader_trait = JUNO_revolutionary_feberista_hero }
	if = { limit = { has_country_leader_with_trait = JUNO_unpopular_economist } remove_country_leader_trait = JUNO_unpopular_economist }
	if = { limit = { has_country_leader_with_trait = JUNO_bolivian_falange } remove_country_leader_trait = JUNO_bolivian_falange }
	if = { limit = { has_country_leader_with_trait = reformist_menshevik } remove_country_leader_trait = reformist_menshevik }
	if = { limit = { has_country_leader_with_trait = SLO_vodca_trait } remove_country_leader_trait = SLO_vodca_trait }
	if = { limit = { has_country_leader_with_trait = BEL_belgian_inquisitor } remove_country_leader_trait = BEL_belgian_inquisitor }
	if = { limit = { has_country_leader_with_trait = BEL_determined_prime_minister } remove_country_leader_trait = BEL_determined_prime_minister }
	if = { limit = { has_country_leader_with_trait = BEL_corrupt_old_guard } remove_country_leader_trait = BEL_corrupt_old_guard }
	if = { limit = { has_country_leader_with_trait = pro_allied_governor_general } remove_country_leader_trait = pro_allied_governor_general }
	if = { limit = { has_country_leader_with_trait = sultan_of_sokoto } remove_country_leader_trait = sultan_of_sokoto }
	if = { limit = { has_country_leader_with_trait = trait_mwami } remove_country_leader_trait = trait_mwami }
	if = { limit = { has_country_leader_with_trait = trait_ummwami } remove_country_leader_trait = trait_ummwami }
	if = { limit = { has_country_leader_with_trait = COG_trade_unionist } remove_country_leader_trait = COG_trade_unionist }
	if = { limit = { has_country_leader_with_trait = HUN_the_regent } remove_country_leader_trait = HUN_the_regent }
	if = { limit = { has_country_leader_with_trait = HUN_the_habsburg_prince } remove_country_leader_trait = HUN_the_habsburg_prince }
	if = { limit = { has_country_leader_with_trait = HUN_socialist_bulwark } remove_country_leader_trait = HUN_socialist_bulwark }
	if = { limit = { has_country_leader_with_trait = HUN_the_hungarian_lenin } remove_country_leader_trait = HUN_the_hungarian_lenin }
	if = { limit = { has_country_leader_with_trait = HUN_ardent_stalinist } remove_country_leader_trait = HUN_ardent_stalinist }
	if = { limit = { has_country_leader_with_trait = nazi_sympathizer } remove_country_leader_trait = nazi_sympathizer }
	if = { limit = { has_country_leader_with_trait = volksgruppenfurher_der_volksbund } remove_country_leader_trait = volksgruppenfurher_der_volksbund }
	if = { limit = { has_country_leader_with_trait = marxist_philosopher } remove_country_leader_trait = marxist_philosopher }
	if = { limit = { has_country_leader_with_trait = fascist_corporatist } remove_country_leader_trait = fascist_corporatist }
	if = { limit = { has_country_leader_with_trait = AUS_abolished_austrofascism } remove_country_leader_trait = AUS_abolished_austrofascism }
	if = { limit = { has_country_leader_with_trait = AUS_younger_prince_of_liechtenstein } remove_country_leader_trait = AUS_younger_prince_of_liechtenstein }
	if = { limit = { has_country_leader_with_trait = AUS_older_prince_of_liechtenstein } remove_country_leader_trait = AUS_older_prince_of_liechtenstein }
	if = { limit = { has_country_leader_with_trait = AUS_king_of_liechtenstein } remove_country_leader_trait = AUS_king_of_liechtenstein }
	if = { limit = { has_country_leader_with_trait = GER_der_fuhrer } remove_country_leader_trait = GER_der_fuhrer }
	if = { limit = { has_country_leader_with_trait = GER_traditionalist } remove_country_leader_trait = GER_traditionalist }
	if = { limit = { has_country_leader_with_trait = GER_reich_minister_foreign_affairs_neurath } remove_country_leader_trait = GER_reich_minister_foreign_affairs_neurath }
	if = { limit = { has_country_leader_with_trait = GER_reich_minister_foreign_affairs_ribbentrop } remove_country_leader_trait = GER_reich_minister_foreign_affairs_ribbentrop }
	if = { limit = { has_country_leader_with_trait = GER_speer_fuhrer } remove_country_leader_trait = GER_speer_fuhrer }
	if = { limit = { has_country_leader_with_trait = GER_goebbels_fuhrer } remove_country_leader_trait = GER_goebbels_fuhrer }
	if = { limit = { has_country_leader_with_trait = GER_goebbels_fuhrer_no_lar } remove_country_leader_trait = GER_goebbels_fuhrer_no_lar }
	if = { limit = { has_country_leader_with_trait = GER_goring_fuhrer } remove_country_leader_trait = GER_goring_fuhrer }
	if = { limit = { has_country_leader_with_trait = GER_revolutionary_nationalist } remove_country_leader_trait = GER_revolutionary_nationalist }

	if = { limit = { has_country_leader_with_trait = popular_figurehead } remove_country_leader_trait = popular_figurehead }
	if = { limit = { has_country_leader_with_trait = popular_figurehead2 } remove_country_leader_trait = popular_figurehead2 }
	if = { limit = { has_country_leader_with_trait = propaganda_expert } remove_country_leader_trait = propaganda_expert }
	if = { limit = { has_country_leader_with_trait = silent_workhorse } remove_country_leader_trait = silent_workhorse }
	if = { limit = { has_country_leader_with_trait = prince_of_terror } remove_country_leader_trait = prince_of_terror }
	if = { limit = { has_country_leader_with_trait = princess_of_terror } remove_country_leader_trait = princess_of_terror }
	if = { limit = { has_country_leader_with_trait = backroom_backstabber } remove_country_leader_trait = backroom_backstabber }
	if = { limit = { has_country_leader_with_trait = editor } remove_country_leader_trait = editor }
	if = { limit = { has_country_leader_with_trait = ideological_crusader } remove_country_leader_trait = ideological_crusader }
	if = { limit = { has_country_leader_with_trait = compassionate_gentleman } remove_country_leader_trait = compassionate_gentleman }
	if = { limit = { has_country_leader_with_trait = smooth_talking_charmer } remove_country_leader_trait = smooth_talking_charmer }
	if = { limit = { has_country_leader_with_trait = financial_expert } remove_country_leader_trait = financial_expert }
	if = { limit = { has_country_leader_with_trait = economist } remove_country_leader_trait = economist }
	if = { limit = { has_country_leader_with_trait = captain_of_industry } remove_country_leader_trait = captain_of_industry }
	if = { limit = { has_country_leader_with_trait = war_industrialist } remove_country_leader_trait = war_industrialist }
	if = { limit = { has_country_leader_with_trait = fortification_engineer } remove_country_leader_trait = fortification_engineer }
	if = { limit = { has_country_leader_with_trait = quartermaster_general } remove_country_leader_trait = quartermaster_general }
	if = { limit = { has_country_leader_with_trait = armaments_organizer } remove_country_leader_trait = armaments_organizer }
	if = { limit = { has_country_leader_with_trait = head_of_intelligence } remove_country_leader_trait = head_of_intelligence }
	if = { limit = { has_country_leader_with_trait = code_breaker } remove_country_leader_trait = code_breaker }
	if = { limit = { has_country_leader_with_trait = encryption_expert } remove_country_leader_trait = encryption_expert }

	if = { limit = { has_country_leader_with_trait = military_theorist } remove_country_leader_trait = military_theorist }
	if = { limit = { has_country_leader_with_trait = blitzkrieg_theorist } remove_country_leader_trait = blitzkrieg_theorist }
	if = { limit = { has_country_leader_with_trait = grand_battle_plan_expert } remove_country_leader_trait = grand_battle_plan_expert }
	if = { limit = { has_country_leader_with_trait = mass_assault_expert } remove_country_leader_trait = mass_assault_expert }
	if = { limit = { has_country_leader_with_trait = naval_theorist } remove_country_leader_trait = naval_theorist }
	if = { limit = { has_country_leader_with_trait = naval_aviation_pioneer } remove_country_leader_trait = naval_aviation_pioneer }
	if = { limit = { has_country_leader_with_trait = air_warfare_theorist } remove_country_leader_trait = air_warfare_theorist }
	if = { limit = { has_country_leader_with_trait = nuclear_scientist } remove_country_leader_trait = nuclear_scientist }

	if = { limit = { has_country_leader_with_trait = army_chief_defensive_1 } remove_country_leader_trait = army_chief_defensive_1 }
	if = { limit = { has_country_leader_with_trait = army_chief_defensive_2 } remove_country_leader_trait = army_chief_defensive_2 }
	if = { limit = { has_country_leader_with_trait = army_chief_defensive_3 } remove_country_leader_trait = army_chief_defensive_3 }

	if = { limit = { has_country_leader_with_trait = army_chief_maneuver_1 } remove_country_leader_trait = army_chief_maneuver_1 }
	if = { limit = { has_country_leader_with_trait = army_chief_maneuver_2 } remove_country_leader_trait = army_chief_maneuver_2 }
	if = { limit = { has_country_leader_with_trait = army_chief_maneuver_3 } remove_country_leader_trait = army_chief_maneuver_3 }

	if = { limit = { has_country_leader_with_trait = army_chief_reform_1 } remove_country_leader_trait = army_chief_reform_1 }
	if = { limit = { has_country_leader_with_trait = army_chief_reform_2 } remove_country_leader_trait = army_chief_reform_2 }
	if = { limit = { has_country_leader_with_trait = army_chief_reform_3 } remove_country_leader_trait = army_chief_reform_3 }

	if = { limit = { has_country_leader_with_trait = army_chief_old_guard } remove_country_leader_trait = army_chief_old_guard }

	if = { limit = { has_country_leader_with_trait = navy_chief_decisive_battle_1 } remove_country_leader_trait = navy_chief_decisive_battle_1 }
	if = { limit = { has_country_leader_with_trait = navy_chief_decisive_battle_2 } remove_country_leader_trait = navy_chief_decisive_battle_2 }
	if = { limit = { has_country_leader_with_trait = navy_chief_decisive_battle_3 } remove_country_leader_trait = navy_chief_decisive_battle_3 }

	if = { limit = { has_country_leader_with_trait = navy_chief_maneuver_1 } remove_country_leader_trait = navy_chief_maneuver_1 }
	if = { limit = { has_country_leader_with_trait = navy_chief_maneuver_2 } remove_country_leader_trait = navy_chief_maneuver_2 }
	if = { limit = { has_country_leader_with_trait = navy_chief_maneuver_3 } remove_country_leader_trait = navy_chief_maneuver_3 }

	if = { limit = { has_country_leader_with_trait = navy_chief_commerce_raiding_1 } remove_country_leader_trait = navy_chief_commerce_raiding_1 }
	if = { limit = { has_country_leader_with_trait = navy_chief_commerce_raiding_2 } remove_country_leader_trait = navy_chief_commerce_raiding_2 }
	if = { limit = { has_country_leader_with_trait = navy_chief_commerce_raiding_3 } remove_country_leader_trait = navy_chief_commerce_raiding_3 }

	if = { limit = { has_country_leader_with_trait = air_chief_ground_support_1 } remove_country_leader_trait = air_chief_ground_support_1 }
	if = { limit = { has_country_leader_with_trait = air_chief_ground_support_2 } remove_country_leader_trait = air_chief_ground_support_2 }
	if = { limit = { has_country_leader_with_trait = air_chief_ground_support_3 } remove_country_leader_trait = air_chief_ground_support_3 }

	if = { limit = { has_country_leader_with_trait = air_chief_all_weather_1 } remove_country_leader_trait = air_chief_all_weather_1 }
	if = { limit = { has_country_leader_with_trait = air_chief_all_weather_2 } remove_country_leader_trait = air_chief_all_weather_2 }
	if = { limit = { has_country_leader_with_trait = air_chief_all_weather_3 } remove_country_leader_trait = air_chief_all_weather_3 }

	if = { limit = { has_country_leader_with_trait = air_chief_reform_1 } remove_country_leader_trait = air_chief_reform_1 }
	if = { limit = { has_country_leader_with_trait = air_chief_reform_2 } remove_country_leader_trait = air_chief_reform_2 }
	if = { limit = { has_country_leader_with_trait = air_chief_reform_3 } remove_country_leader_trait = air_chief_reform_3 }

	if = { limit = { has_country_leader_with_trait = army_infantry_1 } remove_country_leader_trait = army_infantry_1 }
	if = { limit = { has_country_leader_with_trait = army_infantry_2 } remove_country_leader_trait = army_infantry_2 }
	if = { limit = { has_country_leader_with_trait = army_infantry_3 } remove_country_leader_trait = army_infantry_3 }

	if = { limit = { has_country_leader_with_trait = army_artillery_1 } remove_country_leader_trait = army_artillery_1 }
	if = { limit = { has_country_leader_with_trait = army_artillery_2 } remove_country_leader_trait = army_artillery_2 }
	if = { limit = { has_country_leader_with_trait = army_artillery_3 } remove_country_leader_trait = army_artillery_3 }

	if = { limit = { has_country_leader_with_trait = army_cavalry_1 } remove_country_leader_trait = army_cavalry_1 }
	if = { limit = { has_country_leader_with_trait = army_cavalry_2 } remove_country_leader_trait = army_cavalry_2 }
	if = { limit = { has_country_leader_with_trait = army_cavalry_3 } remove_country_leader_trait = army_cavalry_3 }

	if = { limit = { has_country_leader_with_trait = army_armored_1 } remove_country_leader_trait = army_armored_1 }
	if = { limit = { has_country_leader_with_trait = army_armored_2 } remove_country_leader_trait = army_armored_2 }
	if = { limit = { has_country_leader_with_trait = army_armored_3 } remove_country_leader_trait = army_armored_3 }

	if = { limit = { has_country_leader_with_trait = army_commando_1 } remove_country_leader_trait = army_commando_1 }
	if = { limit = { has_country_leader_with_trait = army_commando_2 } remove_country_leader_trait = army_commando_2 }
	if = { limit = { has_country_leader_with_trait = army_commando_3 } remove_country_leader_trait = army_commando_3 }

	if = { limit = { has_country_leader_with_trait = army_regrouping_1 } remove_country_leader_trait = army_regrouping_1 }
	if = { limit = { has_country_leader_with_trait = army_regrouping_2 } remove_country_leader_trait = army_regrouping_2 }
	if = { limit = { has_country_leader_with_trait = army_regrouping_3 } remove_country_leader_trait = army_regrouping_3 }

	if = { limit = { has_country_leader_with_trait = army_logistics_1 } remove_country_leader_trait = army_logistics_1 }
	if = { limit = { has_country_leader_with_trait = army_logistics_2 } remove_country_leader_trait = army_logistics_2 }
	if = { limit = { has_country_leader_with_trait = army_logistics_3 } remove_country_leader_trait = army_logistics_3 }

	if = { limit = { has_country_leader_with_trait = army_radio_intelligence_1 } remove_country_leader_trait = army_radio_intelligence_1 }
	if = { limit = { has_country_leader_with_trait = army_radio_intelligence_2 } remove_country_leader_trait = army_radio_intelligence_2 }
	if = { limit = { has_country_leader_with_trait = army_radio_intelligence_3 } remove_country_leader_trait = army_radio_intelligence_3 }

	if = { limit = { has_country_leader_with_trait = army_jungle_warfare_1 } remove_country_leader_trait = army_jungle_warfare_1 }
	if = { limit = { has_country_leader_with_trait = army_jungle_warfare_2 } remove_country_leader_trait = army_jungle_warfare_2 }
	if = { limit = { has_country_leader_with_trait = army_jungle_warfare_3 } remove_country_leader_trait = army_jungle_warfare_3 }

	if = { limit = { has_country_leader_with_trait = navy_naval_air_defense_1 } remove_country_leader_trait = navy_naval_air_defense_1 }
	if = { limit = { has_country_leader_with_trait = navy_naval_air_defense_2 } remove_country_leader_trait = navy_naval_air_defense_2 }
	if = { limit = { has_country_leader_with_trait = navy_naval_air_defense_3 } remove_country_leader_trait = navy_naval_air_defense_3 }

	if = { limit = { has_country_leader_with_trait = navy_submarine_1 } remove_country_leader_trait = navy_submarine_1 }
	if = { limit = { has_country_leader_with_trait = navy_submarine_2 } remove_country_leader_trait = navy_submarine_2 }
	if = { limit = { has_country_leader_with_trait = navy_submarine_3 } remove_country_leader_trait = navy_submarine_3 }

	if = { limit = { has_country_leader_with_trait = navy_anti_submarine_1 } remove_country_leader_trait = navy_anti_submarine_1 }
	if = { limit = { has_country_leader_with_trait = navy_anti_submarine_2 } remove_country_leader_trait = navy_anti_submarine_2 }
	if = { limit = { has_country_leader_with_trait = navy_anti_submarine_3 } remove_country_leader_trait = navy_anti_submarine_3 }

	if = { limit = { has_country_leader_with_trait = navy_screen_1 } remove_country_leader_trait = navy_screen_1 }
	if = { limit = { has_country_leader_with_trait = navy_screen_2 } remove_country_leader_trait = navy_screen_2 }
	if = { limit = { has_country_leader_with_trait = navy_screen_3 } remove_country_leader_trait = navy_screen_3 }

	if = { limit = { has_country_leader_with_trait = navy_capital_ship_1 } remove_country_leader_trait = navy_capital_ship_1 }
	if = { limit = { has_country_leader_with_trait = navy_capital_ship_2 } remove_country_leader_trait = navy_capital_ship_2 }
	if = { limit = { has_country_leader_with_trait = navy_capital_ship_3 } remove_country_leader_trait = navy_capital_ship_3 }

	if = { limit = { has_country_leader_with_trait = navy_carrier_1 } remove_country_leader_trait = navy_carrier_1 }
	if = { limit = { has_country_leader_with_trait = navy_carrier_2 } remove_country_leader_trait = navy_carrier_2 }
	if = { limit = { has_country_leader_with_trait = navy_carrier_3 } remove_country_leader_trait = navy_carrier_3 }

	if = { limit = { has_country_leader_with_trait = air_air_superiority_1 } remove_country_leader_trait = air_air_superiority_1 }
	if = { limit = { has_country_leader_with_trait = air_air_superiority_2 } remove_country_leader_trait = air_air_superiority_2 }
	if = { limit = { has_country_leader_with_trait = air_air_superiority_3 } remove_country_leader_trait = air_air_superiority_3 }

	if = { limit = { has_country_leader_with_trait = air_airborne_1 } remove_country_leader_trait = air_airborne_1 }
	if = { limit = { has_country_leader_with_trait = air_airborne_2 } remove_country_leader_trait = air_airborne_2 }
	if = { limit = { has_country_leader_with_trait = air_airborne_3 } remove_country_leader_trait = air_airborne_3 }
}

clear_province_modifiers = {
	#remove_province_modifier = { 
	#	static_modifiers = { dense_rural_infrastructure }
	#
	#	province = { all_provinces = yes }
	#}
	remove_dynamic_modifier = { modifier = FRA_maginot_line_dynamic_modifier }
	remove_dynamic_modifier = { modifier = ETH_state_development_dynamic_modifier }
	remove_dynamic_modifier = { modifier = dense_rural_infrastructure }
}

add_province_modifiers = {
	600 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Jiangxi
	749 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Huangshan
	606 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Anhui
	607 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Henan
	620 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Hubei
	602 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Hunan
	750 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Changde
	744 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Xian
	605 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Sichuan
	748 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Zunyi
	603 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Guizhu
	615 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Shanxi
	622 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Shaanxi
	325 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Yunnan
	325 = { add_dynamic_modifier = { modifier = dense_rural_infrastructure } } #Dali
}

setup_strat_regions_game = {
	for_loop_effect = {
		start = 1
		end = 288
		value = i

		meta_effect = {
			text = {
				random_state = {
					limit = {
						THIS.owner = {
							OR = {
								has_global_flag = region_setup_players_checked
								is_ai = no
							}
							NOT = { original_tag = OOO }
						}
						region = [REGION]
					}
					every_state = {
						limit = {
							NOT = { state = PREV }
							region = [REGION]
						}
			
						PREV.owner = { transfer_state = PREV }
						add_core_of = PREV.owner
					}
					THIS.owner = { set_cosmetic_tag = region_[REGION] }
				}
			}
			REGION = "[?i]"
		}
	}
}

clear_formable_flags = {
	clr_global_flag = formables_disabled
	clr_global_flag = formables_visual
	clr_global_flag = formables_give_core

	set_variable = { global.formables_cost_25 = 25 }
	set_variable = { global.formables_cost_50 = 50 }
	set_variable = { global.formables_cost_100 = 100 }
}

give_original_conscription_law = {
	if = {
		limit = { original_country_has_disarmed_nation = yes }

		add_ideas = disarmed_nation
	}
	else_if = {
		limit = { original_country_has_volunteer_only = yes }

		add_ideas = volunteer_only
	}
	else_if = {
		limit = { original_country_has_limited_conscription = yes }

		add_ideas = limited_conscription
	}
	else_if = {
		limit = { original_country_has_service_by_requirement = yes }

		add_ideas = service_by_requirement
	}
}

give_random_conscription_law = {
	random_list = {
		seed = random
		3 = {
			modifier = {
				factor = 0

				check_variable = { global.setup_conscription_law_min > 0 }
			}
			add_ideas = disarmed_nation
		}
		127 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_conscription_law_min > 1 }
					check_variable = { global.setup_conscription_law_max < 1 }
				}
			}
			add_ideas = volunteer_only
		}
		28 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_conscription_law_min > 2 }
					check_variable = { global.setup_conscription_law_max < 2 }
				}
			}
			add_ideas = limited_conscription
		}
		3 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_conscription_law_min > 3 }
					check_variable = { global.setup_conscription_law_max < 3 }
				}
			}
			add_ideas = extensive_conscription
		}
		0 = {
			modifier = {
				add = 2

				check_variable = { global.setup_conscription_law_min < 5 }
				check_variable = { global.setup_conscription_law_max > 3 }
			}
			add_ideas = service_by_requirement
		}
		0 = {
			modifier = {
				add = 1

				check_variable = { global.setup_conscription_law_min < 6 }
				check_variable = { global.setup_conscription_law_max > 4 }
			}
			add_ideas = all_adults_serve
		}
		0 = {
			modifier = {
				add = 1

				check_variable = { global.setup_conscription_law_max > 5 }
			}
			add_ideas = scrapping_the_barrel
		}
	}
}

give_original_trade_law = {
	if = {
		limit = { original_country_has_closed_economy = yes }

		add_ideas = closed_economy
	}
	else_if = {
		limit = { original_country_has_limited_exports = yes }

		add_ideas = limited_exports
	}
	else_if = {
		limit = { original_country_has_export_focus = yes }

		add_ideas = export_focus
	}
	else_if = {
		limit = { original_country_has_free_trade = yes }

		add_ideas = free_trade
	}
}

give_random_trade_law = {
	random_list = {
		seed = random
		11 = {
			modifier = {
				factor = 0

				check_variable = { global.setup_trade_law_min > 0 }
			}
			add_ideas = closed_economy
		}
		8 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_trade_law_min > 1 }
					check_variable = { global.setup_trade_law_max < 1 }
				}
			}
			add_ideas = limited_exports
		}
		137 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_trade_law_min > 2 }
					check_variable = { global.setup_trade_law_max < 2 }
				}
			}
			add_ideas = export_focus
		}
		5 = {
			modifier = {
				factor = 0

				check_variable = { global.setup_trade_law_max < 3 }
			}
			add_ideas = free_trade
		}
	}
}

give_original_economic_law = {
	if = {
		limit = { original_country_has_undisturbed_isolation = yes }

		add_ideas = undisturbed_isolation
	}
	else_if = {
		limit = { original_country_has_civilian_economy = yes }

		add_ideas = civilian_economy
	}
	else_if = {
		limit = { original_country_has_partial_mobilization = yes }

		add_ideas = partial_economic_mobilisation
	}
}

give_random_economic_law = {
	random_list = {
		seed = random
		2 = {
			modifier = {
				factor = 0

				check_variable = { global.setup_economic_law_min > 0 }
			}
			add_ideas = undisturbed_isolation
		}
		2 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_economic_law_min > 1 }
					check_variable = { global.setup_economic_law_max < 1 }
				}
			}
			add_ideas = isolation
		}
		100 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_economic_law_min > 4 }
					check_variable = { global.setup_economic_law_max < 4 }
				}
			}
			add_ideas = civilian_economy
		}
		7 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_economic_law_min > 5 }
					check_variable = { global.setup_economic_law_max < 5 }
				}
			}
			add_ideas = low_economic_mobilisation
		}
		10 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_economic_law_min > 6 }
					check_variable = { global.setup_economic_law_max < 6 }
				}
			}
			add_ideas = partial_economic_mobilisation
		}
		1 = {
			modifier = {
				factor = 0

				OR = {
					check_variable = { global.setup_economic_law_min > 8 }
					check_variable = { global.setup_economic_law_max < 8 }
				}
			}
			add_ideas = war_economy
		}
		0 = {
			modifier = {
				add = 1

				check_variable = { global.setup_economic_law_max > 8 }
			}
			add_ideas = tot_economic_mobilisation
		}
	}
}

give_original_research_slots = {
	if = {
		limit = { original_country_has_two_research_slot = yes }

		set_research_slots = 2
	}
	else_if = {
		limit = { original_country_has_three_research_slot = yes }

		set_research_slots = 3
	}
	else_if = {
		limit = { original_country_has_four_research_slot = yes }

		set_research_slots = 4
	}
}

randomise_research_slots = {
	random_list = {
		seed = random
		12 = {
			set_research_slots = 1
		}
		58 = {
			set_research_slots = 2
		}
		84 = {
			set_research_slots = 3
		}
		2 = {
			set_research_slots = 4
		}
	}
}
