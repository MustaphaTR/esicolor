close_welcome_screen = {
	clear_variable = esicolor_welcome_screen
}

setup_other_setup_variables = {
	set_variable = { global.setup_population_min = 250000 }
	set_variable = { global.setup_population_min_k = 500 }
	set_variable = { global.setup_population_max = 750000 }
	set_variable = { global.setup_population_max_k = 1500 }

	set_variable = { global.setup_party_popularity_ruling = 46 }
	set_variable = { global.setup_party_popularity_other = 18 }
}

randomise_seed = { random_list = { 1 = { } 1 = { } } }

default_preset_effects = {
	randomise_seed = yes

	set_variable = { global.setup_infrastructure = -1 }
	set_variable = { global.setup_air_bases = -1 }
	set_variable = { global.setup_anti_air = -1 }
	set_variable = { global.setup_radar_stations = -1 }

	set_variable = { global.setup_civilian_factories = -1 }
	set_variable = { global.setup_military_factories = -1 }
	set_variable = { global.setup_dockyards = -1 }
	set_variable = { global.setup_synthetic_refineries = -1 }
	set_variable = { global.setup_fuel_silos = -1 }

	set_variable = { global.setup_forts = -1 }

	set_variable = { global.setup_state_category = -1 }
	set_variable = { global.setup_province_modifiers = -1 }
	set_variable = { global.setup_population = -1 }

	set_variable = { global.setup_resource_types = -1 }

	set_variable = { global.setup_ideology = -1 }
	set_variable = { global.setup_party_popularity = -1 }
	set_variable = { global.setup_ai_change_ideology = -1 }

	set_variable = { global.setup_stability_min = 50 }
	set_variable = { global.setup_stability_max = 50 }
	set_variable = { global.setup_war_support_min = 50 }
	set_variable = { global.setup_war_support_max = 50 }

	set_variable = { global.setup_leader_traits = 1 }

	set_variable = { global.setup_conscription_law = 1 }
	set_variable = { global.setup_conscription_law_min = 1 }
	set_variable = { global.setup_conscription_law_max = 1 }
	set_variable = { global.setup_trade_law = 1 }
	set_variable = { global.setup_trade_law_min = 2 }
	set_variable = { global.setup_trade_law_max = 2 }
	set_variable = { global.setup_economic_law = 1 }
	set_variable = { global.setup_economic_law_min = 4 }
	set_variable = { global.setup_economic_law_max = 4 }

	set_variable = { global.setup_advisors = -1 }
	set_variable = { global.setup_military_advisors = -1 }
	set_variable = { global.setup_mio_concern = -1 }

	set_variable = { global.setup_research_slots = 1 }
	set_variable = { global.setup_research_slots_min = 3 }
	set_variable = { global.setup_research_slots_max = 3 }

	set_variable = { global.setup_technology_infantry_weapons1 = 0 }
	set_variable = { global.setup_technology_support_weapons = 0 }
	set_variable = { global.setup_technology_tech_mountaineers_paratroopers_marines = 0 }
	set_variable = { global.setup_technology_tech_trucks = 0 }
	set_variable = { global.setup_technology_motorised_infantry_basic_train = 0 }
	set_variable = { global.setup_technology_tech_support = 0 }
	set_variable = { global.setup_technology_tech_engineer_recon_mp = 0 }
	set_variable = { global.setup_technology_gw_artillery = 0 }
	set_variable = { global.setup_technology_gwtank_antiair_antitank = 0 }
	set_variable = { global.setup_technology_transport_1 = 0 }
	set_variable = { global.setup_technology_destroyer_1 = 0 }
	set_variable = { global.setup_technology_submarine_1 = 0 }
	set_variable = { global.setup_technology_early_fighter = 0 }
	set_variable = { global.setup_technology_basic_cas_nav = 0 }
	set_variable = { global.setup_technology_early_bomber = 0 }
	set_variable = { global.setup_technology_electronic_mechanical_engineering = 0 }
	set_variable = { global.setup_technology_radio = 0 }
	set_variable = { global.setup_technology_radio_detection = 0 }
	set_variable = { global.setup_technology_basic_machine_tools = 0 }
	set_variable = { global.setup_technology_construction1 = 0 }
	set_variable = { global.setup_technology_excavation1 = 0 }
	set_variable = { global.setup_technology_fuel_silos = 0 }
	set_variable = { global.setup_technology_synth_oil_experiments_fuel_refining = 0 }

	set_variable = { global.setup_intelligence_agency = 1 }
	set_variable = { global.setup_intelligence_agency_chance = 0 }

	set_variable = { global.setup_starting_regions = 0 }
	set_variable = { global.setup_islands = 0 }

	set_variable = { global.setup_formables = 2 }
	set_variable = { global.setup_resource_prospecting = 1 }
	set_variable = { global.setup_foreign_generals = 1 }

	set_variable = { global.setup_state_management = 1 }
	set_variable = { global.setup_claim_decision = 1 }
}

randomised_preset_effects = {
	randomise_seed = yes

	set_variable = { global.setup_infrastructure = 1 }
	set_variable = { global.setup_infrastructure_min = 0 }
	set_variable = { global.setup_infrastructure_max = 5 }
	set_variable = { global.setup_air_bases = 1 }
	set_variable = { global.setup_air_bases_min = 0 }
	set_variable = { global.setup_air_bases_max = 10 }
	set_variable = { global.setup_anti_air = 1 }
	set_variable = { global.setup_anti_air_min = 0 }
	set_variable = { global.setup_anti_air_max = 5 }
	set_variable = { global.setup_radar_stations = 1 }
	set_variable = { global.setup_radar_stations_chance = 1 }

	set_variable = { global.setup_civilian_factories = 1 }
	set_variable = { global.setup_civilian_factories_min = 0 }
	set_variable = { global.setup_civilian_factories_max = 3 }
	set_variable = { global.setup_military_factories = 1 }
	set_variable = { global.setup_military_factories_min = 0 }
	set_variable = { global.setup_military_factories_max = 3 }
	set_variable = { global.setup_dockyards = 1 }
	set_variable = { global.setup_dockyards_min = 0 }
	set_variable = { global.setup_dockyards_max = 2 }
	set_variable = { global.setup_synthetic_refineries = 1 }
	set_variable = { global.setup_synthetic_refineries_min = 2 }
	set_variable = { global.setup_synthetic_refineries_max = 2 }
	if = {
		limit = { has_start_date > 1939.1.1 }

		set_variable = { global.setup_synthetic_refineries_min = 5 }
		set_variable = { global.setup_synthetic_refineries_max = 5 }
	}
	set_variable = { global.setup_fuel_silos = 1 }
	set_variable = { global.setup_fuel_silos_chance = 2 }
	set_variable = { global.setup_forts = -1 }

	set_variable = { global.setup_state_category = 1 }
	set_variable = { global.setup_state_category_min = 1 } # Pastoral
	set_variable = { global.setup_state_category_max = 5 } # City
	set_variable = { global.setup_province_modifiers = -1 }
	set_variable = { global.setup_population = -2 }

	set_variable = { global.setup_resource_types = 1 }
	set_variable = { global.setup_resource_types_min = 0 }
	set_variable = { global.setup_resource_types_max = 3 }
	set_variable = { global.setup_resource_oil = 1 }
	set_variable = { global.setup_resource_oil_min = 5 }
	set_variable = { global.setup_resource_oil_max = 15 }
	set_variable = { global.setup_resource_rubber = 1 }
	set_variable = { global.setup_resource_rubber_min = 2 }
	set_variable = { global.setup_resource_rubber_max = 6 }
	set_variable = { global.setup_resource_steel = 1 }
	set_variable = { global.setup_resource_steel_min = 8 }
	set_variable = { global.setup_resource_steel_max = 30 }
	set_variable = { global.setup_resource_aluminium = 1 }
	set_variable = { global.setup_resource_aluminium_min = 3 }
	set_variable = { global.setup_resource_aluminium_max = 10 }
	set_variable = { global.setup_resource_tungsten = 1 }
	set_variable = { global.setup_resource_tungsten_min = 3 }
	set_variable = { global.setup_resource_tungsten_max = 10 }
	set_variable = { global.setup_resource_chromium = 1 }
	set_variable = { global.setup_resource_chromium_min = 1 }
	set_variable = { global.setup_resource_chromium_max = 4 }

	set_variable = { global.setup_ideology = -2 }
	set_variable = { global.setup_party_popularity = -2 }
	set_variable = { global.setup_ai_change_ideology = -1 }

	set_variable = { global.setup_stability_min = 10 }
	set_variable = { global.setup_stability_max = 90 }
	set_variable = { global.setup_war_support_min = 10 }
	set_variable = { global.setup_war_support_max = 90 }

	set_variable = { global.setup_leader_traits = 1 }

	set_variable = { global.setup_conscription_law = 1 }
	set_variable = { global.setup_conscription_law_min = 0 }
	set_variable = { global.setup_conscription_law_max = 3 }
	set_variable = { global.setup_trade_law = 1 }
	set_variable = { global.setup_trade_law_min = 0 }
	set_variable = { global.setup_trade_law_max = 3 }
	set_variable = { global.setup_economic_law = 1 }
	set_variable = { global.setup_economic_law_min = 0 }
	set_variable = { global.setup_economic_law_max = 8 }

	set_variable = { global.setup_advisors = -3 }
	set_variable = { global.setup_military_advisors = -2 }
	set_variable = { global.setup_mio_concern = -3 }

	set_variable = { global.setup_intelligence_agency = 1 }
	set_variable = { global.setup_intelligence_agency_chance = 1 }

	set_variable = { global.setup_research_slots = 1 }
	set_variable = { global.setup_research_slots_min = 1 }
	set_variable = { global.setup_research_slots_max = 4 }

	set_variable = { global.setup_technology_infantry_weapons1 = 60 }
	set_variable = { global.setup_technology_support_weapons = 30 }
	set_variable = { global.setup_technology_tech_mountaineers_paratroopers_marines = 20 }
	set_variable = { global.setup_technology_tech_trucks = 33 }
	set_variable = { global.setup_technology_motorised_infantry_basic_train = 30 }
	set_variable = { global.setup_technology_tech_support = 30 }
	set_variable = { global.setup_technology_tech_engineer_recon_mp = 25 }
	set_variable = { global.setup_technology_gw_artillery = 33 }
	set_variable = { global.setup_technology_gwtank_antiair_antitank = 30 }
	set_variable = { global.setup_technology_transport_1 = 25 }
	set_variable = { global.setup_technology_destroyer_1 = 25 }
	set_variable = { global.setup_technology_submarine_1 = 25 }
	set_variable = { global.setup_technology_early_fighter = 20 }
	set_variable = { global.setup_technology_basic_cas_nav = 10 }
	set_variable = { global.setup_technology_early_bomber = 10 }
	set_variable = { global.setup_technology_electronic_mechanical_engineering = 30 }
	set_variable = { global.setup_technology_radio = 10 }
	set_variable = { global.setup_technology_radio_detection = 10 }
	set_variable = { global.setup_technology_basic_machine_tools = 20 }
	set_variable = { global.setup_technology_construction1 = 15 }
	set_variable = { global.setup_technology_excavation1 = 5 }
	set_variable = { global.setup_technology_fuel_silos = 30 }
	set_variable = { global.setup_technology_synth_oil_experiments_fuel_refining = 5 }

	set_variable = { global.setup_starting_regions = 0 }
	set_variable = { global.setup_islands = 0 }

	set_variable = { global.setup_formables = 2 }
	set_variable = { global.setup_resource_prospecting = 1 }
	set_variable = { global.setup_foreign_generals = 1 }

	set_variable = { global.setup_state_management = 1 }
	set_variable = { global.setup_claim_decision = 1 }
}

equalised_preset_effects = {
	randomise_seed = yes

	set_variable = { global.setup_infrastructure = 1 }
	set_variable = { global.setup_infrastructure_min = 2 }
	set_variable = { global.setup_infrastructure_max = 2 }
	set_variable = { global.setup_air_bases = 1 }
	set_variable = { global.setup_air_bases_min = 0 }
	set_variable = { global.setup_air_bases_max = 0 }
	set_variable = { global.setup_anti_air = 1 }
	set_variable = { global.setup_anti_air_min = 0 }
	set_variable = { global.setup_anti_air_max = 0 }
	set_variable = { global.setup_radar_stations = 1 }
	set_variable = { global.setup_radar_stations_chance = 0 }

	set_variable = { global.setup_civilian_factories = 1 }
	set_variable = { global.setup_civilian_factories_min = 1 }
	set_variable = { global.setup_civilian_factories_max = 1 }
	set_variable = { global.setup_military_factories = 1 }
	set_variable = { global.setup_military_factories_min = 1 }
	set_variable = { global.setup_military_factories_max = 1 }
	set_variable = { global.setup_dockyards = 1 }
	set_variable = { global.setup_dockyards_min = 0 }
	set_variable = { global.setup_dockyards_max = 0 }
	set_variable = { global.setup_synthetic_refineries = 1 }
	set_variable = { global.setup_synthetic_refineries_min = 0 }
	set_variable = { global.setup_synthetic_refineries_max = 0 }
	set_variable = { global.setup_fuel_silos = 1 }
	set_variable = { global.setup_fuel_silos_chance = 0 }

	set_variable = { global.setup_forts = 0 }

	set_variable = { global.setup_state_category = 1 }
	set_variable = { global.setup_state_category_min = 3 } # Town
	set_variable = { global.setup_state_category_max = 3 } # Town
	set_variable = { global.setup_province_modifiers = 0 }
	set_variable = { global.setup_population = 1 }
	set_variable = { global.setup_population_min = global.og_per_state_pop_half }
	set_variable = { global.setup_population_max = global.setup_population_min }
	set_variable = { global.setup_population_min_k = global.setup_population_min }
	divide_variable = { global.setup_population_min_k = 500 }
	set_variable = { global.setup_population_max_k = global.setup_population_min_k }

	set_variable = { global.setup_resource_types = 1 }
	set_variable = { global.setup_resource_types_min = 6 }
	set_variable = { global.setup_resource_types_max = 6 }
	set_variable = { global.setup_resource_oil = 1 }
	set_variable = { global.setup_resource_oil_min = 10 }
	set_variable = { global.setup_resource_oil_max = 10 }
	set_variable = { global.setup_resource_rubber = 1 }
	set_variable = { global.setup_resource_rubber_min = 3 }
	set_variable = { global.setup_resource_rubber_max = 3 }
	set_variable = { global.setup_resource_steel = 1 }
	set_variable = { global.setup_resource_steel_min = 15 }
	set_variable = { global.setup_resource_steel_max = 15 }
	set_variable = { global.setup_resource_aluminium = 1 }
	set_variable = { global.setup_resource_aluminium_min = 5 }
	set_variable = { global.setup_resource_aluminium_max = 5 }
	set_variable = { global.setup_resource_tungsten = 1 }
	set_variable = { global.setup_resource_tungsten_min = 5 }
	set_variable = { global.setup_resource_tungsten_max = 5 }
	set_variable = { global.setup_resource_chromium = 1 }
	set_variable = { global.setup_resource_chromium_min = 2 }
	set_variable = { global.setup_resource_chromium_max = 2 }

	set_variable = { global.setup_ideology = 3 }
	set_variable = { global.setup_party_popularity = 1 }
	set_variable = { global.setup_party_popularity_ruling = 25 }
	set_variable = { global.setup_party_popularity_other = 25 }
	set_variable = { global.setup_ai_change_ideology = 1 }

	set_variable = { global.setup_stability_min = 50 }
	set_variable = { global.setup_stability_max = 50 }
	set_variable = { global.setup_war_support_min = 50 }
	set_variable = { global.setup_war_support_max = 50 }

	set_variable = { global.setup_leader_traits = 0 }

	set_variable = { global.setup_conscription_law = 1 }
	set_variable = { global.setup_conscription_law_min = 1 }
	set_variable = { global.setup_conscription_law_max = 1 }
	set_variable = { global.setup_trade_law = 1 }
	set_variable = { global.setup_trade_law_min = 2 }
	set_variable = { global.setup_trade_law_max = 2 }
	set_variable = { global.setup_economic_law = 1 }
	set_variable = { global.setup_economic_law_min = 4 }
	set_variable = { global.setup_economic_law_max = 4 }

	set_variable = { global.setup_advisors = 0 }
	set_variable = { global.setup_military_advisors = 1 }
	set_variable = { global.setup_mio_concern = 0 }

	set_variable = { global.setup_intelligence_agency = 1 }
	set_variable = { global.setup_intelligence_agency_chance = 0 }

	set_variable = { global.setup_research_slots = 1 }
	set_variable = { global.setup_research_slots_min = 3 }
	set_variable = { global.setup_research_slots_max = 3 }

	set_variable = { global.setup_technology_infantry_weapons1 = 0 }
	set_variable = { global.setup_technology_support_weapons = 0 }
	set_variable = { global.setup_technology_tech_mountaineers_paratroopers_marines = 0 }
	set_variable = { global.setup_technology_tech_trucks = 100 }
	set_variable = { global.setup_technology_motorised_infantry_basic_train = 0 }
	set_variable = { global.setup_technology_tech_support = 100 }
	set_variable = { global.setup_technology_tech_engineer_recon_mp = 0 }
	set_variable = { global.setup_technology_gw_artillery = 100 }
	set_variable = { global.setup_technology_gwtank_antiair_antitank = 0 }
	set_variable = { global.setup_technology_transport_1 = 100 }
	set_variable = { global.setup_technology_destroyer_1 = 0 }
	set_variable = { global.setup_technology_submarine_1 = 0 }
	set_variable = { global.setup_technology_early_fighter = 0 }
	set_variable = { global.setup_technology_basic_cas_nav = 0 }
	set_variable = { global.setup_technology_early_bomber = 0 }
	set_variable = { global.setup_technology_electronic_mechanical_engineering = 0 }
	set_variable = { global.setup_technology_radio = 0 }
	set_variable = { global.setup_technology_radio_detection = 0 }
	set_variable = { global.setup_technology_basic_machine_tools = 0 }
	set_variable = { global.setup_technology_construction1 = 0 }
	set_variable = { global.setup_technology_excavation1 = 0 }
	set_variable = { global.setup_technology_fuel_silos = 0 }
	set_variable = { global.setup_technology_synth_oil_experiments_fuel_refining = 0 }

	set_variable = { global.setup_starting_regions = 0 }
	set_variable = { global.setup_islands = 0 }

	set_variable = { global.setup_formables = 1 }
	set_variable = { global.setup_resource_prospecting = 0 }
	set_variable = { global.setup_foreign_generals = 1 }

	set_variable = { global.setup_state_management = 1 }
	set_variable = { global.setup_claim_decision = 1 }
}

developer_preset_effects = {
	randomise_seed = yes

	set_variable = { global.setup_infrastructure = -1 }
	set_variable = { global.setup_air_bases = -1 }
	set_variable = { global.setup_anti_air = -1 }
	set_variable = { global.setup_radar_stations = -1 }

	set_variable = { global.setup_civilian_factories = -1 }
	set_variable = { global.setup_military_factories = -1 }
	set_variable = { global.setup_dockyards = -1 }
	set_variable = { global.setup_synthetic_refineries = -1 }
	set_variable = { global.setup_fuel_silos = -1 }

	set_variable = { global.setup_forts = -1 }

	set_variable = { global.setup_state_category = -1 }
	set_variable = { global.setup_province_modifiers = -1 }
	set_variable = { global.setup_population = -1 }

	set_variable = { global.setup_resource_types = -1 }

	set_variable = { global.setup_ideology = -1 }
	set_variable = { global.setup_party_popularity = -1 }
	set_variable = { global.setup_ai_change_ideology = -1 }

	set_variable = { global.setup_stability_min = 10 }
	set_variable = { global.setup_stability_max = 90 }
	set_variable = { global.setup_war_support_min = 10 }
	set_variable = { global.setup_war_support_max = 90 }

	set_variable = { global.setup_leader_traits = 1 }

	set_variable = { global.setup_conscription_law = 1 }
	set_variable = { global.setup_conscription_law_min = 0 }
	set_variable = { global.setup_conscription_law_max = 3 }
	set_variable = { global.setup_trade_law = 1 }
	set_variable = { global.setup_trade_law_min = 0 }
	set_variable = { global.setup_trade_law_max = 3 }
	set_variable = { global.setup_economic_law = 1 }
	set_variable = { global.setup_economic_law_min = 0 }
	set_variable = { global.setup_economic_law_max = 8 }

	set_variable = { global.setup_advisors = -3 }
	set_variable = { global.setup_military_advisors = -2 }
	set_variable = { global.setup_mio_concern = 1 }

	set_variable = { global.setup_intelligence_agency = 1 }
	set_variable = { global.setup_intelligence_agency_chance = 1 }

	set_variable = { global.setup_research_slots = 1 }
	set_variable = { global.setup_research_slots_min = 1 }
	set_variable = { global.setup_research_slots_max = 4 }

	set_variable = { global.setup_technology_infantry_weapons1 = 60 }
	set_variable = { global.setup_technology_support_weapons = 30 }
	set_variable = { global.setup_technology_tech_mountaineers_paratroopers_marines = 20 }
	set_variable = { global.setup_technology_tech_trucks = 33 }
	set_variable = { global.setup_technology_motorised_infantry_basic_train = 30 }
	set_variable = { global.setup_technology_tech_support = 30 }
	set_variable = { global.setup_technology_tech_engineer_recon_mp = 25 }
	set_variable = { global.setup_technology_gw_artillery = 33 }
	set_variable = { global.setup_technology_gwtank_antiair_antitank = 30 }
	set_variable = { global.setup_technology_transport_1 = 25 }
	set_variable = { global.setup_technology_destroyer_1 = 25 }
	set_variable = { global.setup_technology_submarine_1 = 25 }
	set_variable = { global.setup_technology_early_fighter = 20 }
	set_variable = { global.setup_technology_basic_cas_nav = 10 }
	set_variable = { global.setup_technology_early_bomber = 10 }
	set_variable = { global.setup_technology_electronic_mechanical_engineering = 30 }
	set_variable = { global.setup_technology_radio = 10 }
	set_variable = { global.setup_technology_radio_detection = 10 }
	set_variable = { global.setup_technology_basic_machine_tools = 20 }
	set_variable = { global.setup_technology_construction1 = 15 }
	set_variable = { global.setup_technology_excavation1 = 5 }
	set_variable = { global.setup_technology_fuel_silos = 30 }
	set_variable = { global.setup_technology_synth_oil_experiments_fuel_refining = 5 }

	set_variable = { global.setup_starting_regions = 0 }
	set_variable = { global.setup_islands = 0 }

	set_variable = { global.setup_formables = 2 }
	set_variable = { global.setup_resource_prospecting = 1 }
	set_variable = { global.setup_foreign_generals = 1 }

	set_variable = { global.setup_state_management = 1 }
	set_variable = { global.setup_claim_decision = 2 }
}

setup_gui_start_general = {
	set_global_flag = esicolor_setup_complete

	every_state = {
		setup_gui_start_infrastructure = yes
		setup_gui_start_air_bases = yes
		setup_gui_start_anti_air = yes
		setup_gui_start_radar_station = yes

		setup_gui_start_civilian_factory = yes
		setup_gui_start_military_factory = yes
		if = {
			limit = { is_coastal = yes }

			setup_gui_start_dockyard = yes
		}
		setup_gui_start_fuel_silo = yes

		setup_gui_start_forts = yes

		setup_gui_start_state_category = yes
		setup_gui_start_province_modifiers = yes
		setup_gui_start_population = yes
	}

	setup_gui_start_synthetic_refinery = yes
	setup_gui_start_resources = yes

	every_country = {
		limit = { NOT = { original_tag = OOO } }

		setup_gui_start_ideology = yes
		setup_gui_start_party_popularity = yes
		setup_gui_start_ai_change_ideology = yes

		setup_gui_start_stability = yes
		setup_gui_start_war_support = yes

		setup_gui_start_research_slots = yes

		setup_gui_start_conscription_law = yes
		setup_gui_start_trade_law = yes
		setup_gui_start_economic_law = yes

		setup_gui_start_advisors = yes
		setup_gui_start_military_advisors = yes
		setup_gui_start_mio_concern = yes

		setup_gui_start_intelligence_agency = yes
		
		randomise_technology = yes
	}

	setup_gui_start_leader_traits = yes

	setup_gui_start_starting_regions = yes
	setup_gui_start_islands = yes

	setup_gui_start_formables = yes
	setup_gui_start_resource_prospecting = yes
	setup_gui_start_foreign_generals = yes

	setup_gui_start_claim_decision = yes
	setup_gui_start_state_management = yes
}

setup_gui_start_infrastructure = {
	if = {
		limit = { check_variable = { global.setup_infrastructure > 0 } }

		randomise_infrastructure = yes
	}
}

setup_gui_start_air_bases = {
	if = {
		limit = { check_variable = { global.setup_air_bases < 0 } }

		place_starting_air_bases = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_air_bases > -1 } }

		randomise_air_bases = yes
	}
}

setup_gui_start_anti_air = {
	if = {
		limit = { check_variable = { global.setup_anti_air > -1 } }

		randomise_anti_air = yes
	}
}

setup_gui_start_radar_station = {
	if = {
		limit = { check_variable = { global.setup_radar_stations > -1 } }

		clear_radar_stations = yes
		randomise_radar_stations = yes
	}
}

setup_gui_start_civilian_factory = {
	if = {
		limit = { check_variable = { global.setup_civilian_factories > -1 } }

		clear_civilian_factories = yes
		randomise_civilian_factories = yes
	}
}

setup_gui_start_military_factory = {
	if = {
		limit = { check_variable = { global.setup_military_factories > -1 } }

		clear_military_factories = yes
		randomise_military_factories = yes
	}
}

setup_gui_start_dockyard = {
	if = {
		limit = { check_variable = { global.setup_dockyards > -1 } }

		clear_dockyards = yes
		randomise_dockyards = yes
	}
}

setup_gui_start_synthetic_refinery = {
	if = {
		limit = { check_variable = { global.setup_synthetic_refineries > -1 } }

		clear_synthetic_refineries = yes
		randomise_synthetic_refineries = yes
	}
	else = {
		clear_synthetic_refineries = yes
		251 = {
			add_building_construction = {
				type = synthetic_refinery
				level = 1
				instant_build = yes
			}
		}
	}
}

setup_gui_start_fuel_silo = {
	if = {
		limit = { check_variable = { global.setup_fuel_silos > -1 } }

		clear_fuel_silos = yes
		randomise_fuel_silos = yes
	}
}

setup_gui_start_forts = {
	if = {
		limit = { check_variable = { global.setup_forts > -1 } }

		clear_forts = yes
		set_building_level = {
			type = bunker
			level = global.setup_forts
			province = { all_provinces = yes limit_to_victory_point = yes }
			instant_build = yes
		}
		set_building_level = {
			type = coastal_bunker
			level = global.setup_forts
			province = { all_provinces = yes limit_to_victory_point = yes }
			instant_build = yes
		}
	}
}

setup_gui_start_state_category = {
	if = {
		limit = { check_variable = { global.setup_state_category > -1 } }

		randomise_state_category = yes
	}
}

setup_gui_start_province_modifiers = {
	clear_province_modifiers = yes
	if = {
		limit = { check_variable = { global.setup_province_modifiers < 0 } }

		add_province_modifiers = yes
	}
}

setup_gui_start_population = {
	if = {
		limit = { check_variable = { global.setup_population < -1 } }

		clear_population = yes
		shuffle_population = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_population > -1 } }

		clear_population = yes
		randomise_population = yes
	}
}

setup_gui_start_resources = {
	if = {
		limit = { check_variable = { global.setup_resource_types < 0 } }

		# every_state = { clear_resources = yes }
		setup_default_resources = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_resource_types > -1 } }

		every_state = {
			# clear_resources = yes
			set_temp_variable = { max_plus_one = global.setup_resource_types_max }
			add_to_temp_variable = { max_plus_one = 1 }
			set_variable_to_random = {
				var = resourcetypestoadd
				min = global.setup_resource_types_min
				max = max_plus_one
				integer = yes
			}

			for_loop_effect = {
				end = resourcetypestoadd

				randomise_resources = yes
			}
		}
	}
}

setup_gui_start_ideology = {
	set_variable = { THIS.old_ideology = THIS.current_party_ideology_group }
	if = {
		limit = { check_variable = { global.setup_ideology < -1 } }

		randomise_ideology = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_ideology = -1 } }

		set_politics = {
			ruling_party = var:original_ideology
		}
	}
	else_if = {
		limit = { check_variable = { global.setup_ideology = 0 } }

		set_politics = {
			ruling_party = democratic
		}
	}
	else_if = {
		limit = { check_variable = { global.setup_ideology = 1 } }

		set_politics = {
			ruling_party = communism
		}
	}
	else_if = {
		limit = { check_variable = { global.setup_ideology = 2 } }

		set_politics = {
			ruling_party = fascism
		}
	}
	else_if = {
		limit = { check_variable = { global.setup_ideology > 2 } }

		set_politics = {
			ruling_party = neutrality
		}
	}
	set_variable = { THIS.new_ideology = THIS.current_party_ideology_group }
}

setup_gui_start_party_popularity = {
	if = {
		limit = { check_variable = { global.setup_party_popularity < -1 } }

		randomise_popularity_for_current_party = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_party_popularity = -1 } }

		switch_popularity_for_current_party = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_party_popularity > -1 } }

		equalise_popularity_for_current_party = yes
	}
}

setup_gui_start_ai_change_ideology = {
	if = {
		limit = { check_variable = { global.setup_ai_change_ideology > 0 } }

		randomise_ai_ideology_path = yes
	}
}

setup_gui_start_stability = {
	randomise_stability = yes
}

setup_gui_start_war_support = {
	randomise_war_support = yes
}

setup_gui_start_research_slots = {
	if = {
		limit = { check_variable = { global.setup_research_slots < 0 } }

		give_original_research_slots = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_research_slots > -1 } }

		randomise_research_slots = yes
	}
}

setup_gui_start_leader_traits = {
	if = {
		limit = { check_variable = { global.setup_leader_traits < 1 } }

		every_country = {
			clear_leader_traits = yes
		}

		set_global_flag = leader_traits_disabled
	}
}

setup_gui_start_conscription_law = {
	if = {
		limit = { check_variable = { global.setup_conscription_law < 0 } }

		give_original_conscription_law = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_conscription_law > -1 } }

		give_random_conscription_law = yes
	}
}

setup_gui_start_trade_law = {
	if = {
		limit = { check_variable = { global.setup_trade_law < 0 } }

		give_original_trade_law = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_trade_law > -1 } }

		give_random_trade_law = yes
	}
}

setup_gui_start_economic_law = {
	if = {
		limit = { check_variable = { global.setup_economic_law < 0 } }

		give_original_economic_law = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_economic_law > -1 } }

		give_random_economic_law = yes
	}
}

setup_gui_start_advisors = {
	clear_advisor_disabled_flags = yes

	if = {
		limit = { check_variable = { global.setup_advisors < -2 } }

		randomise_advisors = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_advisors = -2 } }

		setup_basegame_advisors = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_advisors = -1 } }

		setup_default_advisors = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_advisors > -1 } }

		enable_all_advisors = yes
	}
}

setup_gui_start_military_advisors = {
	if = {
		limit = { check_variable = { global.setup_military_advisors < -1 } }

		randomise_military_advisor_levels = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_military_advisors = 0 } }

		set_global_flag = military_advisor_levels_1
		randomise_military_advisor_levels = yes
		clr_global_flag = military_advisor_levels_1
	}
	else_if = {
		limit = { check_variable = { global.setup_military_advisors = 1 } }

		set_global_flag = military_advisor_levels_2
		randomise_military_advisor_levels = yes
		clr_global_flag = military_advisor_levels_2
	}
	else_if = {
		limit = { check_variable = { global.setup_military_advisors > 1 } }

		set_global_flag = military_advisor_levels_3
		randomise_military_advisor_levels = yes
		clr_global_flag = military_advisor_levels_3
	}
}

setup_gui_start_mio_concern = {
	clear_company_disabled_flags = yes

	clr_global_flag = custom_designers_only
	clr_global_flag = custom_designers_only_core
	clr_global_flag = custom_designers_only_ownership

	if = {
		limit = { check_variable = { global.setup_mio_concern < -2 } }

		randomise_designers = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_mio_concern = -2 } }

		setup_basegame_companies = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_mio_concern = -1 } }

		setup_default_companies = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_mio_concern = 1 } }

		set_global_flag = custom_designers_only
		set_global_flag = custom_designers_only_ownership
	}
	else_if = {
		limit = { check_variable = { global.setup_mio_concern > 1 } }

		set_global_flag = custom_designers_only
		set_global_flag = custom_designers_only_core
	}
}

setup_gui_start_intelligence_agency = {
	if = {
		limit = { has_dlc = "La Resistance" }

		if = {
			limit = {
				check_variable = { global.setup_intelligence_agency < 0 }
				is_led_by_an_agent = yes
			}

			create_intelligence_agency = yes
		}
		else_if = {
			limit = { check_variable = { global.setup_intelligence_agency > -1 } }

			randomise_intelligence_agency = yes
		}
	}
}

setup_gui_start_starting_regions = {
	if = {
		limit = { check_variable = { global.setup_starting_regions > 0 } }

		setup_strat_regions_game = yes
		set_global_flag = region_setup_players_checked
		setup_strat_regions_game = yes
		clr_global_flag = region_setup_players_checked
	}
}

setup_gui_start_islands = {
	if = {
		limit = { check_variable = { global.setup_islands = 1 } }

		every_state = {
			limit = { is_seperate_island_state = yes }
			OOO = {
				transfer_state = PREV
			}
			remove_from_array = { global.states_ingame = THIS }
		}
		set_global_flag = islands_removed_seperate
	}
	else_if = {
		limit = { check_variable = { global.setup_islands = 2 } }

		every_state = {
			limit = { is_unconnected_island_state = yes }
			OOO = {
				transfer_state = PREV
			}
			remove_from_array = { global.states_ingame = THIS }
		}
		set_global_flag = islands_removed_unconnected
	}
	else_if = {
		limit = { check_variable = { global.setup_islands > 2 } }

		every_state = {
			limit = { is_island_state_esicolor = yes }
			OOO = {
				transfer_state = PREV
			}
			remove_from_array = { global.states_ingame = THIS }
		}
		set_global_flag = islands_removed_all
	}
}

setup_gui_start_formables = {
	if = {
		limit = { check_variable = { global.setup_formables < 1 } }

		clear_formable_flags = yes
		set_global_flag = formables_disabled
	}
	else_if = {
		limit = { check_variable = { global.setup_formables = 1 } }

		clear_formable_flags = yes
		set_global_flag = formables_visual
		set_variable = { global.formables_cost_25 = 0 }
		set_variable = { global.formables_cost_50 = 0 }
		set_variable = { global.formables_cost_100 = 0 }
	}
	else_if = {
		limit = { check_variable = { global.setup_formables = 2 } }

		clear_formable_flags = yes
	}
	else_if = {
		limit = { check_variable = { global.setup_formables > 2 } }

		clear_formable_flags = yes
		set_global_flag = formables_give_core
		set_variable = { global.formables_cost_25 = 50 }
		set_variable = { global.formables_cost_50 = 100 }
		set_variable = { global.formables_cost_100 = 200 }
	}
}

setup_gui_start_resource_prospecting = {
	if = {
		limit = { check_variable = { global.setup_resource_prospecting < 1 } }

		set_global_flag = prospect_for_resources_disabled
	}
	else_if = {
		limit = { check_variable = { global.setup_resource_prospecting > 0 } }

		clr_global_flag = prospect_for_resources_disabled
	}
}

setup_gui_start_foreign_generals = {
	if = {
		limit = { check_variable = { global.setup_foreign_generals < 1 } }

		set_global_flag = general_recruitment_disabled
	}
	else_if = {
		limit = { check_variable = { global.setup_foreign_generals > 0 } }

		clr_global_flag = general_recruitment_disabled
	}
}

setup_gui_start_state_management = {
	if = {
		limit = { check_variable = { global.setup_state_management < 1 } }

		set_global_flag = state_management_disabled
	}
	else_if = {
		limit = { check_variable = { global.setup_state_management > 0 } }

		clr_global_flag = state_management_disabled
	}
}

setup_gui_start_claim_decision = {
	if = {
		limit = { check_variable = { global.setup_claim_decision < 1 } }

		clr_global_flag = claiming_give_war_goals
		clr_global_flag = claiming_declare_war
		set_variable = { global.claiming_cost = 20 }
		set_variable = { global.claiming_cost_minus_one = 19 }
		set_variable = { global.claiming_cost_negative = -20 }
		set_variable = { global.claiming_length = 30 }
	}
	else_if = {
		limit = { check_variable = { global.setup_claim_decision = 1 } }

		set_global_flag = claiming_give_war_goals
		clr_global_flag = claiming_declare_war
		set_variable = { global.claiming_cost = 40 }
		set_variable = { global.claiming_cost_minus_one = 39 }
		set_variable = { global.claiming_cost_negative = -40 }
		set_variable = { global.claiming_length = 60 }
	}
	else_if = {
		limit = { check_variable = { global.setup_claim_decision > 1 } }

		clr_global_flag = claiming_give_war_goals
		set_global_flag = claiming_declare_war
		set_variable = { global.claiming_cost = 40 }
		set_variable = { global.claiming_cost_minus_one = 39 }
		set_variable = { global.claiming_cost_negative = -40 }
		set_variable = { global.claiming_length = 60 }
	}
}
