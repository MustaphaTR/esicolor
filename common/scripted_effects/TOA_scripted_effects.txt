# Set dynamic modifier defaults
JUNO_set_shared_military_branch_defaults = {
	# Army modifiers
	set_variable = { JUNO_army_modifier_experience_gain_army_factor = 0.0 }
	set_variable = { JUNO_army_modifier_experience_loss_factor = 0.00 }
	set_variable = { JUNO_army_modifier_experience_gain_army = 0.02 }
	set_variable = { JUNO_army_production_speed_arms_factory_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_org_factor = 0.00 }
	set_variable = { JUNO_army_operative_slot = 0 }
	set_variable = { JUNO_supply_combat_penalties_on_core_factor = 0.00 }
	set_variable = { JUNO_modifier_production_speed_supply_node_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_core_defence_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_armor_defence_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_armor_attack_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_attack_speed_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_artillery_attack_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_artillery_defence_factor = 0.00 }
	set_variable = { JUNO_army_modifier_production_speed_anti_air_building_factor = 0.00 }
	set_variable = { JUNO_army_modifier_conscription = 0.00 }
	set_variable = { JUNO_army_modifier_training_time_factor = 0.00 }
	set_variable = { JUNO_army_modifier_conscription_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_defence_factor = 0.00 }
	set_variable = { JUNO_army_modifier_army_attack_factor = 0.00 }
	set_variable = { JUNO_army_modifier_special_forces_cap = 0.00 }
	set_variable = { JUNO_army_modifier_industrial_capacity_factory = 0.00 }
	set_variable = { JUNO_army_modifier_special_forces_out_of_supply_factor = 0.00 }
	set_variable = { JUNO_army_modifier_extra_marine_supply_grace = 0 }
	set_variable = { JUNO_army_modifier_max_planning_factor = 0 }
	set_variable = { JUNO_army_modifier_planning_speed_factor = 0 }
	set_variable = { JUNO_army_modifier_max_command_power_mult = 0 }
	set_variable = { JUNO_army_modifier_command_power_gain_mult = 0 }
	set_variable = { JUNO_army_modifier_acclimatization_cold_climate_gain_factor = 0 }
	set_variable = { JUNO_army_modifier_acclimatization_hot_climate_gain_factor = 0 }
	
	# Navy Modifiers
	set_variable = { JUNO_navy_experience_gain_navy_factor = 0.02 }
	set_variable = { JUNO_navy_mines_planting_by_fleets_factor = 0.0 }
	set_variable = { JUNO_navy_navy_anti_air_attack_factor = 0.0 }
	set_variable = { JUNO_navy_navy_spirit_category_type_cost_factor = 0 }
	set_variable = { JUNO_navy_convoy_retreat_speed = 0 }
	set_variable = { JUNO_navy_refit_speed = 0 }
	set_variable = { JUNO_navy_spotting_chance = 0 }
	set_variable = { JUNO_navy_repair_speed_factor = 0 }
	set_variable = { JUNO_navy_production_speed_dockyard_factor = 0 }
	set_variable = { JUNO_navy_industrial_capacity_dockyard = 0 }
	set_variable = { JUNO_navy_extra_marine_supply_grace = 0 }
	set_variable = { JUNO_navy_naval_invasion_capacity = 0 }
	set_variable = { JUNO_navy_naval_mines_effect_reduction = 0 }
	set_variable = { JUNO_navy_experience_gain_navy_unit_factor = 0 }
	set_variable = { JUNO_navy_naval_coordination = 0 }
	set_variable = { JUNO_navy_naval_equipment_upgrade_xp_cost = 0 }
	set_variable = { JUNO_naval_morale_factor = 0 }
	set_variable = { JUNO_screening_efficiency = 0 }
	set_variable = { JUNO_convoy_escort_efficiency = 0 }
	set_variable = { JUNO_navy_capital_ship_defence_factor = 0 }
	set_variable = { JUNO_naval_accidents_chance = 0 }
	set_variable = { JUNO_navy_screen_defence_factor = 0 }
	set_variable = { JUNO_modifier_production_speed_coastal_bunker_factor = 0 }

	# Air modifier
	set_variable = { JUNO_airforce_modifier_air_doctrine_cost_factor = 0.0 }
	set_variable = { JUNO_airforce_modifier_air_ace_generation_chance_factor = 0.0 }
	set_variable = { JUNO_airforce_modifier_air_range_factor = 0.0 }
	set_variable = { JUNO_airforce_modifier_air_superiority_efficiency = 0.0 }
	set_variable = { JUNO_airforce_modifier_air_intercept_efficiency = 0.0 }
	set_variable = { JUNO_airforce_modifier_air_mission_xp_gain_factor = 0.0 }
	set_variable = { JUNO_airforce_modifier_air_agility_factor = 0.0 }
	set_variable = { JUNO_airforce_modifier_ground_attack_factor = 0.0 }
	set_variable = { JUNO_airforce_modifier_experience_gain_air = 0.02 }
	set_variable = { JUNO_army_modifier_industrial_capacity_factory_airfoce = 0.00 }
	set_variable = { JUNO_airforce_modifier_conscription_factor = 0.00 }
	set_variable = { JUNO_airforce_modifier_air_strategic_bomber_bombing_factor = 0.00 }
	set_variable = { JUNO_airforce_modifier_air_cas_present_factor = 0.00 }
	set_variable = { JUNO_airforce_modifier_air_defence_factor = 0 }
}

JUNO_pick_navy_modifier_tt = {
	if = {
		limit = {
			state_originally_from_CHL = yes
		}
		custom_effect_tooltip = CHL_modify_chilean_navy_ns_intro
	}
	else_if = {
		limit = {
			state_originally_from_BRA = yes
		}
		custom_effect_tooltip = BRA_modify_brazilian_navy_ns_intro
	}
	else_if = {
		limit = {
			state_originally_from_ARG = yes
		}
		custom_effect_tooltip = ARG_modify_argentine_navy_ns_intro
	}
	else_if = {
		limit = {
			state_originally_from_PAR = yes
		}
		custom_effect_tooltip = PAR_modify_paraguayan_navy_ns_intro
	}
	else_if = {
		limit = {
			state_originally_from_URG = yes
		}
		custom_effect_tooltip = URG_modify_uruguayan_navy_ns_intro
	}
	else = {
		custom_effect_tooltip = JUNO_modify_south_american_navy_ns_intro
	}
}

SMB_get_dreadnoughts_from_country = {
	IF = {
		limit = {
			 FROM = {
			 	state_originally_from_USA = yes
			 }
		}
		create_equipment_variant = {
			name = "New York Class"					# represents Wyoming (Arkansas) and New York classes
			type = ship_hull_heavy_1
			name_group = USA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_1
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_1
				fixed_ship_secondaries_slot = ship_secondaries_1
				fixed_ship_armor_slot = ship_armor_bb_1
				front_1_custom_slot = empty
				mid_1_custom_slot = ship_airplane_launcher_1
				mid_2_custom_slot = ship_secondaries_1
				rear_1_custom_slot = ship_heavy_battery_1
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "New York Class"
			creator = FROM
			name = "New York Class I"
		}

		create_equipment_variant = {
			name = "Pensacola Class"			# Pensacola and Northampton classes
			type = ship_hull_cruiser_1
			name_group = USA_CA_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_medium_battery_1
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = cruiser_ship_engine_2
				fixed_ship_secondaries_slot = ship_secondaries_1
				fixed_ship_armor_slot = ship_armor_cruiser_1
				mid_1_custom_slot = ship_medium_battery_1
				mid_2_custom_slot = empty
				rear_1_custom_slot = ship_airplane_launcher_1
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_cruiser_1
			equipment_variant = "Pensacola Class"
			creator = FROM
			name = "Pensacola Class I"
		}
		FROM = { 
			set_country_flag = sold_dreadnoughts_to_us@ROOT 
			add_timed_idea = {
				idea = SMB_dreadnought_payments
				days = 365
			}
		}
		ROOT = {
			add_timed_idea = {
				idea = SMB_dreadnought_debt_usa
				days = 365
			}
		}
	}
	ELSE_IF = {
		limit = {
			FROM = {
			 	OR = {
					state_originally_from_ENG = yes
					state_originally_from_SCO = yes
					state_originally_from_WLS = yes
					state_originally_from_NIR = yes
				}
			}
		}
		create_equipment_variant = {
			name = "Renown Class"
			type = ship_hull_heavy_1
			name_group = ENG_BC_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_1
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_1
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_2
				fixed_ship_secondaries_slot = dp_ship_secondaries_2
				fixed_ship_armor_slot = ship_armor_bc_1
				front_1_custom_slot = ship_anti_air_1
				mid_1_custom_slot = ship_airplane_launcher_1
				mid_2_custom_slot = ship_secondaries_1
				rear_1_custom_slot = empty
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "Renown Class"
			creator = FROM
			name = "Renown Class I"
		}
		create_equipment_variant = {
			name = "Nelson Class"
			type = ship_hull_heavy_1
			name_group = ENG_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_2
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_1
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_1
				fixed_ship_secondaries_slot = ship_secondaries_2
				fixed_ship_armor_slot = ship_armor_bb_2
				front_1_custom_slot = ship_heavy_battery_2
				mid_1_custom_slot = dp_ship_secondaries_1
				mid_2_custom_slot = empty
				rear_1_custom_slot = empty
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "Nelson Class"
			creator = FROM
			name = "Nelson Class I"
		}
		FROM = { 
			set_country_flag = sold_dreadnoughts_to_us@ROOT 
			add_timed_idea = {
				idea = SMB_dreadnought_payments
				days = 365
			}
		}
		ROOT = {
			add_timed_idea = {
				idea = SMB_dreadnought_debt_eng
				days = 365
			}
		}
	}
	ELSE_IF = {
		limit = {
			 FROM = {
			 	state_originally_from_FRA = yes
			 }
		}
		create_equipment_variant = {
			name = "Courbet Class"
			type = ship_hull_heavy_1
			name_group = FRA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_1
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_1
				fixed_ship_secondaries_slot = ship_secondaries_1
				fixed_ship_armor_slot = ship_armor_bb_1
				front_1_custom_slot = ship_heavy_battery_1
				mid_1_custom_slot = ship_secondaries_1
				mid_2_custom_slot = ship_secondaries_1
				rear_1_custom_slot = empty
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "Courbet Class"
			creator = FROM
			name = "Courbet Class I"
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "Courbet Class"
			creator = FROM
			name = "Courbet Class II"
		}
		FROM = { 
			set_country_flag = sold_dreadnoughts_to_us@ROOT 
			add_timed_idea = {
				idea = SMB_dreadnought_payments
				days = 365
			}	
		}
		ROOT = {
			add_timed_idea = {
				idea = SMB_dreadnought_debt_fra
				days = 365
			}
		}
	}
	ELSE_IF = {
		limit = {
			 FROM = {
			 	state_originally_from_ITA = yes
			 }
		}
		create_equipment_variant = {
			name = "Giussano Class"
			type = ship_hull_cruiser_1
			name_group = ITA_CL_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_light_medium_battery_2
				fixed_ship_anti_air_slot = ship_anti_air_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = cruiser_ship_engine_2
				fixed_ship_armor_slot = empty
				mid_1_custom_slot = ship_torpedo_1
				mid_2_custom_slot = ship_airplane_launcher_1
				rear_1_custom_slot = ship_light_medium_battery_2
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_cruiser_1
			equipment_variant = "Giussano Class"
			creator = FROM
			name = "Giussano Class I"
		}
		create_ship = {
			type = ship_hull_cruiser_1
			equipment_variant = "Giussano Class"
			creator = FROM
			name = "Giussano Class II"
		}
		FROM = { 
			set_country_flag = sold_dreadnoughts_to_us@ROOT 
			add_timed_idea = {
				idea = SMB_dreadnought_payments
				days = 365
			}
		}
		ROOT = {
			add_timed_idea = {
				idea = SMB_dreadnought_debt_ita
				days = 365
			}
		}
	}
	ELSE_IF = {
		limit = {
			 FROM = {
			 	state_originally_from_JAP = yes
			 }
		}
		create_equipment_variant = {
			name = "Fuso/Ise Class"
			type = ship_hull_heavy_1
			name_group = JAP_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_1
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_1
				fixed_ship_secondaries_slot = ship_secondaries_1
				fixed_ship_armor_slot = ship_armor_bb_1
				front_1_custom_slot = empty
				mid_1_custom_slot = dp_ship_secondaries_1
				mid_2_custom_slot = ship_airplane_launcher_1
				rear_1_custom_slot = ship_heavy_battery_1
			}
			obsolete = yes
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "Fuso/Ise Class"
			creator = FROM
			name = "Fuso/Ise Class I"
		}
		create_ship = {
			type = ship_hull_heavy_1
			equipment_variant = "Fuso/Ise Class"
			creator = FROM
			name = "Fuso/Ise Class II"
		}
		FROM = { 
			set_country_flag = sold_dreadnoughts_to_us@ROOT
			add_timed_idea = {
				idea = SMB_dreadnought_payments
				days = 365
			}
		}
		ROOT = {
			add_timed_idea = {
				idea = SMB_dreadnought_debt_jap
				days = 365
			}
		}
	}
	ELSE_IF = {
		limit = {
			 FROM = {
			 	state_originally_from_GER = yes
			 }
		}
		create_equipment_variant = {
			name = "Deutschland Class"
			type = ship_hull_cruiser_panzerschiff
			name_group = GER_CA_HISTORICAL
			parent_version = 0
			modules = {
		       	fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_battery_slot = ship_heavy_battery_2
				fixed_ship_secondaries_slot = ship_secondaries_1
				fixed_ship_armor_slot = ship_armor_cruiser_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_engine_slot = cruiser_ship_engine_2
				rear_1_custom_slot = ship_torpedo_1
				mid_1_custom_slot = ship_airplane_launcher_1
		   	}
		   	obsolete = yes
		}	
		create_ship = {
			type = ship_hull_cruiser_panzerschiff
			equipment_variant = "Deutschland Class"
			creator = FROM
			name = "Deutschland Class I"
		}
		create_ship = {
			type = ship_hull_cruiser_panzerschiff
			equipment_variant = "Deutschland Class"
			creator = FROM
			name = "Deutschland Class II"
		}
		FROM = { 
			set_country_flag = sold_dreadnoughts_to_us@ROOT 
			add_timed_idea = {
				idea = SMB_dreadnought_payments
				days = 365
			}
		}
		ROOT = {
			add_timed_idea = {
				idea = SMB_dreadnought_debt_ger
				days = 365
			}
		}
	}
}

SMB_purchase_dreadnoughts_tt_gen = {
	custom_effect_tooltip = SMB_purchase_dreadnought_tt
	custom_effect_tooltip = SMB_purchase_dreadnought_tt_2
	effect_tooltip = {
		add_timed_idea = {
			idea = SMB_dreadnought_debt_fake_for_tooltip
			days = 365
		}
	}
}

SMB_naval_jap_advisors_effect = {
	add_to_variable = { JUNO_navy_spotting_chance = 0.05 tooltip = spotting_chance_tt }
	add_to_variable = { JUNO_naval_morale_factor = 0.05 tooltip = naval_morale_factor_tt }
}

SMB_naval_usa_advisors_effect = {
	add_to_variable = { JUNO_navy_navy_anti_air_attack_factor = 0.05 tooltip = navy_anti_air_attack_factor_tt }
	add_to_variable = { JUNO_convoy_escort_efficiency = 0.05 tooltip = convoy_escort_efficiency_tt }
}

SMB_naval_eng_advisors_effect = {
	add_to_variable = { JUNO_navy_capital_ship_defence_factor = 0.05 tooltip = navy_capital_ship_defense_factor_tt }
	add_to_variable = { JUNO_navy_industrial_capacity_dockyard = 0.05 tooltip = industrial_capacity_dockyard_tt }
}

SMB_naval_fra_advisors_effect = {
	add_to_variable = { JUNO_navy_screen_defence_factor = 0.05 tooltip = navy_screen_defence_factor_tt }
}

SMB_naval_ita_advisors_effect = {
	add_to_variable = { JUNO_navy_convoy_retreat_speed = 0.05 tooltip = convoy_retreat_speed_tt }
}

SMB_naval_ger_advisors_effect = {
	add_to_variable = { JUNO_navy_naval_coordination = 0.05 tooltip = naval_coordination_tt }
}

SMB_naval_sov_advisors_effect = {
	add_to_variable = { production_speed_dockyard_factor_tt = 0.05 tooltip = spotting_chance_tt }
}
