GUAY_military_coup = {
	GUAY_military_coup_mission = {
		icon = GFX_decision_revolt 

		allowed = {
			always = yes
		}
		visible = {
			always = yes
		}
		available = { has_completed_focus = GUAY_coup_detat }

		is_good = no

		activation = {
			has_civil_war = no
			has_completed_focus = GUAY_coup_detat
			NOT = { has_completed_focus = GUAY_appease_the_generals }
		}

		days_mission_timeout = 750

		timeout_effect = {
			start_civil_war = {
				ideology = neutrality
				size = 0.6 # (0-1) Size modifier of the revolt. Affects stockpile, army, air and navy as well
			}
		}
	}
}

GUAY_laissez_faire_cat = {
	GUAY_land_owners_finding_funding  = {
		icon = GFX_decision_gre_paying_ifc_debt

		allowed = {
			always = yes
		}
		visible = {
			always = yes
		}
		available = { hidden_trigger = { always = no } }

		is_good = yes

		activation = {
			has_completed_focus = GUAY_laissez_faire 
		}
		days_mission_timeout = global.laissez_faire_mission_timeout?270

		timeout_effect = {
			custom_effect_tooltip = GUAY_laissez_faire_stats
			custom_effect_tooltip = generic_skip_one_line_tt

			random_controlled_state = {
				limit = {
					if = {
						limit = { ROOT = { any_controlled_state = { is_core_of = ROOT } } }

						is_core_of = ROOT
					}
					impassable = no
				}
				random_list = {
					seed = random 
					1.5 = {
						modifier = {
							free_building_slots = {
								building = industrial_complex
								size < 1
							}
							factor = 0
						}
						modifier = {
							ROOT = {
								has_completed_focus = GUAY_empower_the_land_owners
							}
							factor = 2.5
						}
						modifier = {
							has_variable = ROOT.is_literally_not_a_factory
							add = var:ROOT.is_literally_not_a_factory
						}
						if = {
							limit = {
								has_variable = ROOT.is_literally_not_a_factory
							}
							clear_variable = ROOT.is_literally_not_a_factory
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						ROOT = { add_to_variable = { built_a_civ = 1 } }
					}
					1.5 = {
						modifier = {
							free_building_slots = {
								building = arms_factory
								size < 1  
							}
							factor = 0
						}
						modifier = {
							ROOT = {
								has_completed_focus = GUAY_empower_the_land_owners
							}
							factor = 2.5
						}
						modifier = {
							has_variable = ROOT.is_literally_not_a_factory
							add = var:ROOT.is_literally_not_a_factory
						}
						if = {
							limit = {
								has_variable = ROOT.is_literally_not_a_factory
							}
							clear_variable = ROOT.is_literally_not_a_factory
						}

						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}

						ROOT = { add_to_variable = { built_a_mil = 1 } }
					}
					2 = {
						modifier = {
							free_building_slots = {
								building = dockyard
								size < 1 
							}
							factor = 0
						}
						modifier = {
							ROOT = {
								any_core_state = {
									is_coastal = no
								}
							}
							factor = 0
						}
						add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
						}
						modifier = {
							ROOT = {
								has_completed_focus = GUAY_empower_the_land_owners
							}
							factor = 2.5
						}
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.1 }
						ROOT = { add_to_variable = { built_a_dockyard = 1 } }
					}
					3 = {
						modifier = {
							infrastructure > 4
							factor = 0
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.15 }
						ROOT = { add_to_variable = { built_a_infra = 1 } }
					}
					3 = {
						modifier = {
							air_base > 9
							factor = 0
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.25 }
						ROOT = { add_to_variable = { built_an_airbase = 1 } }
					}
					3 = {
						modifier = {
							anti_air_building > 4
							factor = 0
						}

						modifier = {
							ROOT = { NOT = {  has_tech = interwar_antiair } }
							factor = 0
						}
						add_building_construction = {
							type = anti_air_building
							level = 1
							instant_build = yes
						}
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.2 }
						ROOT = { add_to_variable = { built_an_aa = 1 } }
					}
					2 = {
						modifier = {
							radar_station > 4
							factor = 0
						}

						modifier = { #level 1
							ROOT = { NOT = {  has_tech = radio_detection } }
							factor = 0
						}

						modifier = { #level 2
							radar_station > 0
							ROOT = { NOT = {  has_tech = cavity_magnatron } }
							factor = 0
						}

						#modifier = { #level 3
						#	radar_station > 2
						#	ROOT = { NOT = {  has_tech = improved_cavity_magnatron } }
						#	factor = 0
						#}

						modifier = { #level 4
							radar_station > 3
							ROOT = { NOT = {  has_tech = centimetric_radar } }
							factor = 0
						}

						modifier = { #level 5
							radar_station > 4
							ROOT = { NOT = {  has_tech = phased_array } }
							factor = 0
						}

						modifier = { #level 6
							radar_station > 4
							ROOT = { NOT = {  has_tech = monopulse_radar } }
							factor = 0
						}

						add_building_construction = {
							type = radar_station
							level = 1
							instant_build = yes
						}
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.25 }
						ROOT = { add_to_variable = { built_a_radar = 1 } }
					}
					0.1 ={
						add_building_construction = {
							type = supply_node
							province = {
								all_provinces = yes
							}
							level = 1
							instant_build = yes
						}
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.2 }
						ROOT = { add_to_variable = { built_a_hub = 1 } }
					}
					2 = {
						modifier = {
							free_building_slots = {
								building = industrial_complex
								size < 1 
							}
							factor = 2
						}
						modifier = {
							ROOT = {
								has_completed_focus = GUAY_empower_the_land_owners
							}
							factor = 2.5
						}
						add_extra_state_shared_building_slots = 1
						add_to_variable = { ROOT.is_literally_not_a_factory = 0.1 }
						ROOT = { add_to_variable = { added_slot = 1 } }
					}
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
			activate_mission = GUAY_land_owners_finding_funding
		}
	}
}
