add_namespace = esicolor

# Initial Setup Event
country_event = {
	id = esicolor.1
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event esicolor.1"

		hidden_effect = {
			get_total_manpower = yes
		}
	}
	title = esicolor.1.t
	desc = esicolor.1.d

	is_triggered_only = yes

	option = {
		name = esicolor.1.a
		hidden_effect = {
			every_country = {
				setup_default_advisors = yes
				setup_default_companies = yes
			}

			set_global_flag = claiming_give_war_goals
			set_variable = { global.claiming_cost = 40 }
			set_variable = { global.claiming_cost_minus_one = 39 }
			set_variable = { global.claiming_cost_negative = -40 }
			set_variable = { global.claiming_length = 60 }
		}
	}
	option = {
		name = esicolor.1.e
		hidden_effect = {
			every_country = {
				set_ideologies_to_neutrality = yes
				setup_technology_option_1 = yes

				enable_all_advisors = yes
				set_global_flag = military_advisor_levels_2
				randomise_military_advisor_levels = yes
				clr_global_flag = military_advisor_levels_2
				clear_company_disabled_flags = yes

				clear_leader_traits = yes
			}

			every_state = {
				clear_manpower = yes
				add_manpower = global.per_state_pop

				set_building_level = {
					type = infrastructure
					level = 2
					instant_build = yes
				}

				clear_factories = yes
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}

				clear_dockyards = yes
				clear_synthetic_refineries = yes
				clear_fuel_silos = yes
				clear_bunkers = yes
				clear_anti_air = yes
				clear_radar_stations = yes

				set_state_category = town
			}

			set_global_flag = leader_traits_disabled
			set_global_flag = prospect_for_resources_disabled

			set_global_flag = formables_visual
			set_variable = { global.formables_cost_25 = 0 }
			set_variable = { global.formables_cost_50 = 0 }
			set_variable = { global.formables_cost_100 = 0 }

			set_global_flag = claiming_give_war_goals
			set_variable = { global.claiming_cost = 40 }
			set_variable = { global.claiming_cost_minus_one = 39 }
			set_variable = { global.claiming_cost_negative = -40 }
			set_variable = { global.claiming_length = 60 }
		}
	}
	option = {
		name = esicolor.1.c
		hidden_effect = {
			every_country = {
				randomise_ideology_and_popularity = yes
				randomise_techonology = yes
				randomise_stability_and_war_support = yes
				randomise_advisors = yes
				randomise_military_advisor_levels = yes
				randomise_designers = yes
				randomise_research_slots = yes

				random_list = {
					seed = random
					9 = {
						create_intelligence_agency = yes
					}
					960 = { }
				}
			}

			every_state = {
				randomise_state_pop_from_existing_values = yes
				randomise_infrastructure = yes

				clear_factories = yes
				randomise_factories = yes

				if = {
					limit = { is_coastal = yes }

					clear_dockyards = yes
					randomise_dockyards = yes
				}

				clear_synthetic_refineries = yes

				clear_fuel_silos = yes
				randomise_fuel_silos = yes

				randomise_airbases = yes
				randomise_anti_air = yes
				randomise_radar_stations = yes
				randomise_state_category = yes
				randomise_resources = yes
			}

			randomise_synthetic_refineries = yes

			set_global_flag = claiming_give_war_goals
			set_variable = { global.claiming_cost = 40 }
			set_variable = { global.claiming_cost_minus_one = 39 }
			set_variable = { global.claiming_cost_negative = -40 }
			set_variable = { global.claiming_length = 60 }
		}
	}
	option = {
		name = esicolor.1.b
		country_event = esicolor.2
	}
}

# Party Popularities (Page 1)
country_event = {
	id = esicolor.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.2"}
	title = esicolor.2.t
	desc = esicolor.2.d

	is_triggered_only = yes

	option = {
		name = esicolor.2.a
		country_event = esicolor.3
	}
	option = {
		name = esicolor.2.b
		country_event = esicolor.3
		every_country = {
			set_ideologies_to_neutrality = yes

			custom_effect_tooltip = esicolor.2.b_tt
		}

		set_global_flag = all_neutrality_starting
	}
	option = {
		name = esicolor.2.c
		country_event = esicolor.3
		every_country = {
			custom_effect_tooltip = esicolor.26.b_tt1
			custom_effect_tooltip = esicolor.26.b_tt2
			hidden_effect = {
				if = {
					limit = { has_government = democratic }
					set_popularities = {
						democratic = 64
						fascism = 12
						communism = 12
						neutrality = 12
					}
				}
				if = {
					limit = { has_government = fascism }
					set_popularities = {
						democratic = 12
						fascism = 64
						communism = 12
						neutrality = 12
					}
				}
				if = {
					limit = { has_government = communism }
					set_popularities = {
						democratic = 12
						fascism = 12
						communism = 64
						neutrality = 12
					}
				}
				if = {
					limit = { has_government = neutrality }
					set_popularities = {
						democratic = 12
						fascism = 12
						communism = 12
						neutrality = 64
					}
				}
			}
		}
	}
	option = {
		name = esicolor.2.e
		country_event = esicolor.26
	}
}

# State Population (Page 1)
country_event = {
	id = esicolor.3
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event esicolor.3"

		hidden_effect = {
			get_total_manpower = yes
		}
	}
	title = esicolor.3.t
	desc = esicolor.3.d

	is_triggered_only = yes

	option = {
		name = esicolor.3.a
		country_event = esicolor.4
	}
	option = {
		name = esicolor.3.b
		country_event = esicolor.4
		every_state = {
			custom_effect_tooltip = esicolor.3.b_tt

			hidden_effect = {
				clear_manpower = yes
				add_manpower = global.per_state_pop
			}
		}
	}
	option = {
		name = esicolor.3.c
		country_event = esicolor.4
		every_state = {
			custom_effect_tooltip = esicolor.3.c_tt

			randomise_state_pop_from_existing_values = yes
		}
	}
	option = {
		name = esicolor.2.e
		country_event = esicolor.27
	}
}

# Civilian Factories
country_event = {
	id = esicolor.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.4"}
	title = esicolor.4.t
	desc = esicolor.4.d

	is_triggered_only = yes

	option = {
		name = esicolor.4.a
		country_event = esicolor.5
	}
	option = {
		name = esicolor.4.b
		country_event = esicolor.5
		every_state = {
			set_building_level = {
				type = infrastructure
				level = 0
				instant_build = yes
			}
		}
	}
	option = {
		name = esicolor.4.c
		country_event = esicolor.5
		every_state = {
			set_building_level = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}
	option = {
		name = esicolor.4.e
		country_event = esicolor.5
		every_state = {
			custom_effect_tooltip = esicolor.4.e_tt

			randomise_infrastructure = yes
		}
	}
}

# Military Factories
country_event = {
	id = esicolor.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.5"}
	title = esicolor.5.t
	desc = esicolor.5.d

	is_triggered_only = yes

	option = {
		name = esicolor.5.a
		country_event = esicolor.11
	}
	option = {
		name = esicolor.5.b
		country_event = esicolor.11
		every_state = {
			clear_factories = yes
		}
	}
	option = {
		name = esicolor.5.c
		country_event = esicolor.11
		every_state = {
			clear_factories = yes
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	option = {
		name = esicolor.5.e
		country_event = esicolor.11
		every_state = {
			clear_factories = yes
			custom_effect_tooltip = esicolor.5.e_tt1
			custom_effect_tooltip = esicolor.5.e_tt2

			randomise_factories = yes
		}
	}
}

# Air Bases
country_event = {
	id = esicolor.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.6"}
	title = esicolor.6.t
	desc = esicolor.6.d

	is_triggered_only = yes

	option = {
		name = esicolor.6.a
		country_event = esicolor.18
		hidden_effect = {
			place_starting_airfields = yes
		}
	}
	option = {
		name = esicolor.6.b
		country_event = esicolor.18
		every_state = {
			set_building_level = {
				type = air_base
				level = 0
				instant_build = yes
			}
		}
	}
	option = {
		name = esicolor.6.c
		country_event = esicolor.18
		every_state = {
			randomise_airbases = yes
		}
	}
}

# State Categories
country_event = {
	id = esicolor.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.7"}
	title = esicolor.7.t
	desc = esicolor.7.d

	is_triggered_only = yes

	option = {
		name = esicolor.7.a
		country_event = esicolor.8
	}
	option = {
		name = esicolor.7.b
		country_event = esicolor.8
		every_state = {
			set_state_category = town
		}
	}
	option = {
		name = esicolor.7.c
		country_event = esicolor.8
		every_state = {
			randomise_state_category = yes
		}
	}
}

# Resources
country_event = {
	id = esicolor.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.8"}
	title = esicolor.8.t
	desc = esicolor.8.d

	is_triggered_only = yes

	option = {
		name = esicolor.8.a
		country_event = esicolor.38
		setup_default_resources = yes
	}
	option = {
		name = esicolor.8.b
		country_event = esicolor.38
		every_state = {
			#clear_resources = yes
			custom_effect_tooltip = esicolor.8.b_tt1
			custom_effect_tooltip = esicolor.8.b_tt2
			custom_effect_tooltip = esicolor.8.b_tt3
			custom_effect_tooltip = esicolor.8.b_tt4
			custom_effect_tooltip = esicolor.8.b_tt5
			custom_effect_tooltip = esicolor.8.b_tt6
			setup_equal_resources = yes
		}
	}
	option = {
		name = esicolor.8.c
		country_event = esicolor.38
		every_state = {
			#clear_resources = yes
			random_list = {
				seed = random
				15 = {
					custom_effect_tooltip = esicolor.8.b_tt1
					hidden_effect = {
						add_resource = {
							type = oil
							amount = 10
						}
					}
				}
				15 = {
					custom_effect_tooltip = esicolor.8.b_tt2
					hidden_effect = {
						add_resource = {
							type = rubber
							amount = 3
						}
					}
				}
				15 = {
					custom_effect_tooltip = esicolor.8.b_tt3
					hidden_effect = {
						add_resource = {
							type = steel
							amount = 15
						}
					}
				}
				15 = {
					custom_effect_tooltip = esicolor.8.b_tt4
					hidden_effect = {
						add_resource = {
							type = aluminium
							amount = 5
						}
					}
				}
				15 = {
					custom_effect_tooltip = esicolor.8.b_tt5
					hidden_effect = {
						add_resource = {
							type = tungsten
							amount = 5
						}
					}
				}
				15 = {
					custom_effect_tooltip = esicolor.8.b_tt6
					hidden_effect = {
						add_resource = {
							type = chromium
							amount = 2
						}
					}
				}
			}
		}
	}
	option = {
		name = esicolor.8.e
		country_event = esicolor.38
		every_state = {
			#clear_resources = yes
			randomise_resources = yes
		}
	}
}

# Radar Stations
country_event = {
	id = esicolor.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.17"}
	title = esicolor.9.t
	desc = esicolor.9.d

	is_triggered_only = yes

	option = {
		name = esicolor.9.a
		country_event = esicolor.21
	}
	option = {
		name = esicolor.9.b
		country_event = esicolor.21
		every_state = {
			clear_radar_stations = yes
		}
	}
	option = {
		name = esicolor.9.c
		country_event = esicolor.21
		every_state = {
			randomise_radar_stations = yes
		}
	}
}

# Starting Technologies
country_event = {
	id = esicolor.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.10"}
	title = esicolor.10.t
	desc = esicolor.10.d

	is_triggered_only = yes

	option = {
		name = esicolor.10.a
		country_event = esicolor.13
	}
	option = {
		name = esicolor.10.b
		country_event = esicolor.13
		every_country = {
			setup_technology_option_1 = yes
		}
	}
	option = {
		name = esicolor.10.c
		country_event = esicolor.13
		custom_effect_tooltip = esicolor.10.c_tt1
		if = {
			limit = {
				has_dlc = "No Step Back"
			}
			custom_effect_tooltip = esicolor.10.c_tt7
		}
		else = {
			custom_effect_tooltip = esicolor.10.c_tt6
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			custom_effect_tooltip = esicolor.10.c_tt3
		}
		else = {
			custom_effect_tooltip = esicolor.10.c_tt2
		}
		if = {
			limit = {
				has_dlc = "By Blood Alone"
			}
			custom_effect_tooltip = esicolor.10.c_tt5
		}
		else = {
			custom_effect_tooltip = esicolor.10.c_tt4
		}
		hidden_effect = {
			every_country = {
				randomise_techonology = yes
			}
		}
	}
}

# Dockyards
country_event = {
	id = esicolor.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.11"}
	title = esicolor.11.t
	desc = esicolor.11.d

	is_triggered_only = yes

	option = {
		name = esicolor.11.a
		country_event = esicolor.16
	}
	option = {
		name = esicolor.11.b
		country_event = esicolor.16
		every_state = {
			limit = { is_coastal = yes }

			clear_dockyards = yes
		}
	}
	option = {
		name = esicolor.11.c
		country_event = esicolor.16
		every_state = {
			limit = { is_coastal = yes }

			clear_dockyards = yes
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
	option = {
		name = esicolor.11.e
		country_event = esicolor.16
		every_state = {
			limit = { is_coastal = yes }

			clear_dockyards = yes
			custom_effect_tooltip = esicolor.11.e_tt

			randomise_dockyards = yes
		}
	}
}

# Stability and War Support
country_event = {
	id = esicolor.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.13"}
	title = esicolor.13.t
	desc = esicolor.13.d

	is_triggered_only = yes

	option = {
		name = esicolor.13.a
		country_event = esicolor.37
	}
	option = {
		name = esicolor.13.b
		country_event = esicolor.37
		every_country = {
			custom_effect_tooltip = esicolor.13.b_tt1
			custom_effect_tooltip = esicolor.13.b_tt2

			randomise_stability_and_war_support = yes
		}
	}
}

# Advisors
country_event = {
	id = esicolor.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.14"}
	title = esicolor.14.t
	desc = esicolor.14.d

	is_triggered_only = yes

	option = {
		name = esicolor.14.a
		country_event = esicolor.35
		custom_effect_tooltip = esicolor.14.a_tt
		hidden_effect = {
			every_country = {
				clear_advisor_disabled_flags = yes
				setup_default_advisors = yes
			}
		}
	}
	option = {
		name = esicolor.14.b
		country_event = esicolor.35
		custom_effect_tooltip = esicolor.14.b_tt
		hidden_effect = {
			every_country = {
				clear_advisor_disabled_flags = yes

				set_country_flag = popular_figurehead_disabled
				set_country_flag = propaganda_expert_disabled
				set_country_flag = silent_workhorse_disabled
				set_country_flag = prince_of_terror_disabled
				set_country_flag = backroom_backstabber_disabled
				set_country_flag = editor_disabled
				set_country_flag = ideological_crusader_disabled
				set_country_flag = compassionate_gentleman_disabled
				set_country_flag = smooth_talking_charmer_disabled
				set_country_flag = financial_expert_disabled
				set_country_flag = economist_disabled
				set_country_flag = quartermaster_general_disabled
				set_country_flag = armaments_organizer_disabled

				set_country_flag = code_breaker_disabled
				set_country_flag = encryption_expert_disabled

				set_country_flag = nuclear_scientist_disabled
				set_country_flag = rocket_scientist_disabled

				set_country_flag = army_chief_maneuver_disabled
				set_country_flag = army_chief_drill_disabled
				set_country_flag = army_chief_planning_disabled
				set_country_flag = army_chief_morale_disabled
				set_country_flag = army_chief_organizational_disabled
				set_country_flag = army_chief_entrenchment_disabled
				set_country_flag = army_chief_reform_disabled
				set_country_flag = army_chief_old_guard_disabled

				set_country_flag = navy_chief_maneuver_disabled
				set_country_flag = navy_chief_naval_aviation_disabled
				set_country_flag = navy_chief_reform_disabled
				set_country_flag = navy_chief_old_guard_disabled

				set_country_flag = air_chief_night_operations_disabled
				set_country_flag = air_chief_safety_disabled
				set_country_flag = air_chief_reform_disabled
				set_country_flag = air_chief_old_guard_disabled

				set_country_flag = army_infantry_disabled
				set_country_flag = army_cavalry_disabled
				set_country_flag = army_armored_disabled
				set_country_flag = army_commando_disabled
				set_country_flag = army_entrenchment_disabled
				set_country_flag = army_regrouping_disabled
				set_country_flag = army_concealment_disabled
				set_country_flag = army_radio_intelligence_disabled
				set_country_flag = army_jungle_warfare_disabled

				set_country_flag = navy_amphibious_assault_disabled
				set_country_flag = navy_naval_air_defense_disabled
				set_country_flag = navy_anti_submarine_disabled
				set_country_flag = navy_submarine_disabled
				set_country_flag = navy_capital_ship_disabled
				set_country_flag = navy_screen_disabled
				set_country_flag = navy_carrier_disabled

				set_country_flag = air_air_superiority_disabled
				set_country_flag = air_bomber_interception_disabled
				set_country_flag = air_close_air_support_disabled
				set_country_flag = air_naval_strike_disabled
				set_country_flag = air_strategic_bombing_disabled
				set_country_flag = air_airborne_disabled
			}
		}
	}
	option = {
		name = esicolor.14.c
		country_event = esicolor.35
		custom_effect_tooltip = esicolor.14.c_tt1
		if = {
			limit = { has_dlc = "La Resistance" }
			custom_effect_tooltip = esicolor.14.c_tt2
		}
		custom_effect_tooltip = esicolor.14.c_tt3
		hidden_effect = {
			every_country = {
				enable_all_advisors = yes
			}
		}
	}
	option = {
		name = esicolor.14.e
		country_event = esicolor.35
		custom_effect_tooltip = esicolor.14.e_tt1
		if = {
			limit = { has_dlc = "La Resistance" }
			custom_effect_tooltip = esicolor.14.e_tt2
		}
		custom_effect_tooltip = esicolor.14.e_tt3
		hidden_effect = {
			every_country = {
				randomise_advisors = yes
			}
		}
	}
}

# Intelligence Agencies
country_event = {
	id = esicolor.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.15"}
	title = esicolor.15.t
	desc = esicolor.15.d

	is_triggered_only = yes

	option = {
		name = esicolor.15.a
		if = {
			limit = { is_seperate_island_country = yes }

			country_event = esicolor.20
		}
		else = {
			country_event = esicolor.19
		}
	}
	option = {
		name = esicolor.15.b
		if = {
			limit = { is_seperate_island_country = yes }

			country_event = esicolor.20
		}
		else = {
			country_event = esicolor.19
		}
		every_country = {
			limit = { is_led_by_an_agent = yes }

			create_intelligence_agency = yes
		}
	}
	option = {
		name = esicolor.15.c
		if = {
			limit = { is_seperate_island_country = yes }

			country_event = esicolor.20
		}
		else = {
			country_event = esicolor.19
		}
		every_country = {
			random_list = {
				seed = random
				9 = {
					create_intelligence_agency = yes
				}
				960 = { }
			}
		}
	}
}

# Synthetic Refineries
country_event = {
	id = esicolor.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.16"}
	title = esicolor.16.t
	desc = esicolor.16.d

	is_triggered_only = yes

	option = {
		name = esicolor.16.a
		country_event = esicolor.17
	}
	option = {
		name = esicolor.16.b
		country_event = esicolor.17
		every_state = {
			clear_synthetic_refineries = yes
		}
	}
	option = {
		name = esicolor.16.c
		country_event = esicolor.17
		every_state = {
			clear_synthetic_refineries = yes
		}

		if = {
			limit = { date > 1939.1.1 }

			custom_effect_tooltip = esicolor.16.c_tt
		}
		else = {
			custom_effect_tooltip = esicolor.16.c_tt2
		}
		randomise_synthetic_refineries = yes
	}
}

# Fuel Silos
country_event = {
	id = esicolor.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.17"}
	title = esicolor.17.t
	desc = esicolor.17.d

	is_triggered_only = yes

	option = {
		name = esicolor.17.a
		country_event = esicolor.6
	}
	option = {
		name = esicolor.17.b
		country_event = esicolor.6
		every_state = {
			clear_fuel_silos = yes
		}
	}
	option = {
		name = esicolor.17.c
		country_event = esicolor.6
		every_state = {
			clear_fuel_silos = yes
			randomise_fuel_silos = yes
		}
	}
}

# Anti-Air
country_event = {
	id = esicolor.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.18"}
	title = esicolor.18.t
	desc = esicolor.18.d

	is_triggered_only = yes

	option = {
		name = esicolor.18.a
		country_event = esicolor.9
	}
	option = {
		name = esicolor.18.b
		country_event = esicolor.9
		clear_anti_air = yes
	}
	option = {
		name = esicolor.18.c
		country_event = esicolor.9
		every_state = {
			randomise_anti_air = yes
		}
	}
}

# Island Removal
country_event = {
	id = esicolor.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.19"}
	title = esicolor.19.t
	desc = esicolor.19.d

	is_triggered_only = yes

	option = {
		name = esicolor.19.a
		country_event = esicolor.20
	}
	option = {
		name = esicolor.19.b
		trigger = { is_seperate_island_country = no }
		country_event = esicolor.20
		every_state = {
			limit = { is_seperate_island_state = yes }
			OOO = {
				transfer_state = PREV
			}
		}
		set_global_flag = islands_removed_seperate
	}
	option = {
		name = esicolor.19.c
		trigger = { is_unconnected_island_country = no }
		country_event = esicolor.20
		every_state = {
			limit = { is_unconnected_island_state = yes }
			OOO = {
				transfer_state = PREV
			}
		}
		set_global_flag = islands_removed_unconnected
	}
	option = {
		name = esicolor.19.e
		trigger = { is_island_country = no }
		country_event = esicolor.20
		every_state = {
			limit = { is_island_state_esicolor = yes }
			OOO = {
				transfer_state = PREV
			}
		}
		set_global_flag = islands_removed_all
	}
}

# Continent Removal (Page 1 - Europe, Asia, ME, Africa)
country_event = {
	id = esicolor.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.20"}
	title = esicolor.20.t
	desc = esicolor.20.d

	is_triggered_only = yes

	option = {
		name = esicolor.20.a
		country_event = esicolor.31
	}
	option = {
		name = esicolor.20.b
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = europe }
				has_global_flag = europe_removed
			}
		}
		set_global_flag = europe_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.36
			}
		}
		every_state = {
			limit = { is_on_continent = europe }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.c
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = asia }
				has_global_flag = asia_removed
			}
		}
		set_global_flag = asia_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.36
			}
		}
		every_state = {
			limit = { is_on_continent = asia }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.e
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = middle_east }
				has_global_flag = middle_east_removed
			}
		}
		set_global_flag = middle_east_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.36
			}
		}
		every_state = {
			limit = { is_on_continent = middle_east }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.f
		trigger = {
			capital_scope = {
				NOT = {
					is_on_continent = north_america
					is_on_continent = south_america
					is_on_continent = australia
					is_on_continent = africa
				}
			}
			NOT = { has_global_flag = africa_removed }
		}
		set_global_flag = africa_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.36
			}
		}
		every_state = {
			limit = { is_on_continent = africa }
			OOO = {
				transfer_state = PREV
			}
		}
	}
}

# Bunkers
country_event = {
	id = esicolor.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.21"}
	title = esicolor.21.t
	desc = esicolor.21.d

	is_triggered_only = yes

	option = {
		name = esicolor.21.a
		country_event = esicolor.7
	}
	option = {
		name = esicolor.21.b
		country_event = esicolor.7
		clear_bunkers = yes
	}
}

# Formables
country_event = {
	id = esicolor.22
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.21"}
	title = esicolor.22.t
	desc = esicolor.22.d

	is_triggered_only = yes

	option = {
		name = esicolor.22.a
	}
	option = {
		name = esicolor.22.b
		set_global_flag = formables_disabled
	}
	option = {
		name = esicolor.22.c
		set_global_flag = formables_visual
		set_variable = { global.formables_cost_25 = 0 }
		set_variable = { global.formables_cost_50 = 0 }
		set_variable = { global.formables_cost_100 = 0 }
	}
	option = {
		name = esicolor.22.e
		set_global_flag = formables_give_core
		set_variable = { global.formables_cost_25 = 50 }
		set_variable = { global.formables_cost_50 = 100 }
		set_variable = { global.formables_cost_100 = 200 }
	}
}

# Designers/MIOs (Generic)
country_event = {
	id = esicolor.23
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.23"}
	title = esicolor.23.t
	desc = esicolor.23.d

	is_triggered_only = yes

	option = {
		name = esicolor.23.a
		country_event = esicolor.25
		if = {
			limit = { has_dlc = "Arms Against Tyranny" }

			custom_effect_tooltip = esicolor.23.a_tt2

			else = {
				custom_effect_tooltip = esicolor.23.a_tt1
			}
		}
		hidden_effect = {
			every_country = {
				clear_company_disabled_flags = yes
				setup_default_companies = yes
			}
		}
	}
	option = {
		name = esicolor.23.b
		country_event = esicolor.25
		if = {
			limit = { has_dlc = "Arms Against Tyranny" }

			custom_effect_tooltip = esicolor.23.b_tt2

			else = {
				custom_effect_tooltip = esicolor.23.b_tt1
			}
		}
		hidden_effect = {
			every_country = {
				clear_company_disabled_flags = yes

				set_country_flag = armored_car_manufacturer_disabled
				set_country_flag = infantry_tank_manufacturer_disabled
				set_country_flag = fast_tank_manufacturer_disabled
				set_country_flag = heavy_tank_manufacturer_disabled
				set_country_flag = tank_refurbishment_plant_disabled

				set_country_flag = pacific_fleet_naval_manufacturer_disabled
				set_country_flag = atlantic_fleet_naval_manufacturer_disabled
				set_country_flag = mediterranean_fleet_naval_manufacturer_disabled
				set_country_flag = black_sea_fleet_naval_manufacturer_disabled
				set_country_flag = battlefleet_designer_disabled
				set_country_flag = repair_and_refurbishment_plant_disabled
				set_country_flag = coastal_defence_naval_manufacturer_disabled
				set_country_flag = submarine_manufacturer_disabled
				set_country_flag = raiding_fleet_naval_manufacturer_disabled

				set_country_flag = CAS_manufacturer_disabled
				set_country_flag = fuel_efficient_aircraft_manufacturer_disabled
				set_country_flag = agility_focused_aircraft_manufacturer_disabled

				set_country_flag = refinery_concern_disabled
				set_country_flag = telephoone_company_disabled
				set_country_flag = forestry_company_disabled
				set_country_flag = construction_company_disabled
				set_country_flag = mining_company_disabled
				set_country_flag = railway_company_disabled

				set_country_flag = support_equipment_manufacturer_disabled
			}
		}
	}
	option = {
		name = esicolor.23.c
		country_event = esicolor.25
		if = {
			limit = { has_dlc = "Arms Against Tyranny" }

			custom_effect_tooltip = esicolor.23.c_tt3
			custom_effect_tooltip = esicolor.23.c_tt5
			if = {
				limit = { has_dlc = "La Resistance" }

				custom_effect_tooltip = esicolor.23.c_tt8

				else = {
					custom_effect_tooltip = esicolor.23.c_tt7
				}
			}

			else = {
				if = {
					limit = { has_dlc = "La Resistance" }

					custom_effect_tooltip = esicolor.23.c_tt2

					else = {
						custom_effect_tooltip = esicolor.23.c_tt1
					}
				}

				custom_effect_tooltip = esicolor.23.c_tt4
				custom_effect_tooltip = esicolor.23.c_tt6
			}
		}
		custom_effect_tooltip = esicolor.23.c_tt9
		hidden_effect = {
			every_country = {
				clear_company_disabled_flags = yes
			}
		}
	}
	option = {
		name = esicolor.23.e
		country_event = esicolor.25
		if = {
			limit = { has_dlc = "Arms Against Tyranny" }

			custom_effect_tooltip = esicolor.23.e_tt3
			custom_effect_tooltip = esicolor.23.e_tt5
			if = {
				limit = { has_dlc = "La Resistance" }

				custom_effect_tooltip = esicolor.23.e_tt8

				else = {
					custom_effect_tooltip = esicolor.23.e_tt7
				}
			}

			else = {
				if = {
					limit = { has_dlc = "La Resistance" }

					custom_effect_tooltip = esicolor.23.e_tt2

					else = {
						custom_effect_tooltip = esicolor.23.e_tt1
					}
				}

				custom_effect_tooltip = esicolor.23.e_tt4
				custom_effect_tooltip = esicolor.23.e_tt6
			}
		}
		custom_effect_tooltip = esicolor.23.e_tt9
		hidden_effect = {
			every_country = {
				randomise_designers = yes
			}
		}
	}
}

# Claim Decision Effect
country_event = {
	id = esicolor.24
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.24"}
	title = esicolor.24.t
	desc = esicolor.24.d

	is_triggered_only = yes

	option = {
		name = esicolor.24.a
		#country_event = esicolor.22
		set_global_flag = claiming_give_war_goals
		set_variable = { global.claiming_cost = 40 }
		set_variable = { global.claiming_cost_minus_one = 39 }
		set_variable = { global.claiming_cost_negative = -40 }
		set_variable = { global.claiming_length = 60 }
	}
	option = {
		name = esicolor.24.b
		#country_event = esicolor.22
		set_variable = { global.claiming_cost = 20 }
		set_variable = { global.claiming_cost_minus_one = 19 }
		set_variable = { global.claiming_cost_negative = -20 }
		set_variable = { global.claiming_length = 30 }
	}
	option = {
		name = esicolor.24.c
		#country_event = esicolor.22
		set_global_flag = claiming_declare_war
		set_variable = { global.claiming_cost = 40 }
		set_variable = { global.claiming_cost_minus_one = 39 }
		set_variable = { global.claiming_cost_negative = -40 }
		set_variable = { global.claiming_length = 60 }
	}
}

# Leader Traits
country_event = {
	id = esicolor.25
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.25"}
	title = esicolor.25.t
	desc = esicolor.25.d

	is_triggered_only = yes

	option = {
		name = esicolor.25.a
		#if = {
		#	limit = { has_dlc = "La Resistance" }
		#
		#	country_event = esicolor.19 # esicolor.15
		#}
		#else = {
			if = {
				limit = { is_seperate_island_country = yes }

				country_event = esicolor.20
			}
			else = {
				country_event = esicolor.19
			}
		#}
	}
	option = {
		name = esicolor.25.b
		#if = {
		#	limit = { has_dlc = "La Resistance" }
		#
		#	country_event = esicolor.19 # esicolor.15
		#}
		#else = {
			if = {
				limit = { is_seperate_island_country = yes }

				country_event = esicolor.20
			}
			else = {
				country_event = esicolor.19
			}
		#}
		hidden_effect = {
			every_country = {
				clear_leader_traits = yes
			}

			set_global_flag = leader_traits_disabled
		}
	}
}

# Party Popularities (Page 2)
country_event = {
	id = esicolor.26
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.26"}
	title = esicolor.26.t
	desc = esicolor.2.d

	is_triggered_only = yes

	option = {
		name = esicolor.26.a
		country_event = esicolor.3
		every_country = {
			hidden_effect = {
				if = {
					limit = { has_government = democratic }
					randomise_popularity_democratic = yes
				}
				else_if = {
					limit = { has_government = fascism }
					randomise_popularity_fascism = yes
				}
				else_if = {
					limit = { has_government = communism }
					randomise_popularity_communism = yes
				}
				else_if = {
					limit = { has_government = neutrality }
					randomise_popularity_neutrality = yes
				}
			}

			custom_effect_tooltip = esicolor.26.c_tt1
			custom_effect_tooltip = esicolor.26.c_tt2
		}
	}
	option = {
		name = esicolor.26.b
		country_event = esicolor.3
		every_country = {
			random_list = {
				seed = random
				25 = {
					set_politics = {
						ruling_party = democratic
					}

					hidden_effect = {
						set_popularities = {
							democratic = 64
							fascism = 12
							communism = 12
							neutrality = 12
						}
					}
				}
				25 = {
					set_politics = {
						ruling_party = fascism
					}

					hidden_effect = {
						set_popularities = {
							democratic = 12
							fascism = 64
							communism = 12
							neutrality = 12
						}
					}
				}
				25 = {
					set_politics = {
						ruling_party = communism
					}

					hidden_effect = {
						set_popularities = {
							democratic = 12
							fascism = 12
							communism = 64
							neutrality = 12
						}
					}
				}
				25 = {
					set_politics = {
						ruling_party = neutrality
					}

					hidden_effect = {
						set_popularities = {
							democratic = 12
							fascism = 12
							communism = 12
							neutrality = 64
						}
					}
				}
			}

			custom_effect_tooltip = esicolor.26.b_tt1
			custom_effect_tooltip = esicolor.26.b_tt2
		}
	}
	option = {
		name = esicolor.26.c
		country_event = esicolor.3
		every_country = {
			randomise_ideology_and_popularity = yes

			custom_effect_tooltip = esicolor.26.c_tt1
			custom_effect_tooltip = esicolor.26.c_tt2
		}
	}
	option = {
		name = esicolor.26.e
		country_event = esicolor.2
	}
}

# State Population (Page 2)
country_event = {
	id = esicolor.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event esicolor.27" }
	title = esicolor.27.t
	desc = esicolor.3.d

	is_triggered_only = yes

	option = {
		name = esicolor.27.a
		country_event = esicolor.4
		every_state = {
			custom_effect_tooltip = esicolor.27.a_tt
			hidden_effect = {
				clear_manpower = yes
				add_manpower = 1000000
			}
		}
	}
	option = {
		name = esicolor.27.b
		country_event = esicolor.4
		every_state = {
			custom_effect_tooltip = esicolor.27.b_tt
			hidden_effect = {
				clear_manpower = yes
				add_manpower = 2000000
			}
		}
	}
	option = {
		name = esicolor.27.c
		country_event = esicolor.4
		every_state = {
			custom_effect_tooltip = esicolor.27.c_tt
			hidden_effect = {
				set_temp_variable = { manpowertoadd = 500000 }
				randomize_temp_variable = {
					var = manpowertoadd
					distribution = uniform
					min = 250000
					max = 1250000
				}

				clear_manpower = yes
				add_manpower = manpowertoadd
				add_manpower = manpowertoadd
			}
		}
	}
	option = {
		name = esicolor.26.e
		country_event = esicolor.3
	}
}

# State Management Decisions
country_event = {
	id = esicolor.29
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.29"}
	title = esicolor.29.t
	desc = esicolor.29.d

	is_triggered_only = yes

	option = {
		name = esicolor.29.a
		country_event = esicolor.24
	}
	option = {
		name = esicolor.29.b
		#country_event = esicolor.22
		set_global_flag = state_management_disabled
	}
}

# Strategic Regions Setup
country_event = {
	id = esicolor.30
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.30"}
	title = esicolor.30.t
	desc = esicolor.30.d

	is_triggered_only = yes

	option = {
		name = esicolor.30.a
		country_event = esicolor.29
	}
	option = {
		name = esicolor.30.b
		country_event = esicolor.29
		hidden_effect = {
			setup_strat_regions_game = yes
			set_global_flag = region_setup_players_checked
			setup_strat_regions_game = yes
			clr_global_flag = region_setup_players_checked
		}
		custom_effect_tooltip = esicolor.30.b_tt
	}
}

# Continent Removal (Page 2 - NA, SA, Australia, Africa)
country_event = {
	id = esicolor.31
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.31"}
	title = esicolor.31.t
	desc = esicolor.31.d

	is_triggered_only = yes

	option = {
		name = esicolor.20.a
		country_event = esicolor.30
	}
	option = {
		name = esicolor.31.b
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = north_america }
				has_global_flag = north_america_removed
			}
		}
		set_global_flag = north_america_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.32
			}
		}
		every_state = {
			limit = { is_on_continent = north_america }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.31.c
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = south_america }
				has_global_flag = south_america_removed
			}
		}
		set_global_flag = south_america_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.32
			}
		}
		every_state = {
			limit = { is_on_continent = south_america }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.31.e
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = australia }
				has_global_flag = australia_removed
			}
		}
		set_global_flag = australia_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.32
			}
		}
		every_state = {
			limit = { is_on_continent = australia }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.f
		trigger = {
			capital_scope = {
				NOT = {
					is_on_continent = europe
					is_on_continent = asia
					is_on_continent = middle_east
					is_on_continent = africa
				}
			}
			NOT = { has_global_flag = africa_removed }
		}
		set_global_flag = africa_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.32
			}
		}
		every_state = {
			limit = { is_on_continent = africa }
			OOO = {
				transfer_state = PREV
			}
		}
	}
}

# Continent Removal (Page 2 - NA, SA, Australia, Africa)
# Duplicate of esicolor.31. Doesn't seem like i can recall the same event from the options.
country_event = {
	id = esicolor.32
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.32"}
	title = esicolor.31.t
	desc = esicolor.31.d

	is_triggered_only = yes

	option = {
		name = esicolor.20.a
		country_event = esicolor.30
	}
	option = {
		name = esicolor.31.b
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = north_america }
				has_global_flag = north_america_removed
			}
		}
		set_global_flag = north_america_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.31
			}
		}
		every_state = {
			limit = { is_on_continent = north_america }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.31.c
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = south_america }
				has_global_flag = south_america_removed
			}
		}
		set_global_flag = south_america_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.31
			}
		}
		every_state = {
			limit = { is_on_continent = south_america }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.31.e
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = australia }
				has_global_flag = australia_removed
			}
		}
		set_global_flag = australia_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.31
			}
		}
		every_state = {
			limit = { is_on_continent = australia }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.f
		trigger = {
			capital_scope = {
				NOT = {
					is_on_continent = europe
					is_on_continent = asia
					is_on_continent = middle_east
					is_on_continent = africa
				}
			}
			NOT = { has_global_flag = africa_removed }
		}
		set_global_flag = africa_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = north_america_removed
					has_global_flag = south_america_removed
					has_global_flag = australia_removed
					AND = {
						capital_on_continent_group_2 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.30

			else = {
				country_event = esicolor.31
			}
		}
		every_state = {
			limit = { is_on_continent = africa }
			OOO = {
				transfer_state = PREV
			}
		}
	}
}

# Military Advisor Levels
country_event = {
	id = esicolor.35
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.35"}
	title = esicolor.35.t
	desc = esicolor.35.d

	is_triggered_only = yes

	option = {
		name = esicolor.35.a
		country_event = esicolor.39
	}
	option = {
		name = esicolor.35.b
		country_event = esicolor.39
		hidden_effect = {
			every_country = {
				set_global_flag = military_advisor_levels_1
				randomise_military_advisor_levels = yes
				clr_global_flag = military_advisor_levels_1
			}
		}
	}
	option = {
		name = esicolor.35.c
		country_event = esicolor.39
		hidden_effect = {
			every_country = {
				set_global_flag = military_advisor_levels_2
				randomise_military_advisor_levels = yes
				clr_global_flag = military_advisor_levels_2
			}
		}
	}
	option = {
		name = esicolor.35.e
		country_event = esicolor.39
		custom_effect_tooltip = esicolor.35.e_tt1
		random_list = {
			seed = random
			40 = {
				custom_effect_tooltip = esicolor.35.e_tt2
			}
			30 = {
				custom_effect_tooltip = esicolor.35.e_tt3
			}
			20 = {
				custom_effect_tooltip = esicolor.35.e_tt4
			}
		}
		hidden_effect = {
			every_country = {
				randomise_military_advisor_levels = yes
			}
		}
	}
}

# Continent Removal (Page 1 - Europe, Asia, ME, Africa)
# Duplicate of esicolor.20. Doesn't seem like i can recall the same event from the options.
country_event = {
	id = esicolor.36
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.36"}
	title = esicolor.20.t
	desc = esicolor.20.d

	is_triggered_only = yes

	option = {
		name = esicolor.20.a
		country_event = esicolor.31
	}
	option = {
		name = esicolor.20.b
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = europe }
				has_global_flag = europe_removed
			}
		}
		set_global_flag = europe_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.20
			}
		}
		every_state = {
			limit = { is_on_continent = europe }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.c
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = asia }
				has_global_flag = asia_removed
			}
		}
		set_global_flag = asia_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.20
			}
		}
		every_state = {
			limit = { is_on_continent = asia }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.e
		trigger = {
			NOT = {
				capital_scope = { is_on_continent = middle_east }
				has_global_flag = middle_east_removed
			}
		}
		set_global_flag = middle_east_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.20
			}
		}
		every_state = {
			limit = { is_on_continent = middle_east }
			OOO = {
				transfer_state = PREV
			}
		}
	}
	option = {
		name = esicolor.20.f
		trigger = {
			capital_scope = {
				NOT = {
					is_on_continent = north_america
					is_on_continent = south_america
					is_on_continent = australia
					is_on_continent = africa
				}
			}
			NOT = { has_global_flag = africa_removed }
		}
		set_global_flag = africa_removed
		if = {
			limit = {
				count_triggers = {
					amount = 3

					has_global_flag = europe_removed
					has_global_flag = asia_removed
					has_global_flag = middle_east_removed
					AND = {
						capital_on_continent_group_1 = yes
						has_global_flag = africa_removed
					}
				}
			}

			country_event = esicolor.31

			else = {
				country_event = esicolor.20
			}
		}
		every_state = {
			limit = { is_on_continent = africa }
			OOO = {
				transfer_state = PREV
			}
		}
	}
}

# Research Slots
country_event = {
	id = esicolor.37
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.37"}
	title = esicolor.37.t
	desc = esicolor.37.d

	is_triggered_only = yes

	option = {
		name = esicolor.37.a
		country_event = esicolor.14
		every_country = {
			set_research_slots = 3
		}
	}
	option = {
		name = esicolor.37.b
		country_event = esicolor.14
		every_country = {
			set_research_slots = 2
		}
	}
	option = {
		name = esicolor.37.c
		country_event = esicolor.14
		every_country = {
			set_research_slots = 1
		}
	}
	option = {
		name = esicolor.37.e
		country_event = esicolor.14
		every_country = {
			randomise_research_slots = yes
		}
	}
}

# Resource Prospecting Decisions
country_event = {
	id = esicolor.38
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.38"}
	title = esicolor.38.t
	desc = esicolor.38.d

	is_triggered_only = yes

	option = {
		name = esicolor.38.a
		country_event = esicolor.10
		clr_global_flag = prospect_for_resources_disabled
	}
	option = {
		name = esicolor.38.b
		country_event = esicolor.10
		set_global_flag = prospect_for_resources_disabled
	}
}

# Designers/MIOs (Generic or Specific)
country_event = {
	id = esicolor.39
	immediate = {log = "[GetDateText]: [Root.GetName]: event esicolor.39"}
	title = esicolor.39.t
	desc = esicolor.39.d

	is_triggered_only = yes

	option = {
		name = esicolor.39.a
		country_event = esicolor.23
		clr_global_flag = custom_designers_only
		clr_global_flag = custom_designers_only_core
		clr_global_flag = custom_designers_only_ownership
	}
	option = {
		name = esicolor.39.b
		country_event = esicolor.25
		set_global_flag = custom_designers_only
		set_global_flag = custom_designers_only_core
	}
	option = {
		name = esicolor.39.c
		country_event = esicolor.25
		set_global_flag = custom_designers_only
		set_global_flag = custom_designers_only_ownership
	}
}
